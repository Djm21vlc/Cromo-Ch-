(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();function N0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ku={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cm;function Bv(){if(Cm)return Al;Cm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(s,r,c){var p=null;if(c!==void 0&&(p=""+c),r.key!==void 0&&(p=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:s,key:p,ref:r!==void 0?r:null,props:c}}return Al.Fragment=t,Al.jsx=o,Al.jsxs=o,Al}var Am;function Fv(){return Am||(Am=1,ku.exports=Bv()),ku.exports}var v=Fv(),Lu={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function Jv(){if(Nm)return Te;Nm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function B(A,z,W){this.props=A,this.context=z,this.refs=M,this.updater=W||w}B.prototype.isReactComponent={},B.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},B.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function K(){}K.prototype=B.prototype;function Y(A,z,W){this.props=A,this.context=z,this.refs=M,this.updater=W||w}var V=Y.prototype=new K;V.constructor=Y,k(V,B.prototype),V.isPureReactComponent=!0;var q=Array.isArray;function ne(){}var X={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function Z(A,z,W){var ee=W.ref;return{$$typeof:i,type:A,key:z,ref:ee!==void 0?ee:null,props:W}}function re(A,z){return Z(A.type,z,A.props)}function xe(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function Ne(A){var z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(W){return z[W]})}var ue=/\/+/g;function me(A,z){return typeof A=="object"&&A!==null&&A.key!=null?Ne(""+A.key):z.toString(36)}function ge(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ne,ne):(A.status="pending",A.then(function(z){A.status==="pending"&&(A.status="fulfilled",A.value=z)},function(z){A.status==="pending"&&(A.status="rejected",A.reason=z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function G(A,z,W,ee,fe){var I=typeof A;(I==="undefined"||I==="boolean")&&(A=null);var j=!1;if(A===null)j=!0;else switch(I){case"bigint":case"string":case"number":j=!0;break;case"object":switch(A.$$typeof){case i:case t:j=!0;break;case x:return j=A._init,G(j(A._payload),z,W,ee,fe)}}if(j)return fe=fe(A),j=ee===""?"."+me(A,0):ee,q(fe)?(W="",j!=null&&(W=j.replace(ue,"$&/")+"/"),G(fe,z,W,"",function(it){return it})):fe!=null&&(xe(fe)&&(fe=re(fe,W+(fe.key==null||A&&A.key===fe.key?"":(""+fe.key).replace(ue,"$&/")+"/")+j)),z.push(fe)),1;j=0;var le=ee===""?".":ee+":";if(q(A))for(var ae=0;ae<A.length;ae++)ee=A[ae],I=le+me(ee,ae),j+=G(ee,z,W,I,fe);else if(ae=E(A),typeof ae=="function")for(A=ae.call(A),ae=0;!(ee=A.next()).done;)ee=ee.value,I=le+me(ee,ae++),j+=G(ee,z,W,I,fe);else if(I==="object"){if(typeof A.then=="function")return G(ge(A),z,W,ee,fe);throw z=String(A),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return j}function $(A,z,W){if(A==null)return A;var ee=[],fe=0;return G(A,ee,"","",function(I){return z.call(W,I,fe++)}),ee}function te(A){if(A._status===-1){var z=A._result;z=z(),z.then(function(W){(A._status===0||A._status===-1)&&(A._status=1,A._result=W)},function(W){(A._status===0||A._status===-1)&&(A._status=2,A._result=W)}),A._status===-1&&(A._status=0,A._result=z)}if(A._status===1)return A._result.default;throw A._result}var Se=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Re={map:$,forEach:function(A,z,W){$(A,function(){z.apply(this,arguments)},W)},count:function(A){var z=0;return $(A,function(){z++}),z},toArray:function(A){return $(A,function(z){return z})||[]},only:function(A){if(!xe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Te.Activity=b,Te.Children=Re,Te.Component=B,Te.Fragment=o,Te.Profiler=r,Te.PureComponent=Y,Te.StrictMode=s,Te.Suspense=y,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Te.__COMPILER_RUNTIME={__proto__:null,c:function(A){return X.H.useMemoCache(A)}},Te.cache=function(A){return function(){return A.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(A,z,W){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ee=k({},A.props),fe=A.key;if(z!=null)for(I in z.key!==void 0&&(fe=""+z.key),z)!de.call(z,I)||I==="key"||I==="__self"||I==="__source"||I==="ref"&&z.ref===void 0||(ee[I]=z[I]);var I=arguments.length-2;if(I===1)ee.children=W;else if(1<I){for(var j=Array(I),le=0;le<I;le++)j[le]=arguments[le+2];ee.children=j}return Z(A.type,fe,ee)},Te.createContext=function(A){return A={$$typeof:p,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},Te.createElement=function(A,z,W){var ee,fe={},I=null;if(z!=null)for(ee in z.key!==void 0&&(I=""+z.key),z)de.call(z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(fe[ee]=z[ee]);var j=arguments.length-2;if(j===1)fe.children=W;else if(1<j){for(var le=Array(j),ae=0;ae<j;ae++)le[ae]=arguments[ae+2];fe.children=le}if(A&&A.defaultProps)for(ee in j=A.defaultProps,j)fe[ee]===void 0&&(fe[ee]=j[ee]);return Z(A,I,fe)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(A){return{$$typeof:g,render:A}},Te.isValidElement=xe,Te.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:te}},Te.memo=function(A,z){return{$$typeof:h,type:A,compare:z===void 0?null:z}},Te.startTransition=function(A){var z=X.T,W={};X.T=W;try{var ee=A(),fe=X.S;fe!==null&&fe(W,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(ne,Se)}catch(I){Se(I)}finally{z!==null&&W.types!==null&&(z.types=W.types),X.T=z}},Te.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Te.use=function(A){return X.H.use(A)},Te.useActionState=function(A,z,W){return X.H.useActionState(A,z,W)},Te.useCallback=function(A,z){return X.H.useCallback(A,z)},Te.useContext=function(A){return X.H.useContext(A)},Te.useDebugValue=function(){},Te.useDeferredValue=function(A,z){return X.H.useDeferredValue(A,z)},Te.useEffect=function(A,z){return X.H.useEffect(A,z)},Te.useEffectEvent=function(A){return X.H.useEffectEvent(A)},Te.useId=function(){return X.H.useId()},Te.useImperativeHandle=function(A,z,W){return X.H.useImperativeHandle(A,z,W)},Te.useInsertionEffect=function(A,z){return X.H.useInsertionEffect(A,z)},Te.useLayoutEffect=function(A,z){return X.H.useLayoutEffect(A,z)},Te.useMemo=function(A,z){return X.H.useMemo(A,z)},Te.useOptimistic=function(A,z){return X.H.useOptimistic(A,z)},Te.useReducer=function(A,z,W){return X.H.useReducer(A,z,W)},Te.useRef=function(A){return X.H.useRef(A)},Te.useState=function(A){return X.H.useState(A)},Te.useSyncExternalStore=function(A,z,W){return X.H.useSyncExternalStore(A,z,W)},Te.useTransition=function(){return X.H.useTransition()},Te.version="19.2.4",Te}var wm;function fc(){return wm||(wm=1,Lu.exports=Jv()),Lu.exports}var F=fc();const pc=N0(F);var Gu={exports:{}},Nl={},Hu={exports:{}},qu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function Yv(){return Rm||(Rm=1,(function(i){function t(G,$){var te=G.length;G.push($);e:for(;0<te;){var Se=te-1>>>1,Re=G[Se];if(0<r(Re,$))G[Se]=$,G[te]=Re,te=Se;else break e}}function o(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var $=G[0],te=G.pop();if(te!==$){G[0]=te;e:for(var Se=0,Re=G.length,A=Re>>>1;Se<A;){var z=2*(Se+1)-1,W=G[z],ee=z+1,fe=G[ee];if(0>r(W,te))ee<Re&&0>r(fe,W)?(G[Se]=fe,G[ee]=te,Se=ee):(G[Se]=W,G[z]=te,Se=z);else if(ee<Re&&0>r(fe,te))G[Se]=fe,G[ee]=te,Se=ee;else break e}}return $}function r(G,$){var te=G.sortIndex-$.sortIndex;return te!==0?te:G.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],h=[],x=1,b=null,_=3,E=!1,w=!1,k=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function V(G){for(var $=o(h);$!==null;){if($.callback===null)s(h);else if($.startTime<=G)s(h),$.sortIndex=$.expirationTime,t(y,$);else break;$=o(h)}}function q(G){if(k=!1,V(G),!w)if(o(y)!==null)w=!0,ne||(ne=!0,Ne());else{var $=o(h);$!==null&&ge(q,$.startTime-G)}}var ne=!1,X=-1,de=5,Z=-1;function re(){return M?!0:!(i.unstable_now()-Z<de)}function xe(){if(M=!1,ne){var G=i.unstable_now();Z=G;var $=!0;try{e:{w=!1,k&&(k=!1,K(X),X=-1),E=!0;var te=_;try{t:{for(V(G),b=o(y);b!==null&&!(b.expirationTime>G&&re());){var Se=b.callback;if(typeof Se=="function"){b.callback=null,_=b.priorityLevel;var Re=Se(b.expirationTime<=G);if(G=i.unstable_now(),typeof Re=="function"){b.callback=Re,V(G),$=!0;break t}b===o(y)&&s(y),V(G)}else s(y);b=o(y)}if(b!==null)$=!0;else{var A=o(h);A!==null&&ge(q,A.startTime-G),$=!1}}break e}finally{b=null,_=te,E=!1}$=void 0}}finally{$?Ne():ne=!1}}}var Ne;if(typeof Y=="function")Ne=function(){Y(xe)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,me=ue.port2;ue.port1.onmessage=xe,Ne=function(){me.postMessage(null)}}else Ne=function(){B(xe,0)};function ge(G,$){X=B(function(){G(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(G){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var te=_;_=$;try{return G()}finally{_=te}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(G,$){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var te=_;_=G;try{return $()}finally{_=te}},i.unstable_scheduleCallback=function(G,$,te){var Se=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Se+te:Se):te=Se,G){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=te+Re,G={id:x++,callback:$,priorityLevel:G,startTime:te,expirationTime:Re,sortIndex:-1},te>Se?(G.sortIndex=te,t(h,G),o(y)===null&&G===o(h)&&(k?(K(X),X=-1):k=!0,ge(q,te-Se))):(G.sortIndex=Re,t(y,G),w||E||(w=!0,ne||(ne=!0,Ne()))),G},i.unstable_shouldYield=re,i.unstable_wrapCallback=function(G){var $=_;return function(){var te=_;_=$;try{return G.apply(this,arguments)}finally{_=te}}}})(qu)),qu}var Mm;function jv(){return Mm||(Mm=1,Hu.exports=Yv()),Hu.exports}var zu={exports:{}},Ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function Kv(){if(Im)return Ct;Im=1;var i=fc();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,h,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:y,containerInfo:h,implementation:x}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ct.createPortal=function(y,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return c(y,h,null,x)},Ct.flushSync=function(y){var h=p.T,x=s.p;try{if(p.T=null,s.p=2,y)return y()}finally{p.T=h,s.p=x,s.d.f()}},Ct.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},Ct.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Ct.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var x=h.as,b=g(x,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:E}):x==="script"&&s.d.X(y,{crossOrigin:b,integrity:_,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ct.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=g(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},Ct.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,b=g(x,h.crossOrigin);s.d.L(y,x,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ct.preloadModule=function(y,h){if(typeof y=="string")if(h){var x=g(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},Ct.requestFormReset=function(y){s.d.r(y)},Ct.unstable_batchedUpdates=function(y,h){return y(h)},Ct.useFormState=function(y,h,x){return p.H.useFormState(y,h,x)},Ct.useFormStatus=function(){return p.H.useHostTransitionStatus()},Ct.version="19.2.4",Ct}var Dm;function Xv(){if(Dm)return zu.exports;Dm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),zu.exports=Kv(),zu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function $v(){if(Um)return Nl;Um=1;var i=jv(),t=fc(),o=Xv();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function h(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,a=n;;){var f=l.return;if(f===null)break;var m=f.alternate;if(m===null){if(a=f.return,a!==null){l=a;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===l)return y(f),e;if(m===a)return y(f),n;m=m.sibling}throw Error(s(188))}if(l.return!==a.return)l=f,a=m;else{for(var S=!1,T=f.child;T;){if(T===l){S=!0,l=f,a=m;break}if(T===a){S=!0,a=f,l=m;break}T=T.sibling}if(!S){for(T=m.child;T;){if(T===l){S=!0,l=m,a=f;break}if(T===a){S=!0,a=m,l=f;break}T=T.sibling}if(!S)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=xe&&e[xe]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Symbol.for("react.client.reference");function me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case B:return"Profiler";case M:return"StrictMode";case q:return"Suspense";case ne:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case Y:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:me(e.type)||"Memo";case de:n=e._payload,e=e._init;try{return me(e(n))}catch{}}return null}var ge=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Se=[],Re=-1;function A(e){return{current:e}}function z(e){0>Re||(e.current=Se[Re],Se[Re]=null,Re--)}function W(e,n){Re++,Se[Re]=e.current,e.current=n}var ee=A(null),fe=A(null),I=A(null),j=A(null);function le(e,n){switch(W(I,n),W(fe,e),W(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Kp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Kp(n),e=Xp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(ee),W(ee,e)}function ae(){z(ee),z(fe),z(I)}function it(e){e.memoizedState!==null&&W(j,e);var n=ee.current,l=Xp(n,e.type);n!==l&&(W(fe,e),W(ee,l))}function Be(e){fe.current===e&&(z(ee),z(fe)),j.current===e&&(z(j),_l._currentValue=te)}var $e,Ye;function Le(e){if($e===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);$e=n&&n[1]||"",Ye=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+e+Ye}var ht=!1;function he(e,n){if(!e||ht)return"";ht=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var L=H}Reflect.construct(e,[],J)}else{try{J.call()}catch(H){L=H}e.call(J.prototype)}}else{try{throw Error()}catch(H){L=H}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&L&&typeof H.stack=="string")return[H.stack,L.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=a.DetermineComponentFrameRoot(),S=m[0],T=m[1];if(S&&T){var C=S.split(`
`),U=T.split(`
`);for(f=a=0;a<C.length&&!C[a].includes("DetermineComponentFrameRoot");)a++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(a===C.length||f===U.length)for(a=C.length-1,f=U.length-1;1<=a&&0<=f&&C[a]!==U[f];)f--;for(;1<=a&&0<=f;a--,f--)if(C[a]!==U[f]){if(a!==1||f!==1)do if(a--,f--,0>f||C[a]!==U[f]){var O=`
`+C[a].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=a&&0<=f);break}}}finally{ht=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Le(l):""}function He(e,n){switch(e.tag){case 26:case 27:case 5:return Le(e.type);case 16:return Le("Lazy");case 13:return e.child!==n&&n!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return he(e.type,!1);case 11:return he(e.type.render,!1);case 1:return he(e.type,!0);case 31:return Le("Activity");default:return""}}function Ze(e){try{var n="",l=null;do n+=He(e,l),l=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ge=Object.prototype.hasOwnProperty,Et=i.unstable_scheduleCallback,ot=i.unstable_cancelCallback,kt=i.unstable_shouldYield,ut=i.unstable_requestPaint,qe=i.unstable_now,Jn=i.unstable_getCurrentPriorityLevel,ve=i.unstable_ImmediatePriority,Ce=i.unstable_UserBlockingPriority,wt=i.unstable_NormalPriority,ko=i.unstable_LowPriority,ql=i.unstable_IdlePriority,Sa=i.log,ba=i.unstable_setDisableYieldValue,vi=null,Rt=null;function cn(e){if(typeof Sa=="function"&&ba(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(vi,e)}catch{}}var Mt=Math.clz32?Math.clz32:dn,Q=Math.log,We=Math.LN2;function dn(e){return e>>>=0,e===0?32:31-(Q(e)/We|0)|0}var $t=256,zl=262144,Ol=4194304;function xi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vl(e,n,l){var a=e.pendingLanes;if(a===0)return 0;var f=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var T=a&134217727;return T!==0?(a=T&~m,a!==0?f=xi(a):(S&=T,S!==0?f=xi(S):l||(l=T&~e,l!==0&&(f=xi(l))))):(T=a&~m,T!==0?f=xi(T):S!==0?f=xi(S):l||(l=a&~e,l!==0&&(f=xi(l)))),f===0?0:n!==0&&n!==f&&(n&m)===0&&(m=f&-f,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:f}function Lo(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(){var e=Ol;return Ol<<=1,(Ol&62914560)===0&&(Ol=4194304),e}function _a(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Go(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ig(e,n,l,a,f,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(l=S&~l;0<l;){var O=31-Mt(l),J=1<<O;T[O]=0,C[O]=-1;var L=U[O];if(L!==null)for(U[O]=null,O=0;O<L.length;O++){var H=L[O];H!==null&&(H.lane&=-536870913)}l&=~J}a!==0&&Rc(e,a,0),m!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function Rc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-Mt(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Mc(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var a=31-Mt(l),f=1<<a;f&n|e[a]&n&&(e[a]|=n),l&=~f}}function Ic(e,n){var l=n&-n;return l=(l&42)!==0?1:Ta(l),(l&(e.suspendedLanes|n))!==0?0:l}function Ta(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ea(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Dc(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:vm(e.type))}function Uc(e,n){var l=$.p;try{return $.p=e,n()}finally{$.p=l}}var Yn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Yn,Lt="__reactProps$"+Yn,zi="__reactContainer$"+Yn,Ca="__reactEvents$"+Yn,Dg="__reactListeners$"+Yn,Ug="__reactHandles$"+Yn,kc="__reactResources$"+Yn,Ho="__reactMarker$"+Yn;function Aa(e){delete e[xt],delete e[Lt],delete e[Ca],delete e[Dg],delete e[Ug]}function Oi(e){var n=e[xt];if(n)return n;for(var l=e.parentNode;l;){if(n=l[zi]||l[xt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=nm(e);e!==null;){if(l=e[xt])return l;e=nm(e)}return n}e=l,l=e.parentNode}return null}function Vi(e){if(e=e[xt]||e[zi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function qo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Pi(e){var n=e[kc];return n||(n=e[kc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function gt(e){e[Ho]=!0}var Lc=new Set,Gc={};function Si(e,n){Bi(e,n),Bi(e+"Capture",n)}function Bi(e,n){for(Gc[e]=n,e=0;e<n.length;e++)Lc.add(n[e])}var kg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},qc={};function Lg(e){return Ge.call(qc,e)?!0:Ge.call(Hc,e)?!1:kg.test(e)?qc[e]=!0:(Hc[e]=!0,!1)}function Pl(e,n,l){if(Lg(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Bl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function _n(e,n,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+a)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gg(e,n,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Na(e){if(!e._valueTracker){var n=zc(e)?"checked":"value";e._valueTracker=Gg(e,n,""+e[n])}}function Oc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),a="";return e&&(a=zc(e)?e.checked?"true":"false":e.value),e=a,e!==l?(n.setValue(e),!0):!1}function Fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hg=/[\n"\\]/g;function Zt(e){return e.replace(Hg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function wa(e,n,l,a,f,m,S,T){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Qt(n)):e.value!==""+Qt(n)&&(e.value=""+Qt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?Ra(e,S,Qt(n)):l!=null?Ra(e,S,Qt(l)):a!=null&&e.removeAttribute("value"),f==null&&m!=null&&(e.defaultChecked=!!m),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Qt(T):e.removeAttribute("name")}function Vc(e,n,l,a,f,m,S,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Na(e);return}l=l!=null?""+Qt(l):"",n=n!=null?""+Qt(n):l,T||n===e.value||(e.value=n),e.defaultValue=n}a=a??f,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=T?e.checked:!!a,e.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Na(e)}function Ra(e,n,l){n==="number"&&Fl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Fi(e,n,l,a){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Qt(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,a&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Pc(e,n,l){if(n!=null&&(n=""+Qt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Qt(l):""}function Bc(e,n,l,a){if(n==null){if(a!=null){if(l!=null)throw Error(s(92));if(ge(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),n=l}l=Qt(n),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Na(e)}function Ji(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var qg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fc(e,n,l){var a=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,l):typeof l!="number"||l===0||qg.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Jc(e,n,l){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var f in n)a=n[f],n.hasOwnProperty(f)&&l[f]!==a&&Fc(e,f,a)}else for(var m in n)n.hasOwnProperty(m)&&Fc(e,m,n[m])}function Ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Og=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jl(e){return Og.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tn(){}var Ia=null;function Da(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yi=null,ji=null;function Yc(e){var n=Vi(e);if(n&&(e=n.stateNode)){var l=e[Lt]||null;e:switch(e=n.stateNode,n.type){case"input":if(wa(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Zt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var a=l[n];if(a!==e&&a.form===e.form){var f=a[Lt]||null;if(!f)throw Error(s(90));wa(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)a=l[n],a.form===e.form&&Oc(a)}break e;case"textarea":Pc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Fi(e,!!l.multiple,n,!1)}}}var Ua=!1;function jc(e,n,l){if(Ua)return e(n,l);Ua=!0;try{var a=e(n);return a}finally{if(Ua=!1,(Yi!==null||ji!==null)&&(Ds(),Yi&&(n=Yi,e=ji,ji=Yi=null,Yc(n),e)))for(n=0;n<e.length;n++)Yc(e[n])}}function zo(e,n){var l=e.stateNode;if(l===null)return null;var a=l[Lt]||null;if(a===null)return null;l=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(En)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){ka=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{ka=!1}var jn=null,La=null,Yl=null;function Kc(){if(Yl)return Yl;var e,n=La,l=n.length,a,f="value"in jn?jn.value:jn.textContent,m=f.length;for(e=0;e<l&&n[e]===f[e];e++);var S=l-e;for(a=1;a<=S&&n[l-a]===f[m-a];a++);return Yl=f.slice(e,1<a?1-a:void 0)}function jl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function Xc(){return!1}function Gt(e){function n(l,a,f,m,S){this._reactName=l,this._targetInst=f,this.type=a,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(l=e[T],this[T]=l?l(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Kl:Xc,this.isPropagationStopped=Xc,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xl=Gt(bi),Vo=b({},bi,{view:0,detail:0}),Vg=Gt(Vo),Ga,Ha,Po,$l=b({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:za,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Po&&(Po&&e.type==="mousemove"?(Ga=e.screenX-Po.screenX,Ha=e.screenY-Po.screenY):Ha=Ga=0,Po=e),Ga)},movementY:function(e){return"movementY"in e?e.movementY:Ha}}),$c=Gt($l),Pg=b({},$l,{dataTransfer:0}),Bg=Gt(Pg),Fg=b({},Vo,{relatedTarget:0}),qa=Gt(Fg),Jg=b({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Yg=Gt(Jg),jg=b({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kg=Gt(jg),Xg=b({},bi,{data:0}),Qc=Gt(Xg),$g={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Zg[e])?!!n[e]:!1}function za(){return Wg}var ey=b({},Vo,{key:function(e){if(e.key){var n=$g[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:za,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ty=Gt(ey),ny=b({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=Gt(ny),iy=b({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:za}),oy=Gt(iy),ly=b({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),sy=Gt(ly),ay=b({},$l,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ry=Gt(ay),uy=b({},bi,{newState:0,oldState:0}),cy=Gt(uy),dy=[9,13,27,32],Oa=En&&"CompositionEvent"in window,Bo=null;En&&"documentMode"in document&&(Bo=document.documentMode);var fy=En&&"TextEvent"in window&&!Bo,Wc=En&&(!Oa||Bo&&8<Bo&&11>=Bo),ed=" ",td=!1;function nd(e,n){switch(e){case"keyup":return dy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function py(e,n){switch(e){case"compositionend":return id(n);case"keypress":return n.which!==32?null:(td=!0,ed);case"textInput":return e=n.data,e===ed&&td?null:e;default:return null}}function my(e,n){if(Ki)return e==="compositionend"||!Oa&&nd(e,n)?(e=Kc(),Yl=La=jn=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Wc&&n.locale!=="ko"?null:n.data;default:return null}}var hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!hy[e.type]:n==="textarea"}function ld(e,n,l,a){Yi?ji?ji.push(a):ji=[a]:Yi=a,n=zs(n,"onChange"),0<n.length&&(l=new Xl("onChange","change",null,l,a),e.push({event:l,listeners:n}))}var Fo=null,Jo=null;function gy(e){Pp(e,0)}function Ql(e){var n=qo(e);if(Oc(n))return e}function sd(e,n){if(e==="change")return n}var ad=!1;if(En){var Va;if(En){var Pa="oninput"in document;if(!Pa){var rd=document.createElement("div");rd.setAttribute("oninput","return;"),Pa=typeof rd.oninput=="function"}Va=Pa}else Va=!1;ad=Va&&(!document.documentMode||9<document.documentMode)}function ud(){Fo&&(Fo.detachEvent("onpropertychange",cd),Jo=Fo=null)}function cd(e){if(e.propertyName==="value"&&Ql(Jo)){var n=[];ld(n,Jo,e,Da(e)),jc(gy,n)}}function yy(e,n,l){e==="focusin"?(ud(),Fo=n,Jo=l,Fo.attachEvent("onpropertychange",cd)):e==="focusout"&&ud()}function vy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ql(Jo)}function xy(e,n){if(e==="click")return Ql(n)}function Sy(e,n){if(e==="input"||e==="change")return Ql(n)}function by(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Bt=typeof Object.is=="function"?Object.is:by;function Yo(e,n){if(Bt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),a=Object.keys(n);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var f=l[a];if(!Ge.call(n,f)||!Bt(e[f],n[f]))return!1}return!0}function dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fd(e,n){var l=dd(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=n&&a>=n)return{node:l,offset:n-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dd(l)}}function pd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?pd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function md(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Fl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Fl(e.document)}return n}function Ba(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var _y=En&&"documentMode"in document&&11>=document.documentMode,Xi=null,Fa=null,jo=null,Ja=!1;function hd(e,n,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ja||Xi==null||Xi!==Fl(a)||(a=Xi,"selectionStart"in a&&Ba(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),jo&&Yo(jo,a)||(jo=a,a=zs(Fa,"onSelect"),0<a.length&&(n=new Xl("onSelect","select",null,n,l),e.push({event:n,listeners:a}),n.target=Xi)))}function _i(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var $i={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},Ya={},gd={};En&&(gd=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Ti(e){if(Ya[e])return Ya[e];if(!$i[e])return e;var n=$i[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in gd)return Ya[e]=n[l];return e}var yd=Ti("animationend"),vd=Ti("animationiteration"),xd=Ti("animationstart"),Ty=Ti("transitionrun"),Ey=Ti("transitionstart"),Cy=Ti("transitioncancel"),Sd=Ti("transitionend"),bd=new Map,ja="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ja.push("scrollEnd");function fn(e,n){bd.set(e,n),Si(n,[e])}var Zl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],Qi=0,Ka=0;function Wl(){for(var e=Qi,n=Ka=Qi=0;n<e;){var l=Wt[n];Wt[n++]=null;var a=Wt[n];Wt[n++]=null;var f=Wt[n];Wt[n++]=null;var m=Wt[n];if(Wt[n++]=null,a!==null&&f!==null){var S=a.pending;S===null?f.next=f:(f.next=S.next,S.next=f),a.pending=f}m!==0&&_d(l,f,m)}}function es(e,n,l,a){Wt[Qi++]=e,Wt[Qi++]=n,Wt[Qi++]=l,Wt[Qi++]=a,Ka|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Xa(e,n,l,a){return es(e,n,l,a),ts(e)}function Ei(e,n){return es(e,null,null,n),ts(e)}function _d(e,n,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var f=!1,m=e.return;m!==null;)m.childLanes|=l,a=m.alternate,a!==null&&(a.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(f=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,f&&n!==null&&(f=31-Mt(l),e=m.hiddenUpdates,a=e[f],a===null?e[f]=[n]:a.push(n),n.lane=l|536870912),m):null}function ts(e){if(50<hl)throw hl=0,ou=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Zi={};function Ay(e,n,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,n,l,a){return new Ay(e,n,l,a)}function $a(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cn(e,n){var l=e.alternate;return l===null?(l=Ft(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Td(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ns(e,n,l,a,f,m){var S=0;if(a=e,typeof e=="function")$a(e)&&(S=1);else if(typeof e=="string")S=Iv(e,l,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Ft(31,l,n,f),e.elementType=Z,e.lanes=m,e;case k:return Ci(l.children,f,m,n);case M:S=8,f|=24;break;case B:return e=Ft(12,l,n,f|2),e.elementType=B,e.lanes=m,e;case q:return e=Ft(13,l,n,f),e.elementType=q,e.lanes=m,e;case ne:return e=Ft(19,l,n,f),e.elementType=ne,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:S=10;break e;case K:S=9;break e;case V:S=11;break e;case X:S=14;break e;case de:S=16,a=null;break e}S=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return n=Ft(S,l,n,f),n.elementType=e,n.type=a,n.lanes=m,n}function Ci(e,n,l,a){return e=Ft(7,e,a,n),e.lanes=l,e}function Qa(e,n,l){return e=Ft(6,e,null,n),e.lanes=l,e}function Ed(e){var n=Ft(18,null,null,0);return n.stateNode=e,n}function Za(e,n,l){return n=Ft(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Cd=new WeakMap;function en(e,n){if(typeof e=="object"&&e!==null){var l=Cd.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Ze(n)},Cd.set(e,n),n)}return{value:e,source:n,stack:Ze(n)}}var Wi=[],eo=0,is=null,Ko=0,tn=[],nn=0,Kn=null,vn=1,xn="";function An(e,n){Wi[eo++]=Ko,Wi[eo++]=is,is=e,Ko=n}function Ad(e,n,l){tn[nn++]=vn,tn[nn++]=xn,tn[nn++]=Kn,Kn=e;var a=vn;e=xn;var f=32-Mt(a)-1;a&=~(1<<f),l+=1;var m=32-Mt(n)+f;if(30<m){var S=f-f%5;m=(a&(1<<S)-1).toString(32),a>>=S,f-=S,vn=1<<32-Mt(n)+f|l<<f|a,xn=m+e}else vn=1<<m|l<<f|a,xn=e}function Wa(e){e.return!==null&&(An(e,1),Ad(e,1,0))}function er(e){for(;e===is;)is=Wi[--eo],Wi[eo]=null,Ko=Wi[--eo],Wi[eo]=null;for(;e===Kn;)Kn=tn[--nn],tn[nn]=null,xn=tn[--nn],tn[nn]=null,vn=tn[--nn],tn[nn]=null}function Nd(e,n){tn[nn++]=vn,tn[nn++]=xn,tn[nn++]=Kn,vn=n.id,xn=n.overflow,Kn=e}var St=null,et=null,ke=!1,Xn=null,on=!1,tr=Error(s(519));function $n(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(en(n,e)),tr}function wd(e){var n=e.stateNode,l=e.type,a=e.memoizedProps;switch(n[xt]=e,n[Lt]=a,l){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(l=0;l<yl.length;l++)Ie(yl[l],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),Vc(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),Bc(n,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||a.suppressHydrationWarning===!0||Yp(n.textContent,l)?(a.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),a.onScroll!=null&&Ie("scroll",n),a.onScrollEnd!=null&&Ie("scrollend",n),a.onClick!=null&&(n.onclick=Tn),n=!0):n=!1,n||$n(e,!0)}function Rd(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:St=St.return}}function to(e){if(e!==St)return!1;if(!ke)return Rd(e),ke=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||xu(e.type,e.memoizedProps)),l=!l),l&&et&&$n(e),Rd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));et=tm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));et=tm(e)}else n===27?(n=et,ci(e.type)?(e=Eu,Eu=null,et=e):et=n):et=St?sn(e.stateNode.nextSibling):null;return!0}function Ai(){et=St=null,ke=!1}function nr(){var e=Xn;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Xn=null),e}function Xo(e){Xn===null?Xn=[e]:Xn.push(e)}var ir=A(null),Ni=null,Nn=null;function Qn(e,n,l){W(ir,n._currentValue),n._currentValue=l}function wn(e){e._currentValue=ir.current,z(ir)}function or(e,n,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===l)break;e=e.return}}function lr(e,n,l,a){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var m=f.dependencies;if(m!==null){var S=f.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=f;for(var C=0;C<n.length;C++)if(T.context===n[C]){m.lanes|=l,T=m.alternate,T!==null&&(T.lanes|=l),or(m.return,l,e),a||(S=null);break e}m=T.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(s(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),or(S,l,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function no(e,n,l,a){e=null;for(var f=n,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var T=f.type;Bt(f.pendingProps.value,S.value)||(e!==null?e.push(T):e=[T])}}else if(f===j.current){if(S=f.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}f=f.return}e!==null&&lr(n,e,l,a),n.flags|=262144}function os(e){for(e=e.firstContext;e!==null;){if(!Bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){Ni=e,Nn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function bt(e){return Md(Ni,e)}function ls(e,n){return Ni===null&&wi(e),Md(e,n)}function Md(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Nn===null){if(e===null)throw Error(s(308));Nn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Nn=Nn.next=n;return l}var Ny=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},wy=i.unstable_scheduleCallback,Ry=i.unstable_NormalPriority,ct={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sr(){return{controller:new Ny,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&wy(Ry,function(){e.controller.abort()})}var Qo=null,ar=0,io=0,oo=null;function My(e,n){if(Qo===null){var l=Qo=[];ar=0,io=cu(),oo={status:"pending",value:void 0,then:function(a){l.push(a)}}}return ar++,n.then(Id,Id),n}function Id(){if(--ar===0&&Qo!==null){oo!==null&&(oo.status="fulfilled");var e=Qo;Qo=null,io=0,oo=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Iy(e,n){var l=[],a={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(a.status="rejected",a.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),a}var Dd=G.S;G.S=function(e,n){gp=qe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&My(e,n),Dd!==null&&Dd(e,n)};var Ri=A(null);function rr(){var e=Ri.current;return e!==null?e:Qe.pooledCache}function ss(e,n){n===null?W(Ri,Ri.current):W(Ri,n.pool)}function Ud(){var e=rr();return e===null?null:{parent:ct._currentValue,pool:e}}var lo=Error(s(460)),ur=Error(s(474)),as=Error(s(542)),rs={then:function(){}};function kd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ld(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(Tn,Tn),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hd(e),e;default:if(typeof n.status=="string")n.then(Tn,Tn);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=a}},function(a){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hd(e),e}throw Ii=n,lo}}function Mi(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ii=l,lo):l}}var Ii=null;function Gd(){if(Ii===null)throw Error(s(459));var e=Ii;return Ii=null,e}function Hd(e){if(e===lo||e===as)throw Error(s(483))}var so=null,Zo=0;function us(e){var n=Zo;return Zo+=1,so===null&&(so=[]),Ld(so,e,n)}function Wo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function cs(e,n){throw n.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function qd(e){function n(R,N){if(e){var D=R.deletions;D===null?(R.deletions=[N],R.flags|=16):D.push(N)}}function l(R,N){if(!e)return null;for(;N!==null;)n(R,N),N=N.sibling;return null}function a(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function f(R,N){return R=Cn(R,N),R.index=0,R.sibling=null,R}function m(R,N,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<N?(R.flags|=67108866,N):D):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function T(R,N,D,P){return N===null||N.tag!==6?(N=Qa(D,R.mode,P),N.return=R,N):(N=f(N,D),N.return=R,N)}function C(R,N,D,P){var pe=D.type;return pe===k?O(R,N,D.props.children,P,D.key):N!==null&&(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===de&&Mi(pe)===N.type)?(N=f(N,D.props),Wo(N,D),N.return=R,N):(N=ns(D.type,D.key,D.props,null,R.mode,P),Wo(N,D),N.return=R,N)}function U(R,N,D,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=Za(D,R.mode,P),N.return=R,N):(N=f(N,D.children||[]),N.return=R,N)}function O(R,N,D,P,pe){return N===null||N.tag!==7?(N=Ci(D,R.mode,P,pe),N.return=R,N):(N=f(N,D),N.return=R,N)}function J(R,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Qa(""+N,R.mode,D),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E:return D=ns(N.type,N.key,N.props,null,R.mode,D),Wo(D,N),D.return=R,D;case w:return N=Za(N,R.mode,D),N.return=R,N;case de:return N=Mi(N),J(R,N,D)}if(ge(N)||Ne(N))return N=Ci(N,R.mode,D,null),N.return=R,N;if(typeof N.then=="function")return J(R,us(N),D);if(N.$$typeof===Y)return J(R,ls(R,N),D);cs(R,N)}return null}function L(R,N,D,P){var pe=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return pe!==null?null:T(R,N,""+D,P);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return D.key===pe?C(R,N,D,P):null;case w:return D.key===pe?U(R,N,D,P):null;case de:return D=Mi(D),L(R,N,D,P)}if(ge(D)||Ne(D))return pe!==null?null:O(R,N,D,P,null);if(typeof D.then=="function")return L(R,N,us(D),P);if(D.$$typeof===Y)return L(R,N,ls(R,D),P);cs(R,D)}return null}function H(R,N,D,P,pe){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return R=R.get(D)||null,T(N,R,""+P,pe);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case E:return R=R.get(P.key===null?D:P.key)||null,C(N,R,P,pe);case w:return R=R.get(P.key===null?D:P.key)||null,U(N,R,P,pe);case de:return P=Mi(P),H(R,N,D,P,pe)}if(ge(P)||Ne(P))return R=R.get(D)||null,O(N,R,P,pe,null);if(typeof P.then=="function")return H(R,N,D,us(P),pe);if(P.$$typeof===Y)return H(R,N,D,ls(N,P),pe);cs(N,P)}return null}function oe(R,N,D,P){for(var pe=null,ze=null,se=N,Ae=N=0,Ue=null;se!==null&&Ae<D.length;Ae++){se.index>Ae?(Ue=se,se=null):Ue=se.sibling;var Oe=L(R,se,D[Ae],P);if(Oe===null){se===null&&(se=Ue);break}e&&se&&Oe.alternate===null&&n(R,se),N=m(Oe,N,Ae),ze===null?pe=Oe:ze.sibling=Oe,ze=Oe,se=Ue}if(Ae===D.length)return l(R,se),ke&&An(R,Ae),pe;if(se===null){for(;Ae<D.length;Ae++)se=J(R,D[Ae],P),se!==null&&(N=m(se,N,Ae),ze===null?pe=se:ze.sibling=se,ze=se);return ke&&An(R,Ae),pe}for(se=a(se);Ae<D.length;Ae++)Ue=H(se,R,Ae,D[Ae],P),Ue!==null&&(e&&Ue.alternate!==null&&se.delete(Ue.key===null?Ae:Ue.key),N=m(Ue,N,Ae),ze===null?pe=Ue:ze.sibling=Ue,ze=Ue);return e&&se.forEach(function(hi){return n(R,hi)}),ke&&An(R,Ae),pe}function ye(R,N,D,P){if(D==null)throw Error(s(151));for(var pe=null,ze=null,se=N,Ae=N=0,Ue=null,Oe=D.next();se!==null&&!Oe.done;Ae++,Oe=D.next()){se.index>Ae?(Ue=se,se=null):Ue=se.sibling;var hi=L(R,se,Oe.value,P);if(hi===null){se===null&&(se=Ue);break}e&&se&&hi.alternate===null&&n(R,se),N=m(hi,N,Ae),ze===null?pe=hi:ze.sibling=hi,ze=hi,se=Ue}if(Oe.done)return l(R,se),ke&&An(R,Ae),pe;if(se===null){for(;!Oe.done;Ae++,Oe=D.next())Oe=J(R,Oe.value,P),Oe!==null&&(N=m(Oe,N,Ae),ze===null?pe=Oe:ze.sibling=Oe,ze=Oe);return ke&&An(R,Ae),pe}for(se=a(se);!Oe.done;Ae++,Oe=D.next())Oe=H(se,R,Ae,Oe.value,P),Oe!==null&&(e&&Oe.alternate!==null&&se.delete(Oe.key===null?Ae:Oe.key),N=m(Oe,N,Ae),ze===null?pe=Oe:ze.sibling=Oe,ze=Oe);return e&&se.forEach(function(Pv){return n(R,Pv)}),ke&&An(R,Ae),pe}function Xe(R,N,D,P){if(typeof D=="object"&&D!==null&&D.type===k&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case E:e:{for(var pe=D.key;N!==null;){if(N.key===pe){if(pe=D.type,pe===k){if(N.tag===7){l(R,N.sibling),P=f(N,D.props.children),P.return=R,R=P;break e}}else if(N.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===de&&Mi(pe)===N.type){l(R,N.sibling),P=f(N,D.props),Wo(P,D),P.return=R,R=P;break e}l(R,N);break}else n(R,N);N=N.sibling}D.type===k?(P=Ci(D.props.children,R.mode,P,D.key),P.return=R,R=P):(P=ns(D.type,D.key,D.props,null,R.mode,P),Wo(P,D),P.return=R,R=P)}return S(R);case w:e:{for(pe=D.key;N!==null;){if(N.key===pe)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){l(R,N.sibling),P=f(N,D.children||[]),P.return=R,R=P;break e}else{l(R,N);break}else n(R,N);N=N.sibling}P=Za(D,R.mode,P),P.return=R,R=P}return S(R);case de:return D=Mi(D),Xe(R,N,D,P)}if(ge(D))return oe(R,N,D,P);if(Ne(D)){if(pe=Ne(D),typeof pe!="function")throw Error(s(150));return D=pe.call(D),ye(R,N,D,P)}if(typeof D.then=="function")return Xe(R,N,us(D),P);if(D.$$typeof===Y)return Xe(R,N,ls(R,D),P);cs(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(l(R,N.sibling),P=f(N,D),P.return=R,R=P):(l(R,N),P=Qa(D,R.mode,P),P.return=R,R=P),S(R)):l(R,N)}return function(R,N,D,P){try{Zo=0;var pe=Xe(R,N,D,P);return so=null,pe}catch(se){if(se===lo||se===as)throw se;var ze=Ft(29,se,null,R.mode);return ze.lanes=P,ze.return=R,ze}finally{}}}var Di=qd(!0),zd=qd(!1),Zn=!1;function cr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ei(e,n,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Pe&2)!==0){var f=a.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),a.pending=n,n=ts(e),_d(e,null,l),n}return es(e,a,n,l),ts(e)}function el(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,Mc(e,l)}}function fr(e,n){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var f=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?f=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?f=m=n:m=m.next=n}else f=m=n;l={baseState:a.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var pr=!1;function tl(){if(pr){var e=oo;if(e!==null)throw e}}function nl(e,n,l,a){pr=!1;var f=e.updateQueue;Zn=!1;var m=f.firstBaseUpdate,S=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var C=T,U=C.next;C.next=null,S===null?m=U:S.next=U,S=C;var O=e.alternate;O!==null&&(O=O.updateQueue,T=O.lastBaseUpdate,T!==S&&(T===null?O.firstBaseUpdate=U:T.next=U,O.lastBaseUpdate=C))}if(m!==null){var J=f.baseState;S=0,O=U=C=null,T=m;do{var L=T.lane&-536870913,H=L!==T.lane;if(H?(De&L)===L:(a&L)===L){L!==0&&L===io&&(pr=!0),O!==null&&(O=O.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var oe=e,ye=T;L=n;var Xe=l;switch(ye.tag){case 1:if(oe=ye.payload,typeof oe=="function"){J=oe.call(Xe,J,L);break e}J=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ye.payload,L=typeof oe=="function"?oe.call(Xe,J,L):oe,L==null)break e;J=b({},J,L);break e;case 2:Zn=!0}}L=T.callback,L!==null&&(e.flags|=64,H&&(e.flags|=8192),H=f.callbacks,H===null?f.callbacks=[L]:H.push(L))}else H={lane:L,tag:T.tag,payload:T.payload,callback:T.callback,next:null},O===null?(U=O=H,C=J):O=O.next=H,S|=L;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;H=T,T=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);O===null&&(C=J),f.baseState=C,f.firstBaseUpdate=U,f.lastBaseUpdate=O,m===null&&(f.shared.lanes=0),li|=S,e.lanes=S,e.memoizedState=J}}function Od(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Vd(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Od(l[e],n)}var ao=A(null),ds=A(0);function Pd(e,n){e=Hn,W(ds,e),W(ao,n),Hn=e|n.baseLanes}function mr(){W(ds,Hn),W(ao,ao.current)}function hr(){Hn=ds.current,z(ao),z(ds)}var Jt=A(null),ln=null;function ti(e){var n=e.alternate;W(at,at.current&1),W(Jt,e),ln===null&&(n===null||ao.current!==null||n.memoizedState!==null)&&(ln=e)}function gr(e){W(at,at.current),W(Jt,e),ln===null&&(ln=e)}function Bd(e){e.tag===22?(W(at,at.current),W(Jt,e),ln===null&&(ln=e)):ni()}function ni(){W(at,at.current),W(Jt,Jt.current)}function Yt(e){z(Jt),ln===e&&(ln=null),z(at)}var at=A(0);function fs(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||_u(l)||Tu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Rn=0,Ee=null,je=null,dt=null,ps=!1,ro=!1,Ui=!1,ms=0,il=0,uo=null,Dy=0;function lt(){throw Error(s(321))}function yr(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Bt(e[l],n[l]))return!1;return!0}function vr(e,n,l,a,f,m){return Rn=m,Ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Nf:Ur,Ui=!1,m=l(a,f),Ui=!1,ro&&(m=Jd(n,l,a,f)),Fd(e),m}function Fd(e){G.H=sl;var n=je!==null&&je.next!==null;if(Rn=0,dt=je=Ee=null,ps=!1,il=0,uo=null,n)throw Error(s(300));e===null||ft||(e=e.dependencies,e!==null&&os(e)&&(ft=!0))}function Jd(e,n,l,a){Ee=e;var f=0;do{if(ro&&(uo=null),il=0,ro=!1,25<=f)throw Error(s(301));if(f+=1,dt=je=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}G.H=wf,m=n(l,a)}while(ro);return m}function Uy(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?ol(n):n,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(Ee.flags|=1024),n}function xr(){var e=ms!==0;return ms=0,e}function Sr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function br(e){if(ps){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ps=!1}Rn=0,dt=je=Ee=null,ro=!1,il=ms=0,uo=null}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ee.memoizedState=dt=e:dt=dt.next=e,dt}function rt(){if(je===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var n=dt===null?Ee.memoizedState:dt.next;if(n!==null)dt=n,je=e;else{if(e===null)throw Ee.alternate===null?Error(s(467)):Error(s(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},dt===null?Ee.memoizedState=dt=e:dt=dt.next=e}return dt}function hs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ol(e){var n=il;return il+=1,uo===null&&(uo=[]),e=Ld(uo,e,n),n=Ee,(dt===null?n.memoizedState:dt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Nf:Ur),e}function gs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ol(e);if(e.$$typeof===Y)return bt(e)}throw Error(s(438,String(e)))}function _r(e){var n=null,l=Ee.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var a=Ee.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=hs(),Ee.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),a=0;a<e;a++)l[a]=re;return n.index++,l}function Mn(e,n){return typeof n=="function"?n(e):n}function ys(e){var n=rt();return Tr(n,je,e)}function Tr(e,n,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var f=e.baseQueue,m=a.pending;if(m!==null){if(f!==null){var S=f.next;f.next=m.next,m.next=S}n.baseQueue=f=m,a.pending=null}if(m=e.baseState,f===null)e.memoizedState=m;else{n=f.next;var T=S=null,C=null,U=n,O=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(De&J)===J:(Rn&J)===J){var L=U.revertLane;if(L===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===io&&(O=!0);else if((Rn&L)===L){U=U.next,L===io&&(O=!0);continue}else J={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=J,S=m):C=C.next=J,Ee.lanes|=L,li|=L;J=U.action,Ui&&l(m,J),m=U.hasEagerState?U.eagerState:l(m,J)}else L={lane:J,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=L,S=m):C=C.next=L,Ee.lanes|=J,li|=J;U=U.next}while(U!==null&&U!==n);if(C===null?S=m:C.next=T,!Bt(m,e.memoizedState)&&(ft=!0,O&&(l=oo,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=C,a.lastRenderedState=m}return f===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Er(e){var n=rt(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,f=l.pending,m=n.memoizedState;if(f!==null){l.pending=null;var S=f=f.next;do m=e(m,S.action),S=S.next;while(S!==f);Bt(m,n.memoizedState)||(ft=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,a]}function Yd(e,n,l){var a=Ee,f=rt(),m=ke;if(m){if(l===void 0)throw Error(s(407));l=l()}else l=n();var S=!Bt((je||f).memoizedState,l);if(S&&(f.memoizedState=l,ft=!0),f=f.queue,Nr(Xd.bind(null,a,f,e),[e]),f.getSnapshot!==n||S||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,co(9,{destroy:void 0},Kd.bind(null,a,f,l,n),null),Qe===null)throw Error(s(349));m||(Rn&127)!==0||jd(a,n,l)}return l}function jd(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Ee.updateQueue,n===null?(n=hs(),Ee.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Kd(e,n,l,a){n.value=l,n.getSnapshot=a,$d(n)&&Qd(e)}function Xd(e,n,l){return l(function(){$d(n)&&Qd(e)})}function $d(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Bt(e,l)}catch{return!0}}function Qd(e){var n=Ei(e,2);n!==null&&Vt(n,e,2)}function Cr(e){var n=It();if(typeof e=="function"){var l=e;if(e=l(),Ui){cn(!0);try{l()}finally{cn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:e},n}function Zd(e,n,l,a){return e.baseState=l,Tr(e,je,typeof a=="function"?a:Mn)}function ky(e,n,l,a,f){if(Ss(e))throw Error(s(485));if(e=n.action,e!==null){var m={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};G.T!==null?l(!0):m.isTransition=!1,a(m),l=n.pending,l===null?(m.next=n.pending=m,Wd(n,m)):(m.next=l.next,n.pending=l.next=m)}}function Wd(e,n){var l=n.action,a=n.payload,f=e.state;if(n.isTransition){var m=G.T,S={};G.T=S;try{var T=l(f,a),C=G.S;C!==null&&C(S,T),ef(e,n,T)}catch(U){Ar(e,n,U)}finally{m!==null&&S.types!==null&&(m.types=S.types),G.T=m}}else try{m=l(f,a),ef(e,n,m)}catch(U){Ar(e,n,U)}}function ef(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){tf(e,n,a)},function(a){return Ar(e,n,a)}):tf(e,n,l)}function tf(e,n,l){n.status="fulfilled",n.value=l,nf(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Wd(e,l)))}function Ar(e,n,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=l,nf(n),n=n.next;while(n!==a)}e.action=null}function nf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function of(e,n){return n}function lf(e,n){if(ke){var l=Qe.formState;if(l!==null){e:{var a=Ee;if(ke){if(et){t:{for(var f=et,m=on;f.nodeType!==8;){if(!m){f=null;break t}if(f=sn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){et=sn(f.nextSibling),a=f.data==="F!";break e}}$n(a)}a=!1}a&&(n=l[0])}}return l=It(),l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:of,lastRenderedState:n},l.queue=a,l=Ef.bind(null,Ee,a),a.dispatch=l,a=Cr(!1),m=Dr.bind(null,Ee,!1,a.queue),a=It(),f={state:n,dispatch:null,action:e,pending:null},a.queue=f,l=ky.bind(null,Ee,f,m,l),f.dispatch=l,a.memoizedState=e,[n,l,!1]}function sf(e){var n=rt();return af(n,je,e)}function af(e,n,l){if(n=Tr(e,n,of)[0],e=ys(Mn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=ol(n)}catch(S){throw S===lo?as:S}else a=n;n=rt();var f=n.queue,m=f.dispatch;return l!==n.memoizedState&&(Ee.flags|=2048,co(9,{destroy:void 0},Ly.bind(null,f,l),null)),[a,m,e]}function Ly(e,n){e.action=n}function rf(e){var n=rt(),l=je;if(l!==null)return af(n,l,e);rt(),n=n.memoizedState,l=rt();var a=l.queue.dispatch;return l.memoizedState=e,[n,a,!1]}function co(e,n,l,a){return e={tag:e,create:l,deps:a,inst:n,next:null},n=Ee.updateQueue,n===null&&(n=hs(),Ee.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,n.lastEffect=e),e}function uf(){return rt().memoizedState}function vs(e,n,l,a){var f=It();Ee.flags|=e,f.memoizedState=co(1|n,{destroy:void 0},l,a===void 0?null:a)}function xs(e,n,l,a){var f=rt();a=a===void 0?null:a;var m=f.memoizedState.inst;je!==null&&a!==null&&yr(a,je.memoizedState.deps)?f.memoizedState=co(n,m,l,a):(Ee.flags|=e,f.memoizedState=co(1|n,m,l,a))}function cf(e,n){vs(8390656,8,e,n)}function Nr(e,n){xs(2048,8,e,n)}function Gy(e){Ee.flags|=4;var n=Ee.updateQueue;if(n===null)n=hs(),Ee.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function df(e){var n=rt().memoizedState;return Gy({ref:n,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ff(e,n){return xs(4,2,e,n)}function pf(e,n){return xs(4,4,e,n)}function mf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function hf(e,n,l){l=l!=null?l.concat([e]):null,xs(4,4,mf.bind(null,n,e),l)}function wr(){}function gf(e,n){var l=rt();n=n===void 0?null:n;var a=l.memoizedState;return n!==null&&yr(n,a[1])?a[0]:(l.memoizedState=[e,n],e)}function yf(e,n){var l=rt();n=n===void 0?null:n;var a=l.memoizedState;if(n!==null&&yr(n,a[1]))return a[0];if(a=e(),Ui){cn(!0);try{e()}finally{cn(!1)}}return l.memoizedState=[a,n],a}function Rr(e,n,l){return l===void 0||(Rn&1073741824)!==0&&(De&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=vp(),Ee.lanes|=e,li|=e,l)}function vf(e,n,l,a){return Bt(l,n)?l:ao.current!==null?(e=Rr(e,l,a),Bt(e,n)||(ft=!0),e):(Rn&42)===0||(Rn&1073741824)!==0&&(De&261930)===0?(ft=!0,e.memoizedState=l):(e=vp(),Ee.lanes|=e,li|=e,n)}function xf(e,n,l,a,f){var m=$.p;$.p=m!==0&&8>m?m:8;var S=G.T,T={};G.T=T,Dr(e,!1,n,l);try{var C=f(),U=G.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var O=Iy(C,a);ll(e,n,O,Xt(e))}else ll(e,n,a,Xt(e))}catch(J){ll(e,n,{then:function(){},status:"rejected",reason:J},Xt())}finally{$.p=m,S!==null&&T.types!==null&&(S.types=T.types),G.T=S}}function Hy(){}function Mr(e,n,l,a){if(e.tag!==5)throw Error(s(476));var f=Sf(e).queue;xf(e,f,n,te,l===null?Hy:function(){return bf(e),l(a)})}function Sf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:te},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bf(e){var n=Sf(e);n.next===null&&(n=e.alternate.memoizedState),ll(e,n.next.queue,{},Xt())}function Ir(){return bt(_l)}function _f(){return rt().memoizedState}function Tf(){return rt().memoizedState}function qy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Xt();e=Wn(l);var a=ei(n,e,l);a!==null&&(Vt(a,n,l),el(a,n,l)),n={cache:sr()},e.payload=n;return}n=n.return}}function zy(e,n,l){var a=Xt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ss(e)?Cf(n,l):(l=Xa(e,n,l,a),l!==null&&(Vt(l,e,a),Af(l,n,a)))}function Ef(e,n,l){var a=Xt();ll(e,n,l,a)}function ll(e,n,l,a){var f={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ss(e))Cf(n,f);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,T=m(S,l);if(f.hasEagerState=!0,f.eagerState=T,Bt(T,S))return es(e,n,f,0),Qe===null&&Wl(),!1}catch{}finally{}if(l=Xa(e,n,f,a),l!==null)return Vt(l,e,a),Af(l,n,a),!0}return!1}function Dr(e,n,l,a){if(a={lane:2,revertLane:cu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ss(e)){if(n)throw Error(s(479))}else n=Xa(e,l,a,2),n!==null&&Vt(n,e,2)}function Ss(e){var n=e.alternate;return e===Ee||n!==null&&n===Ee}function Cf(e,n){ro=ps=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Af(e,n,l){if((l&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,Mc(e,l)}}var sl={readContext:bt,use:gs,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};sl.useEffectEvent=lt;var Nf={readContext:bt,use:gs,useCallback:function(e,n){return It().memoizedState=[e,n===void 0?null:n],e},useContext:bt,useEffect:cf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,vs(4194308,4,mf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return vs(4194308,4,e,n)},useInsertionEffect:function(e,n){vs(4,2,e,n)},useMemo:function(e,n){var l=It();n=n===void 0?null:n;var a=e();if(Ui){cn(!0);try{e()}finally{cn(!1)}}return l.memoizedState=[a,n],a},useReducer:function(e,n,l){var a=It();if(l!==void 0){var f=l(n);if(Ui){cn(!0);try{l(n)}finally{cn(!1)}}}else f=n;return a.memoizedState=a.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},a.queue=e,e=e.dispatch=zy.bind(null,Ee,e),[a.memoizedState,e]},useRef:function(e){var n=It();return e={current:e},n.memoizedState=e},useState:function(e){e=Cr(e);var n=e.queue,l=Ef.bind(null,Ee,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:wr,useDeferredValue:function(e,n){var l=It();return Rr(l,e,n)},useTransition:function(){var e=Cr(!1);return e=xf.bind(null,Ee,e.queue,!0,!1),It().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var a=Ee,f=It();if(ke){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Qe===null)throw Error(s(349));(De&127)!==0||jd(a,n,l)}f.memoizedState=l;var m={value:l,getSnapshot:n};return f.queue=m,cf(Xd.bind(null,a,m,e),[e]),a.flags|=2048,co(9,{destroy:void 0},Kd.bind(null,a,m,l,n),null),l},useId:function(){var e=It(),n=Qe.identifierPrefix;if(ke){var l=xn,a=vn;l=(a&~(1<<32-Mt(a)-1)).toString(32)+l,n="_"+n+"R_"+l,l=ms++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Dy++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Ir,useFormState:lf,useActionState:lf,useOptimistic:function(e){var n=It();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Dr.bind(null,Ee,!0,l),l.dispatch=n,[e,n]},useMemoCache:_r,useCacheRefresh:function(){return It().memoizedState=qy.bind(null,Ee)},useEffectEvent:function(e){var n=It(),l={impl:e};return n.memoizedState=l,function(){if((Pe&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Ur={readContext:bt,use:gs,useCallback:gf,useContext:bt,useEffect:Nr,useImperativeHandle:hf,useInsertionEffect:ff,useLayoutEffect:pf,useMemo:yf,useReducer:ys,useRef:uf,useState:function(){return ys(Mn)},useDebugValue:wr,useDeferredValue:function(e,n){var l=rt();return vf(l,je.memoizedState,e,n)},useTransition:function(){var e=ys(Mn)[0],n=rt().memoizedState;return[typeof e=="boolean"?e:ol(e),n]},useSyncExternalStore:Yd,useId:_f,useHostTransitionStatus:Ir,useFormState:sf,useActionState:sf,useOptimistic:function(e,n){var l=rt();return Zd(l,je,e,n)},useMemoCache:_r,useCacheRefresh:Tf};Ur.useEffectEvent=df;var wf={readContext:bt,use:gs,useCallback:gf,useContext:bt,useEffect:Nr,useImperativeHandle:hf,useInsertionEffect:ff,useLayoutEffect:pf,useMemo:yf,useReducer:Er,useRef:uf,useState:function(){return Er(Mn)},useDebugValue:wr,useDeferredValue:function(e,n){var l=rt();return je===null?Rr(l,e,n):vf(l,je.memoizedState,e,n)},useTransition:function(){var e=Er(Mn)[0],n=rt().memoizedState;return[typeof e=="boolean"?e:ol(e),n]},useSyncExternalStore:Yd,useId:_f,useHostTransitionStatus:Ir,useFormState:rf,useActionState:rf,useOptimistic:function(e,n){var l=rt();return je!==null?Zd(l,je,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:_r,useCacheRefresh:Tf};wf.useEffectEvent=df;function kr(e,n,l,a){n=e.memoizedState,l=l(a,n),l=l==null?n:b({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Lr={enqueueSetState:function(e,n,l){e=e._reactInternals;var a=Xt(),f=Wn(a);f.payload=n,l!=null&&(f.callback=l),n=ei(e,f,a),n!==null&&(Vt(n,e,a),el(n,e,a))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var a=Xt(),f=Wn(a);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=ei(e,f,a),n!==null&&(Vt(n,e,a),el(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Xt(),a=Wn(l);a.tag=2,n!=null&&(a.callback=n),n=ei(e,a,l),n!==null&&(Vt(n,e,l),el(n,e,l))}};function Rf(e,n,l,a,f,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,S):n.prototype&&n.prototype.isPureReactComponent?!Yo(l,a)||!Yo(f,m):!0}function Mf(e,n,l,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,a),n.state!==e&&Lr.enqueueReplaceState(n,n.state,null)}function ki(e,n){var l=n;if("ref"in n){l={};for(var a in n)a!=="ref"&&(l[a]=n[a])}if(e=e.defaultProps){l===n&&(l=b({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function If(e){Zl(e)}function Df(e){console.error(e)}function Uf(e){Zl(e)}function bs(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function kf(e,n,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gr(e,n,l){return l=Wn(l),l.tag=3,l.payload={element:null},l.callback=function(){bs(e,n)},l}function Lf(e){return e=Wn(e),e.tag=3,e}function Gf(e,n,l,a){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var m=a.value;e.payload=function(){return f(m)},e.callback=function(){kf(n,l,a)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){kf(n,l,a),typeof f!="function"&&(si===null?si=new Set([this]):si.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})})}function Oy(e,n,l,a,f){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=l.alternate,n!==null&&no(n,l,f,!0),l=Jt.current,l!==null){switch(l.tag){case 31:case 13:return ln===null?Us():l.alternate===null&&st===0&&(st=3),l.flags&=-257,l.flags|=65536,l.lanes=f,a===rs?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([a]):n.add(a),au(e,a,f)),!1;case 22:return l.flags|=65536,a===rs?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([a]):l.add(a)),au(e,a,f)),!1}throw Error(s(435,l.tag))}return au(e,a,f),Us(),!1}if(ke)return n=Jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,a!==tr&&(e=Error(s(422),{cause:a}),Xo(en(e,l)))):(a!==tr&&(n=Error(s(423),{cause:a}),Xo(en(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,a=en(a,l),f=Gr(e.stateNode,a,f),fr(e,f),st!==4&&(st=2)),!1;var m=Error(s(520),{cause:a});if(m=en(m,l),ml===null?ml=[m]:ml.push(m),st!==4&&(st=2),n===null)return!0;a=en(a,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=Gr(l.stateNode,a,e),fr(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(si===null||!si.has(m))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Lf(f),Gf(f,e,l,a),fr(l,f),!1}l=l.return}while(l!==null);return!1}var Hr=Error(s(461)),ft=!1;function _t(e,n,l,a){n.child=e===null?zd(n,null,l,a):Di(n,e.child,l,a)}function Hf(e,n,l,a,f){l=l.render;var m=n.ref;if("ref"in a){var S={};for(var T in a)T!=="ref"&&(S[T]=a[T])}else S=a;return wi(n),a=vr(e,n,l,S,m,f),T=xr(),e!==null&&!ft?(Sr(e,n,f),In(e,n,f)):(ke&&T&&Wa(n),n.flags|=1,_t(e,n,a,f),n.child)}function qf(e,n,l,a,f){if(e===null){var m=l.type;return typeof m=="function"&&!$a(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,zf(e,n,m,a,f)):(e=ns(l.type,null,a,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Jr(e,f)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:Yo,l(S,a)&&e.ref===n.ref)return In(e,n,f)}return n.flags|=1,e=Cn(m,a),e.ref=n.ref,e.return=n,n.child=e}function zf(e,n,l,a,f){if(e!==null){var m=e.memoizedProps;if(Yo(m,a)&&e.ref===n.ref)if(ft=!1,n.pendingProps=a=m,Jr(e,f))(e.flags&131072)!==0&&(ft=!0);else return n.lanes=e.lanes,In(e,n,f)}return qr(e,n,l,a,f)}function Of(e,n,l,a){var f=a.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(a=n.child=e.child,f=0;a!==null;)f=f|a.lanes|a.childLanes,a=a.sibling;a=f&~m}else a=0,n.child=null;return Vf(e,n,m,l,a)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ss(n,m!==null?m.cachePool:null),m!==null?Pd(n,m):mr(),Bd(n);else return a=n.lanes=536870912,Vf(e,n,m!==null?m.baseLanes|l:l,l,a)}else m!==null?(ss(n,m.cachePool),Pd(n,m),ni(),n.memoizedState=null):(e!==null&&ss(n,null),mr(),ni());return _t(e,n,f,l),n.child}function al(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vf(e,n,l,a,f){var m=rr();return m=m===null?null:{parent:ct._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&ss(n,null),mr(),Bd(n),e!==null&&no(e,n,a,!0),n.childLanes=f,null}function _s(e,n){return n=Es({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Pf(e,n,l){return Di(n,e.child,null,l),e=_s(n,n.pendingProps),e.flags|=2,Yt(n),n.memoizedState=null,e}function Vy(e,n,l){var a=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ke){if(a.mode==="hidden")return e=_s(n,a),n.lanes=536870912,al(null,e);if(gr(n),(e=et)?(e=em(e,on),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:vn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},l=Ed(e),l.return=n,n.child=l,St=n,et=null)):e=null,e===null)throw $n(n);return n.lanes=536870912,null}return _s(n,a)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(gr(n),f)if(n.flags&256)n.flags&=-257,n=Pf(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(ft||no(e,n,l,!1),f=(l&e.childLanes)!==0,ft||f){if(a=Qe,a!==null&&(S=Ic(a,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,Ei(e,S),Vt(a,e,S),Hr;Us(),n=Pf(e,n,l)}else e=m.treeContext,et=sn(S.nextSibling),St=n,ke=!0,Xn=null,on=!1,e!==null&&Nd(n,e),n=_s(n,a),n.flags|=4096;return n}return e=Cn(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ts(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function qr(e,n,l,a,f){return wi(n),l=vr(e,n,l,a,void 0,f),a=xr(),e!==null&&!ft?(Sr(e,n,f),In(e,n,f)):(ke&&a&&Wa(n),n.flags|=1,_t(e,n,l,f),n.child)}function Bf(e,n,l,a,f,m){return wi(n),n.updateQueue=null,l=Jd(n,a,l,f),Fd(e),a=xr(),e!==null&&!ft?(Sr(e,n,m),In(e,n,m)):(ke&&a&&Wa(n),n.flags|=1,_t(e,n,l,m),n.child)}function Ff(e,n,l,a,f){if(wi(n),n.stateNode===null){var m=Zi,S=l.contextType;typeof S=="object"&&S!==null&&(m=bt(S)),m=new l(a,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Lr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=a,m.state=n.memoizedState,m.refs={},cr(n),S=l.contextType,m.context=typeof S=="object"&&S!==null?bt(S):Zi,m.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(kr(n,l,S,a),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Lr.enqueueReplaceState(m,m.state,null),nl(n,a,m,f),tl(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){m=n.stateNode;var T=n.memoizedProps,C=ki(l,T);m.props=C;var U=m.context,O=l.contextType;S=Zi,typeof O=="object"&&O!==null&&(S=bt(O));var J=l.getDerivedStateFromProps;O=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,O||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||U!==S)&&Mf(n,m,a,S),Zn=!1;var L=n.memoizedState;m.state=L,nl(n,a,m,f),tl(),U=n.memoizedState,T||L!==U||Zn?(typeof J=="function"&&(kr(n,l,J,a),U=n.memoizedState),(C=Zn||Rf(n,l,C,a,L,U,S))?(O||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=U),m.props=a,m.state=U,m.context=S,a=C):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{m=n.stateNode,dr(e,n),S=n.memoizedProps,O=ki(l,S),m.props=O,J=n.pendingProps,L=m.context,U=l.contextType,C=Zi,typeof U=="object"&&U!==null&&(C=bt(U)),T=l.getDerivedStateFromProps,(U=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==J||L!==C)&&Mf(n,m,a,C),Zn=!1,L=n.memoizedState,m.state=L,nl(n,a,m,f),tl();var H=n.memoizedState;S!==J||L!==H||Zn||e!==null&&e.dependencies!==null&&os(e.dependencies)?(typeof T=="function"&&(kr(n,l,T,a),H=n.memoizedState),(O=Zn||Rf(n,l,O,a,L,H,C)||e!==null&&e.dependencies!==null&&os(e.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,H,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,H,C)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=H),m.props=a,m.state=H,m.context=C,a=O):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(n.flags|=1024),a=!1)}return m=a,Ts(e,n),a=(n.flags&128)!==0,m||a?(m=n.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&a?(n.child=Di(n,e.child,null,f),n.child=Di(n,null,l,f)):_t(e,n,l,f),n.memoizedState=m.state,e=n.child):e=In(e,n,f),e}function Jf(e,n,l,a){return Ai(),n.flags|=256,_t(e,n,l,a),n.child}var zr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Or(e){return{baseLanes:e,cachePool:Ud()}}function Vr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Kt),e}function Yf(e,n,l){var a=n.pendingProps,f=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(at.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(ke){if(f?ti(n):ni(),(e=et)?(e=em(e,on),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Kn!==null?{id:vn,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},l=Ed(e),l.return=n,n.child=l,St=n,et=null)):e=null,e===null)throw $n(n);return Tu(e)?n.lanes=32:n.lanes=536870912,null}var T=a.children;return a=a.fallback,f?(ni(),f=n.mode,T=Es({mode:"hidden",children:T},f),a=Ci(a,f,l,null),T.return=n,a.return=n,T.sibling=a,n.child=T,a=n.child,a.memoizedState=Or(l),a.childLanes=Vr(e,S,l),n.memoizedState=zr,al(null,a)):(ti(n),Pr(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(m)n.flags&256?(ti(n),n.flags&=-257,n=Br(e,n,l)):n.memoizedState!==null?(ni(),n.child=e.child,n.flags|=128,n=null):(ni(),T=a.fallback,f=n.mode,a=Es({mode:"visible",children:a.children},f),T=Ci(T,f,l,null),T.flags|=2,a.return=n,T.return=n,a.sibling=T,n.child=a,Di(n,e.child,null,l),a=n.child,a.memoizedState=Or(l),a.childLanes=Vr(e,S,l),n.memoizedState=zr,n=al(null,a));else if(ti(n),Tu(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var U=S.dgst;S=U,a=Error(s(419)),a.stack="",a.digest=S,Xo({value:a,source:null,stack:null}),n=Br(e,n,l)}else if(ft||no(e,n,l,!1),S=(l&e.childLanes)!==0,ft||S){if(S=Qe,S!==null&&(a=Ic(S,l),a!==0&&a!==C.retryLane))throw C.retryLane=a,Ei(e,a),Vt(S,e,a),Hr;_u(T)||Us(),n=Br(e,n,l)}else _u(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,et=sn(T.nextSibling),St=n,ke=!0,Xn=null,on=!1,e!==null&&Nd(n,e),n=Pr(n,a.children),n.flags|=4096);return n}return f?(ni(),T=a.fallback,f=n.mode,C=e.child,U=C.sibling,a=Cn(C,{mode:"hidden",children:a.children}),a.subtreeFlags=C.subtreeFlags&65011712,U!==null?T=Cn(U,T):(T=Ci(T,f,l,null),T.flags|=2),T.return=n,a.return=n,a.sibling=T,n.child=a,al(null,a),a=n.child,T=e.child.memoizedState,T===null?T=Or(l):(f=T.cachePool,f!==null?(C=ct._currentValue,f=f.parent!==C?{parent:C,pool:C}:f):f=Ud(),T={baseLanes:T.baseLanes|l,cachePool:f}),a.memoizedState=T,a.childLanes=Vr(e,S,l),n.memoizedState=zr,al(e.child,a)):(ti(n),l=e.child,e=l.sibling,l=Cn(l,{mode:"visible",children:a.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function Pr(e,n){return n=Es({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Es(e,n){return e=Ft(22,e,null,n),e.lanes=0,e}function Br(e,n,l){return Di(n,e.child,null,l),e=Pr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function jf(e,n,l){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),or(e.return,n,l)}function Fr(e,n,l,a,f,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:f,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=l,S.tailMode=f,S.treeForkCount=m)}function Kf(e,n,l){var a=n.pendingProps,f=a.revealOrder,m=a.tail;a=a.children;var S=at.current,T=(S&2)!==0;if(T?(S=S&1|2,n.flags|=128):S&=1,W(at,S),_t(e,n,a,l),a=ke?Ko:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jf(e,l,n);else if(e.tag===19)jf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&fs(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),Fr(n,!1,f,l,m,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&fs(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Fr(n,!0,l,null,m,a);break;case"together":Fr(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function In(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),li|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(no(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=Cn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Cn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Jr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&os(e)))}function Py(e,n,l){switch(n.tag){case 3:le(n,n.stateNode.containerInfo),Qn(n,ct,e.memoizedState.cache),Ai();break;case 27:case 5:it(n);break;case 4:le(n,n.stateNode.containerInfo);break;case 10:Qn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,gr(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(ti(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Yf(e,n,l):(ti(n),e=In(e,n,l),e!==null?e.sibling:null);ti(n);break;case 19:var f=(e.flags&128)!==0;if(a=(l&n.childLanes)!==0,a||(no(e,n,l,!1),a=(l&n.childLanes)!==0),f){if(a)return Kf(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(at,at.current),a)break;return null;case 22:return n.lanes=0,Of(e,n,l,n.pendingProps);case 24:Qn(n,ct,e.memoizedState.cache)}return In(e,n,l)}function Xf(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)ft=!0;else{if(!Jr(e,l)&&(n.flags&128)===0)return ft=!1,Py(e,n,l);ft=(e.flags&131072)!==0}else ft=!1,ke&&(n.flags&1048576)!==0&&Ad(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=Mi(n.elementType),n.type=e,typeof e=="function")$a(e)?(a=ki(e,a),n.tag=1,n=Ff(null,n,e,a,l)):(n.tag=0,n=qr(null,n,e,a,l));else{if(e!=null){var f=e.$$typeof;if(f===V){n.tag=11,n=Hf(null,n,e,a,l);break e}else if(f===X){n.tag=14,n=qf(null,n,e,a,l);break e}}throw n=me(e)||e,Error(s(306,n,""))}}return n;case 0:return qr(e,n,n.type,n.pendingProps,l);case 1:return a=n.type,f=ki(a,n.pendingProps),Ff(e,n,a,f,l);case 3:e:{if(le(n,n.stateNode.containerInfo),e===null)throw Error(s(387));a=n.pendingProps;var m=n.memoizedState;f=m.element,dr(e,n),nl(n,a,null,l);var S=n.memoizedState;if(a=S.cache,Qn(n,ct,a),a!==m.cache&&lr(n,[ct],l,!0),tl(),a=S.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Jf(e,n,a,l);break e}else if(a!==f){f=en(Error(s(424)),n),Xo(f),n=Jf(e,n,a,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(et=sn(e.firstChild),St=n,ke=!0,Xn=null,on=!0,l=zd(n,null,a,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ai(),a===f){n=In(e,n,l);break e}_t(e,n,a,l)}n=n.child}return n;case 26:return Ts(e,n),e===null?(l=sm(n.type,null,n.pendingProps,null))?n.memoizedState=l:ke||(l=n.type,e=n.pendingProps,a=Os(I.current).createElement(l),a[xt]=n,a[Lt]=e,Tt(a,l,e),gt(a),n.stateNode=a):n.memoizedState=sm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return it(n),e===null&&ke&&(a=n.stateNode=im(n.type,n.pendingProps,I.current),St=n,on=!0,f=et,ci(n.type)?(Eu=f,et=sn(a.firstChild)):et=f),_t(e,n,n.pendingProps.children,l),Ts(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ke&&((f=a=et)&&(a=vv(a,n.type,n.pendingProps,on),a!==null?(n.stateNode=a,St=n,et=sn(a.firstChild),on=!1,f=!0):f=!1),f||$n(n)),it(n),f=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,a=m.children,xu(f,m)?a=null:S!==null&&xu(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=vr(e,n,Uy,null,null,l),_l._currentValue=f),Ts(e,n),_t(e,n,a,l),n.child;case 6:return e===null&&ke&&((e=l=et)&&(l=xv(l,n.pendingProps,on),l!==null?(n.stateNode=l,St=n,et=null,e=!0):e=!1),e||$n(n)),null;case 13:return Yf(e,n,l);case 4:return le(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Di(n,null,a,l):_t(e,n,a,l),n.child;case 11:return Hf(e,n,n.type,n.pendingProps,l);case 7:return _t(e,n,n.pendingProps,l),n.child;case 8:return _t(e,n,n.pendingProps.children,l),n.child;case 12:return _t(e,n,n.pendingProps.children,l),n.child;case 10:return a=n.pendingProps,Qn(n,n.type,a.value),_t(e,n,a.children,l),n.child;case 9:return f=n.type._context,a=n.pendingProps.children,wi(n),f=bt(f),a=a(f),n.flags|=1,_t(e,n,a,l),n.child;case 14:return qf(e,n,n.type,n.pendingProps,l);case 15:return zf(e,n,n.type,n.pendingProps,l);case 19:return Kf(e,n,l);case 31:return Vy(e,n,l);case 22:return Of(e,n,l,n.pendingProps);case 24:return wi(n),a=bt(ct),e===null?(f=rr(),f===null&&(f=Qe,m=sr(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=l),f=m),n.memoizedState={parent:a,cache:f},cr(n),Qn(n,ct,f)):((e.lanes&l)!==0&&(dr(e,n),nl(n,null,null,l),tl()),f=e.memoizedState,m=n.memoizedState,f.parent!==a?(f={parent:a,cache:a},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Qn(n,ct,a)):(a=m.cache,Qn(n,ct,a),a!==f.cache&&lr(n,[ct],l,!0))),_t(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Dn(e){e.flags|=4}function Yr(e,n,l,a,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(_p())e.flags|=8192;else throw Ii=rs,ur}else e.flags&=-16777217}function $f(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dm(n))if(_p())e.flags|=8192;else throw Ii=rs,ur}function Cs(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?wc():536870912,e.lanes|=n,ho|=n)}function rl(e,n){if(!ke)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function tt(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,a|=f.subtreeFlags&65011712,a|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,a|=f.subtreeFlags,a|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=a,e.childLanes=l,n}function By(e,n,l){var a=n.pendingProps;switch(er(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return l=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wn(ct),ae(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(to(n)?Dn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nr())),tt(n),null;case 26:var f=n.type,m=n.memoizedState;return e===null?(Dn(n),m!==null?(tt(n),$f(n,m)):(tt(n),Yr(n,f,null,a,l))):m?m!==e.memoizedState?(Dn(n),tt(n),$f(n,m)):(tt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&Dn(n),tt(n),Yr(n,f,e,a,l)),null;case 27:if(Be(n),l=I.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&Dn(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return tt(n),null}e=ee.current,to(n)?wd(n):(e=im(f,a,l),n.stateNode=e,Dn(n))}return tt(n),null;case 5:if(Be(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&Dn(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return tt(n),null}if(m=ee.current,to(n))wd(n);else{var S=Os(I.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?m.multiple=!0:a.size&&(m.size=a.size);break;default:m=typeof a.is=="string"?S.createElement(f,{is:a.is}):S.createElement(f)}}m[xt]=n,m[Lt]=a;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(Tt(m,f,a),f){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Dn(n)}}return tt(n),Yr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&Dn(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(s(166));if(e=I.current,to(n)){if(e=n.stateNode,l=n.memoizedProps,a=null,f=St,f!==null)switch(f.tag){case 27:case 5:a=f.memoizedProps}e[xt]=n,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Yp(e.nodeValue,l)),e||$n(n,!0)}else e=Os(e).createTextNode(a),e[xt]=n,n.stateNode=e}return tt(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(a=to(n),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[xt]=n}else Ai(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),e=!1}else l=nr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Yt(n),n):(Yt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return tt(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=to(n),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=n}else Ai(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),f=!1}else f=nr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Yt(n),n):(Yt(n),null)}return Yt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=n.child,f=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(f=a.alternate.memoizedState.cachePool.pool),m=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(m=a.memoizedState.cachePool.pool),m!==f&&(a.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Cs(n,n.updateQueue),tt(n),null);case 4:return ae(),e===null&&mu(n.stateNode.containerInfo),tt(n),null;case 10:return wn(n.type),tt(n),null;case 19:if(z(at),a=n.memoizedState,a===null)return tt(n),null;if(f=(n.flags&128)!==0,m=a.rendering,m===null)if(f)rl(a,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=fs(e),m!==null){for(n.flags|=128,rl(a,!1),e=m.updateQueue,n.updateQueue=e,Cs(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Td(l,e),l=l.sibling;return W(at,at.current&1|2),ke&&An(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&qe()>Ms&&(n.flags|=128,f=!0,rl(a,!1),n.lanes=4194304)}else{if(!f)if(e=fs(m),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,Cs(n,e),rl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!m.alternate&&!ke)return tt(n),null}else 2*qe()-a.renderingStartTime>Ms&&l!==536870912&&(n.flags|=128,f=!0,rl(a,!1),n.lanes=4194304);a.isBackwards?(m.sibling=n.child,n.child=m):(e=a.last,e!==null?e.sibling=m:n.child=m,a.last=m)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=qe(),e.sibling=null,l=at.current,W(at,f?l&1|2:l&1),ke&&An(n,a.treeForkCount),e):(tt(n),null);case 22:case 23:return Yt(n),hr(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(l&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),l=n.updateQueue,l!==null&&Cs(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==l&&(n.flags|=2048),e!==null&&z(Ri),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wn(ct),tt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Fy(e,n){switch(er(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wn(ct),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Be(n),null;case 31:if(n.memoizedState!==null){if(Yt(n),n.alternate===null)throw Error(s(340));Ai()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Yt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ai()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return z(at),null;case 4:return ae(),null;case 10:return wn(n.type),null;case 22:case 23:return Yt(n),hr(),e!==null&&z(Ri),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wn(ct),null;case 25:return null;default:return null}}function Qf(e,n){switch(er(n),n.tag){case 3:wn(ct),ae();break;case 26:case 27:case 5:Be(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&Yt(n);break;case 13:Yt(n);break;case 19:z(at);break;case 10:wn(n.type);break;case 22:case 23:Yt(n),hr(),e!==null&&z(Ri);break;case 24:wn(ct)}}function ul(e,n){try{var l=n.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var f=a.next;l=f;do{if((l.tag&e)===e){a=void 0;var m=l.create,S=l.inst;a=m(),S.destroy=a}l=l.next}while(l!==f)}}catch(T){Je(n,n.return,T)}}function ii(e,n,l){try{var a=n.updateQueue,f=a!==null?a.lastEffect:null;if(f!==null){var m=f.next;a=m;do{if((a.tag&e)===e){var S=a.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,f=n;var C=l,U=T;try{U()}catch(O){Je(f,C,O)}}}a=a.next}while(a!==m)}}catch(O){Je(n,n.return,O)}}function Zf(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Vd(n,l)}catch(a){Je(e,e.return,a)}}}function Wf(e,n,l){l.props=ki(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Je(e,n,a)}}function cl(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(f){Je(e,n,f)}}function Sn(e,n){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(f){Je(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Je(e,n,f)}else l.current=null}function ep(e){var n=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(f){Je(e,e.return,f)}}function jr(e,n,l){try{var a=e.stateNode;fv(a,e.type,l,n),a[Lt]=n}catch(f){Je(e,e.return,f)}}function tp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ci(e.type)||e.tag===4}function Kr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ci(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xr(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Tn));else if(a!==4&&(a===27&&ci(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Xr(e,n,l),e=e.sibling;e!==null;)Xr(e,n,l),e=e.sibling}function As(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(a!==4&&(a===27&&ci(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(As(e,n,l),e=e.sibling;e!==null;)As(e,n,l),e=e.sibling}function np(e){var n=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Tt(n,a,l),n[xt]=e,n[Lt]=l}catch(m){Je(e,e.return,m)}}var Un=!1,pt=!1,$r=!1,ip=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Jy(e,n){if(e=e.containerInfo,yu=js,e=md(e),Ba(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var f=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,T=-1,C=-1,U=0,O=0,J=e,L=null;t:for(;;){for(var H;J!==l||f!==0&&J.nodeType!==3||(T=S+f),J!==m||a!==0&&J.nodeType!==3||(C=S+a),J.nodeType===3&&(S+=J.nodeValue.length),(H=J.firstChild)!==null;)L=J,J=H;for(;;){if(J===e)break t;if(L===l&&++U===f&&(T=S),L===m&&++O===a&&(C=S),(H=J.nextSibling)!==null)break;J=L,L=J.parentNode}J=H}l=T===-1||C===-1?null:{start:T,end:C}}else l=null}l=l||{start:0,end:0}}else l=null;for(vu={focusedElem:e,selectionRange:l},js=!1,yt=n;yt!==null;)if(n=yt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,yt=e;else for(;yt!==null;){switch(n=yt,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,f=m.memoizedProps,m=m.memoizedState,a=l.stateNode;try{var oe=ki(l.type,f);e=a.getSnapshotBeforeUpdate(oe,m),a.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Je(l,l.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)bu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,yt=e;break}yt=n.return}}function op(e,n,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Ln(e,l),a&4&&ul(5,l);break;case 1:if(Ln(e,l),a&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){Je(l,l.return,S)}else{var f=ki(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Je(l,l.return,S)}}a&64&&Zf(l),a&512&&cl(l,l.return);break;case 3:if(Ln(e,l),a&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Vd(e,n)}catch(S){Je(l,l.return,S)}}break;case 27:n===null&&a&4&&np(l);case 26:case 5:Ln(e,l),n===null&&a&4&&ep(l),a&512&&cl(l,l.return);break;case 12:Ln(e,l);break;case 31:Ln(e,l),a&4&&ap(e,l);break;case 13:Ln(e,l),a&4&&rp(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=ev.bind(null,l),Sv(e,l))));break;case 22:if(a=l.memoizedState!==null||Un,!a){n=n!==null&&n.memoizedState!==null||pt,f=Un;var m=pt;Un=a,(pt=n)&&!m?Gn(e,l,(l.subtreeFlags&8772)!==0):Ln(e,l),Un=f,pt=m}break;case 30:break;default:Ln(e,l)}}function lp(e){var n=e.alternate;n!==null&&(e.alternate=null,lp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Aa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,Ht=!1;function kn(e,n,l){for(l=l.child;l!==null;)sp(e,n,l),l=l.sibling}function sp(e,n,l){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(vi,l)}catch{}switch(l.tag){case 26:pt||Sn(l,n),kn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pt||Sn(l,n);var a=nt,f=Ht;ci(l.type)&&(nt=l.stateNode,Ht=!1),kn(e,n,l),xl(l.stateNode),nt=a,Ht=f;break;case 5:pt||Sn(l,n);case 6:if(a=nt,f=Ht,nt=null,kn(e,n,l),nt=a,Ht=f,nt!==null)if(Ht)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(l.stateNode)}catch(m){Je(l,n,m)}else try{nt.removeChild(l.stateNode)}catch(m){Je(l,n,m)}break;case 18:nt!==null&&(Ht?(e=nt,Zp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),To(e)):Zp(nt,l.stateNode));break;case 4:a=nt,f=Ht,nt=l.stateNode.containerInfo,Ht=!0,kn(e,n,l),nt=a,Ht=f;break;case 0:case 11:case 14:case 15:ii(2,l,n),pt||ii(4,l,n),kn(e,n,l);break;case 1:pt||(Sn(l,n),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Wf(l,n,a)),kn(e,n,l);break;case 21:kn(e,n,l);break;case 22:pt=(a=pt)||l.memoizedState!==null,kn(e,n,l),pt=a;break;default:kn(e,n,l)}}function ap(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{To(e)}catch(l){Je(n,n.return,l)}}}function rp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{To(e)}catch(l){Je(n,n.return,l)}}function Yy(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ip),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ip),n;default:throw Error(s(435,e.tag))}}function Ns(e,n){var l=Yy(e);n.forEach(function(a){if(!l.has(a)){l.add(a);var f=tv.bind(null,e,a);a.then(f,f)}})}function qt(e,n){var l=n.deletions;if(l!==null)for(var a=0;a<l.length;a++){var f=l[a],m=e,S=n,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(ci(T.type)){nt=T.stateNode,Ht=!1;break e}break;case 5:nt=T.stateNode,Ht=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,Ht=!0;break e}T=T.return}if(nt===null)throw Error(s(160));sp(m,S,f),nt=null,Ht=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)up(n,e),n=n.sibling}var pn=null;function up(e,n){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(n,e),zt(e),a&4&&(ii(3,e,e.return),ul(3,e),ii(5,e,e.return));break;case 1:qt(n,e),zt(e),a&512&&(pt||l===null||Sn(l,l.return)),a&64&&Un&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var f=pn;if(qt(n,e),zt(e),a&512&&(pt||l===null||Sn(l,l.return)),a&4){var m=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(a){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ho]||m[xt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(a),f.head.insertBefore(m,f.querySelector("head > title"))),Tt(m,a,l),m[xt]=e,gt(m),a=m;break e;case"link":var S=um("link","href",f).get(a+(l.href||""));if(S){for(var T=0;T<S.length;T++)if(m=S[T],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(T,1);break t}}m=f.createElement(a),Tt(m,a,l),f.head.appendChild(m);break;case"meta":if(S=um("meta","content",f).get(a+(l.content||""))){for(T=0;T<S.length;T++)if(m=S[T],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(T,1);break t}}m=f.createElement(a),Tt(m,a,l),f.head.appendChild(m);break;default:throw Error(s(468,a))}m[xt]=e,gt(m),a=m}e.stateNode=a}else cm(f,e.type,e.stateNode);else e.stateNode=rm(f,a,e.memoizedProps);else m!==a?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,a===null?cm(f,e.type,e.stateNode):rm(f,a,e.memoizedProps)):a===null&&e.stateNode!==null&&jr(e,e.memoizedProps,l.memoizedProps)}break;case 27:qt(n,e),zt(e),a&512&&(pt||l===null||Sn(l,l.return)),l!==null&&a&4&&jr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(qt(n,e),zt(e),a&512&&(pt||l===null||Sn(l,l.return)),e.flags&32){f=e.stateNode;try{Ji(f,"")}catch(oe){Je(e,e.return,oe)}}a&4&&e.stateNode!=null&&(f=e.memoizedProps,jr(e,f,l!==null?l.memoizedProps:f)),a&1024&&($r=!0);break;case 6:if(qt(n,e),zt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(oe){Je(e,e.return,oe)}}break;case 3:if(Bs=null,f=pn,pn=Vs(n.containerInfo),qt(n,e),pn=f,zt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{To(n.containerInfo)}catch(oe){Je(e,e.return,oe)}$r&&($r=!1,cp(e));break;case 4:a=pn,pn=Vs(e.stateNode.containerInfo),qt(n,e),zt(e),pn=a;break;case 12:qt(n,e),zt(e);break;case 31:qt(n,e),zt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ns(e,a)));break;case 13:qt(n,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Rs=qe()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ns(e,a)));break;case 22:f=e.memoizedState!==null;var C=l!==null&&l.memoizedState!==null,U=Un,O=pt;if(Un=U||f,pt=O||C,qt(n,e),pt=O,Un=U,zt(e),a&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||C||Un||pt||Li(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){C=l=n;try{if(m=C.stateNode,f)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=C.stateNode;var J=C.memoizedProps.style,L=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(oe){Je(C,C.return,oe)}}}else if(n.tag===6){if(l===null){C=n;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(oe){Je(C,C.return,oe)}}}else if(n.tag===18){if(l===null){C=n;try{var H=C.stateNode;f?Wp(H,!0):Wp(C.stateNode,!1)}catch(oe){Je(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Ns(e,l))));break;case 19:qt(n,e),zt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ns(e,a)));break;case 30:break;case 21:break;default:qt(n,e),zt(e)}}function zt(e){var n=e.flags;if(n&2){try{for(var l,a=e.return;a!==null;){if(tp(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var f=l.stateNode,m=Kr(e);As(e,m,f);break;case 5:var S=l.stateNode;l.flags&32&&(Ji(S,""),l.flags&=-33);var T=Kr(e);As(e,T,S);break;case 3:case 4:var C=l.stateNode.containerInfo,U=Kr(e);Xr(e,U,C);break;default:throw Error(s(161))}}catch(O){Je(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ln(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)op(e,n.alternate,n),n=n.sibling}function Li(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ii(4,n,n.return),Li(n);break;case 1:Sn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Wf(n,n.return,l),Li(n);break;case 27:xl(n.stateNode);case 26:case 5:Sn(n,n.return),Li(n);break;case 22:n.memoizedState===null&&Li(n);break;case 30:Li(n);break;default:Li(n)}e=e.sibling}}function Gn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,f=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:Gn(f,m,l),ul(4,m);break;case 1:if(Gn(f,m,l),a=m,f=a.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Je(a,a.return,U)}if(a=m,f=a.updateQueue,f!==null){var T=a.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)Od(C[f],T)}catch(U){Je(a,a.return,U)}}l&&S&64&&Zf(m),cl(m,m.return);break;case 27:np(m);case 26:case 5:Gn(f,m,l),l&&a===null&&S&4&&ep(m),cl(m,m.return);break;case 12:Gn(f,m,l);break;case 31:Gn(f,m,l),l&&S&4&&ap(f,m);break;case 13:Gn(f,m,l),l&&S&4&&rp(f,m);break;case 22:m.memoizedState===null&&Gn(f,m,l),cl(m,m.return);break;case 30:break;default:Gn(f,m,l)}n=n.sibling}}function Qr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&$o(l))}function Zr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$o(e))}function mn(e,n,l,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dp(e,n,l,a),n=n.sibling}function dp(e,n,l,a){var f=n.flags;switch(n.tag){case 0:case 11:case 15:mn(e,n,l,a),f&2048&&ul(9,n);break;case 1:mn(e,n,l,a);break;case 3:mn(e,n,l,a),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$o(e)));break;case 12:if(f&2048){mn(e,n,l,a),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,T=m.onPostCommit;typeof T=="function"&&T(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Je(n,n.return,C)}}else mn(e,n,l,a);break;case 31:mn(e,n,l,a);break;case 13:mn(e,n,l,a);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?mn(e,n,l,a):dl(e,n):m._visibility&2?mn(e,n,l,a):(m._visibility|=2,fo(e,n,l,a,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Qr(S,n);break;case 24:mn(e,n,l,a),f&2048&&Zr(n.alternate,n);break;default:mn(e,n,l,a)}}function fo(e,n,l,a,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,T=l,C=a,U=S.flags;switch(S.tag){case 0:case 11:case 15:fo(m,S,T,C,f),ul(8,S);break;case 23:break;case 22:var O=S.stateNode;S.memoizedState!==null?O._visibility&2?fo(m,S,T,C,f):dl(m,S):(O._visibility|=2,fo(m,S,T,C,f)),f&&U&2048&&Qr(S.alternate,S);break;case 24:fo(m,S,T,C,f),f&&U&2048&&Zr(S.alternate,S);break;default:fo(m,S,T,C,f)}n=n.sibling}}function dl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,a=n,f=a.flags;switch(a.tag){case 22:dl(l,a),f&2048&&Qr(a.alternate,a);break;case 24:dl(l,a),f&2048&&Zr(a.alternate,a);break;default:dl(l,a)}n=n.sibling}}var fl=8192;function po(e,n,l){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)fp(e,n,l),e=e.sibling}function fp(e,n,l){switch(e.tag){case 26:po(e,n,l),e.flags&fl&&e.memoizedState!==null&&Dv(l,pn,e.memoizedState,e.memoizedProps);break;case 5:po(e,n,l);break;case 3:case 4:var a=pn;pn=Vs(e.stateNode.containerInfo),po(e,n,l),pn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=fl,fl=16777216,po(e,n,l),fl=a):po(e,n,l));break;default:po(e,n,l)}}function pp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function pl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];yt=a,hp(a,e)}pp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mp(e),e=e.sibling}function mp(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&ii(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ws(e)):pl(e);break;default:pl(e)}}function ws(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];yt=a,hp(a,e)}pp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ii(8,n,n.return),ws(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,ws(n));break;default:ws(n)}e=e.sibling}}function hp(e,n){for(;yt!==null;){var l=yt;switch(l.tag){case 0:case 11:case 15:ii(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:$o(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,yt=a;else e:for(l=e;yt!==null;){a=yt;var f=a.sibling,m=a.return;if(lp(a),a===l){yt=null;break e}if(f!==null){f.return=m,yt=f;break e}yt=m}}}var jy={getCacheForType:function(e){var n=bt(ct),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return bt(ct).controller.signal}},Ky=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Qe=null,Me=null,De=0,Fe=0,jt=null,oi=!1,mo=!1,Wr=!1,Hn=0,st=0,li=0,Gi=0,eu=0,Kt=0,ho=0,ml=null,Ot=null,tu=!1,Rs=0,gp=0,Ms=1/0,Is=null,si=null,mt=0,ai=null,go=null,qn=0,nu=0,iu=null,yp=null,hl=0,ou=null;function Xt(){return(Pe&2)!==0&&De!==0?De&-De:G.T!==null?cu():Dc()}function vp(){if(Kt===0)if((De&536870912)===0||ke){var e=zl;zl<<=1,(zl&3932160)===0&&(zl=262144),Kt=e}else Kt=536870912;return e=Jt.current,e!==null&&(e.flags|=32),Kt}function Vt(e,n,l){(e===Qe&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(yo(e,0),ri(e,De,Kt,!1)),Go(e,l),((Pe&2)===0||e!==Qe)&&(e===Qe&&((Pe&2)===0&&(Gi|=l),st===4&&ri(e,De,Kt,!1)),bn(e))}function xp(e,n,l){if((Pe&6)!==0)throw Error(s(327));var a=!l&&(n&127)===0&&(n&e.expiredLanes)===0||Lo(e,n),f=a?Qy(e,n):su(e,n,!0),m=a;do{if(f===0){mo&&!a&&ri(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!Xy(l)){f=su(e,n,!1),m=!1;continue}if(f===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var T=e;f=ml;var C=T.current.memoizedState.isDehydrated;if(C&&(yo(T,S).flags|=256),S=su(T,S,!1),S!==2){if(Wr&&!C){T.errorRecoveryDisabledLanes|=m,Gi|=m,f=4;break e}m=Ot,Ot=f,m!==null&&(Ot===null?Ot=m:Ot.push.apply(Ot,m))}f=S}if(m=!1,f!==2)continue}}if(f===1){yo(e,0),ri(e,n,0,!0);break}e:{switch(a=e,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ri(a,n,Kt,!oi);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Rs+300-qe(),10<f)){if(ri(a,n,Kt,!oi),Vl(a,0,!0)!==0)break e;qn=n,a.timeoutHandle=$p(Sp.bind(null,a,l,Ot,Is,tu,n,Kt,Gi,ho,oi,m,"Throttled",-0,0),f);break e}Sp(a,l,Ot,Is,tu,n,Kt,Gi,ho,oi,m,null,-0,0)}}break}while(!0);bn(e)}function Sp(e,n,l,a,f,m,S,T,C,U,O,J,L,H){if(e.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},fp(n,m,J);var oe=(m&62914560)===m?Rs-qe():(m&4194048)===m?gp-qe():0;if(oe=Uv(J,oe),oe!==null){qn=m,e.cancelPendingCommit=oe(wp.bind(null,e,n,m,l,a,f,S,T,C,O,J,null,L,H)),ri(e,m,S,!U);return}}wp(e,n,m,l,a,f,S,T,C)}function Xy(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var f=l[a],m=f.getSnapshot;f=f.value;try{if(!Bt(m(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ri(e,n,l,a){n&=~eu,n&=~Gi,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var f=n;0<f;){var m=31-Mt(f),S=1<<m;a[m]=-1,f&=~S}l!==0&&Rc(e,l,n)}function Ds(){return(Pe&6)===0?(gl(0),!1):!0}function lu(){if(Me!==null){if(Fe===0)var e=Me.return;else e=Me,Nn=Ni=null,br(e),so=null,Zo=0,e=Me;for(;e!==null;)Qf(e.alternate,e),e=e.return;Me=null}}function yo(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,hv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),qn=0,lu(),Qe=e,Me=l=Cn(e.current,null),De=n,Fe=0,jt=null,oi=!1,mo=Lo(e,n),Wr=!1,ho=Kt=eu=Gi=li=st=0,Ot=ml=null,tu=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var f=31-Mt(a),m=1<<f;n|=e[f],a&=~m}return Hn=n,Wl(),l}function bp(e,n){Ee=null,G.H=sl,n===lo||n===as?(n=Gd(),Fe=3):n===ur?(n=Gd(),Fe=4):Fe=n===Hr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jt=n,Me===null&&(st=1,bs(e,en(n,e.current)))}function _p(){var e=Jt.current;return e===null?!0:(De&4194048)===De?ln===null:(De&62914560)===De||(De&536870912)!==0?e===ln:!1}function Tp(){var e=G.H;return G.H=sl,e===null?sl:e}function Ep(){var e=G.A;return G.A=jy,e}function Us(){st=4,oi||(De&4194048)!==De&&Jt.current!==null||(mo=!0),(li&134217727)===0&&(Gi&134217727)===0||Qe===null||ri(Qe,De,Kt,!1)}function su(e,n,l){var a=Pe;Pe|=2;var f=Tp(),m=Ep();(Qe!==e||De!==n)&&(Is=null,yo(e,n)),n=!1;var S=st;e:do try{if(Fe!==0&&Me!==null){var T=Me,C=jt;switch(Fe){case 8:lu(),S=6;break e;case 3:case 2:case 9:case 6:Jt.current===null&&(n=!0);var U=Fe;if(Fe=0,jt=null,vo(e,T,C,U),l&&mo){S=0;break e}break;default:U=Fe,Fe=0,jt=null,vo(e,T,C,U)}}$y(),S=st;break}catch(O){bp(e,O)}while(!0);return n&&e.shellSuspendCounter++,Nn=Ni=null,Pe=a,G.H=f,G.A=m,Me===null&&(Qe=null,De=0,Wl()),S}function $y(){for(;Me!==null;)Cp(Me)}function Qy(e,n){var l=Pe;Pe|=2;var a=Tp(),f=Ep();Qe!==e||De!==n?(Is=null,Ms=qe()+500,yo(e,n)):mo=Lo(e,n);e:do try{if(Fe!==0&&Me!==null){n=Me;var m=jt;t:switch(Fe){case 1:Fe=0,jt=null,vo(e,n,m,1);break;case 2:case 9:if(kd(m)){Fe=0,jt=null,Ap(n);break}n=function(){Fe!==2&&Fe!==9||Qe!==e||(Fe=7),bn(e)},m.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:kd(m)?(Fe=0,jt=null,Ap(n)):(Fe=0,jt=null,vo(e,n,m,7));break;case 5:var S=null;switch(Me.tag){case 26:S=Me.memoizedState;case 5:case 27:var T=Me;if(S?dm(S):T.stateNode.complete){Fe=0,jt=null;var C=T.sibling;if(C!==null)Me=C;else{var U=T.return;U!==null?(Me=U,ks(U)):Me=null}break t}}Fe=0,jt=null,vo(e,n,m,5);break;case 6:Fe=0,jt=null,vo(e,n,m,6);break;case 8:lu(),st=6;break e;default:throw Error(s(462))}}Zy();break}catch(O){bp(e,O)}while(!0);return Nn=Ni=null,G.H=a,G.A=f,Pe=l,Me!==null?0:(Qe=null,De=0,Wl(),st)}function Zy(){for(;Me!==null&&!kt();)Cp(Me)}function Cp(e){var n=Xf(e.alternate,e,Hn);e.memoizedProps=e.pendingProps,n===null?ks(e):Me=n}function Ap(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Bf(l,n,n.pendingProps,n.type,void 0,De);break;case 11:n=Bf(l,n,n.pendingProps,n.type.render,n.ref,De);break;case 5:br(n);default:Qf(l,n),n=Me=Td(n,Hn),n=Xf(l,n,Hn)}e.memoizedProps=e.pendingProps,n===null?ks(e):Me=n}function vo(e,n,l,a){Nn=Ni=null,br(n),so=null,Zo=0;var f=n.return;try{if(Oy(e,f,n,l,De)){st=1,bs(e,en(l,e.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;st=1,bs(e,en(l,e.current)),Me=null;return}n.flags&32768?(ke||a===1?e=!0:mo||(De&536870912)!==0?e=!1:(oi=e=!0,(a===2||a===9||a===3||a===6)&&(a=Jt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Np(n,e)):ks(n)}function ks(e){var n=e;do{if((n.flags&32768)!==0){Np(n,oi);return}e=n.return;var l=By(n.alternate,n,Hn);if(l!==null){Me=l;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=e}while(n!==null);st===0&&(st=5)}function Np(e,n){do{var l=Fy(e.alternate,e);if(l!==null){l.flags&=32767,Me=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Me=e;return}Me=e=l}while(e!==null);st=6,Me=null}function wp(e,n,l,a,f,m,S,T,C){e.cancelPendingCommit=null;do Ls();while(mt!==0);if((Pe&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=Ka,Ig(e,l,m,S,T,C),e===Qe&&(Me=Qe=null,De=0),go=n,ai=e,qn=l,nu=m,iu=f,yp=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nv(wt,function(){return Up(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null,f=$.p,$.p=2,S=Pe,Pe|=4;try{Jy(e,n,l)}finally{Pe=S,$.p=f,G.T=a}}mt=1,Rp(),Mp(),Ip()}}function Rp(){if(mt===1){mt=0;var e=ai,n=go,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var a=$.p;$.p=2;var f=Pe;Pe|=4;try{up(n,e);var m=vu,S=md(e.containerInfo),T=m.focusedElem,C=m.selectionRange;if(S!==T&&T&&T.ownerDocument&&pd(T.ownerDocument.documentElement,T)){if(C!==null&&Ba(T)){var U=C.start,O=C.end;if(O===void 0&&(O=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(O,T.value.length);else{var J=T.ownerDocument||document,L=J&&J.defaultView||window;if(L.getSelection){var H=L.getSelection(),oe=T.textContent.length,ye=Math.min(C.start,oe),Xe=C.end===void 0?ye:Math.min(C.end,oe);!H.extend&&ye>Xe&&(S=Xe,Xe=ye,ye=S);var R=fd(T,ye),N=fd(T,Xe);if(R&&N&&(H.rangeCount!==1||H.anchorNode!==R.node||H.anchorOffset!==R.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var D=J.createRange();D.setStart(R.node,R.offset),H.removeAllRanges(),ye>Xe?(H.addRange(D),H.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),H.addRange(D))}}}}for(J=[],H=T;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var P=J[T];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}js=!!yu,vu=yu=null}finally{Pe=f,$.p=a,G.T=l}}e.current=n,mt=2}}function Mp(){if(mt===2){mt=0;var e=ai,n=go,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var a=$.p;$.p=2;var f=Pe;Pe|=4;try{op(e,n.alternate,n)}finally{Pe=f,$.p=a,G.T=l}}mt=3}}function Ip(){if(mt===4||mt===3){mt=0,ut();var e=ai,n=go,l=qn,a=yp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?mt=5:(mt=0,go=ai=null,Dp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(si=null),Ea(l),n=n.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(vi,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=G.T,f=$.p,$.p=2,G.T=null;try{for(var m=e.onRecoverableError,S=0;S<a.length;S++){var T=a[S];m(T.value,{componentStack:T.stack})}}finally{G.T=n,$.p=f}}(qn&3)!==0&&Ls(),bn(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===ou?hl++:(hl=0,ou=e):hl=0,gl(0)}}function Dp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,$o(n)))}function Ls(){return Rp(),Mp(),Ip(),Up()}function Up(){if(mt!==5)return!1;var e=ai,n=nu;nu=0;var l=Ea(qn),a=G.T,f=$.p;try{$.p=32>l?32:l,G.T=null,l=iu,iu=null;var m=ai,S=qn;if(mt=0,go=ai=null,qn=0,(Pe&6)!==0)throw Error(s(331));var T=Pe;if(Pe|=4,mp(m.current),dp(m,m.current,S,l),Pe=T,gl(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(vi,m)}catch{}return!0}finally{$.p=f,G.T=a,Dp(e,n)}}function kp(e,n,l){n=en(l,n),n=Gr(e.stateNode,n,2),e=ei(e,n,2),e!==null&&(Go(e,2),bn(e))}function Je(e,n,l){if(e.tag===3)kp(e,e,l);else for(;n!==null;){if(n.tag===3){kp(n,e,l);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(si===null||!si.has(a))){e=en(l,e),l=Lf(2),a=ei(n,l,2),a!==null&&(Gf(l,a,n,e),Go(a,2),bn(a));break}}n=n.return}}function au(e,n,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Ky;var f=new Set;a.set(n,f)}else f=a.get(n),f===void 0&&(f=new Set,a.set(n,f));f.has(l)||(Wr=!0,f.add(l),e=Wy.bind(null,e,n,l),n.then(e,e))}function Wy(e,n,l){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Qe===e&&(De&l)===l&&(st===4||st===3&&(De&62914560)===De&&300>qe()-Rs?(Pe&2)===0&&yo(e,0):eu|=l,ho===De&&(ho=0)),bn(e)}function Lp(e,n){n===0&&(n=wc()),e=Ei(e,n),e!==null&&(Go(e,n),bn(e))}function ev(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Lp(e,l)}function tv(e,n){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(n),Lp(e,l)}function nv(e,n){return Et(e,n)}var Gs=null,xo=null,ru=!1,Hs=!1,uu=!1,ui=0;function bn(e){e!==xo&&e.next===null&&(xo===null?Gs=xo=e:xo=xo.next=e),Hs=!0,ru||(ru=!0,ov())}function gl(e,n){if(!uu&&Hs){uu=!0;do for(var l=!1,a=Gs;a!==null;){if(e!==0){var f=a.pendingLanes;if(f===0)var m=0;else{var S=a.suspendedLanes,T=a.pingedLanes;m=(1<<31-Mt(42|e)+1)-1,m&=f&~(S&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,zp(a,m))}else m=De,m=Vl(a,a===Qe?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(m&3)===0||Lo(a,m)||(l=!0,zp(a,m));a=a.next}while(l);uu=!1}}function iv(){Gp()}function Gp(){Hs=ru=!1;var e=0;ui!==0&&mv()&&(e=ui);for(var n=qe(),l=null,a=Gs;a!==null;){var f=a.next,m=Hp(a,n);m===0?(a.next=null,l===null?Gs=f:l.next=f,f===null&&(xo=l)):(l=a,(e!==0||(m&3)!==0)&&(Hs=!0)),a=f}mt!==0&&mt!==5||gl(e),ui!==0&&(ui=0)}function Hp(e,n){for(var l=e.suspendedLanes,a=e.pingedLanes,f=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-Mt(m),T=1<<S,C=f[S];C===-1?((T&l)===0||(T&a)!==0)&&(f[S]=Mg(T,n)):C<=n&&(e.expiredLanes|=T),m&=~T}if(n=Qe,l=De,l=Vl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===n&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ot(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Lo(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(a!==null&&ot(a),Ea(l)){case 2:case 8:l=Ce;break;case 32:l=wt;break;case 268435456:l=ql;break;default:l=wt}return a=qp.bind(null,e),l=Et(l,a),e.callbackPriority=n,e.callbackNode=l,n}return a!==null&&a!==null&&ot(a),e.callbackPriority=2,e.callbackNode=null,2}function qp(e,n){if(mt!==0&&mt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ls()&&e.callbackNode!==l)return null;var a=De;return a=Vl(e,e===Qe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(xp(e,a,n),Hp(e,qe()),e.callbackNode!=null&&e.callbackNode===l?qp.bind(null,e):null)}function zp(e,n){if(Ls())return null;xp(e,n,!0)}function ov(){gv(function(){(Pe&6)!==0?Et(ve,iv):Gp()})}function cu(){if(ui===0){var e=io;e===0&&(e=$t,$t<<=1,($t&261888)===0&&($t=256)),ui=e}return ui}function Op(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jl(""+e)}function Vp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function lv(e,n,l,a,f){if(n==="submit"&&l&&l.stateNode===f){var m=Op((f[Lt]||null).action),S=a.submitter;S&&(n=(n=S[Lt]||null)?Op(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var T=new Xl("action","action",null,a,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(ui!==0){var C=S?Vp(f,S):new FormData(f);Mr(l,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(T.preventDefault(),C=S?Vp(f,S):new FormData(f),Mr(l,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var du=0;du<ja.length;du++){var fu=ja[du],sv=fu.toLowerCase(),av=fu[0].toUpperCase()+fu.slice(1);fn(sv,"on"+av)}fn(yd,"onAnimationEnd"),fn(vd,"onAnimationIteration"),fn(xd,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Ty,"onTransitionRun"),fn(Ey,"onTransitionStart"),fn(Cy,"onTransitionCancel"),fn(Sd,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function Pp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],f=a.event;a=a.listeners;e:{var m=void 0;if(n)for(var S=a.length-1;0<=S;S--){var T=a[S],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=U;try{m(f)}catch(O){Zl(O)}f.currentTarget=null,m=C}else for(S=0;S<a.length;S++){if(T=a[S],C=T.instance,U=T.currentTarget,T=T.listener,C!==m&&f.isPropagationStopped())break e;m=T,f.currentTarget=U;try{m(f)}catch(O){Zl(O)}f.currentTarget=null,m=C}}}}function Ie(e,n){var l=n[Ca];l===void 0&&(l=n[Ca]=new Set);var a=e+"__bubble";l.has(a)||(Bp(n,e,2,!1),l.add(a))}function pu(e,n,l){var a=0;n&&(a|=4),Bp(l,e,a,n)}var qs="_reactListening"+Math.random().toString(36).slice(2);function mu(e){if(!e[qs]){e[qs]=!0,Lc.forEach(function(l){l!=="selectionchange"&&(rv.has(l)||pu(l,!1,e),pu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[qs]||(n[qs]=!0,pu("selectionchange",!1,n))}}function Bp(e,n,l,a){switch(vm(n)){case 2:var f=Gv;break;case 8:f=Hv;break;default:f=Ru}l=f.bind(null,n,l,e),f=void 0,!ka||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),a?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function hu(e,n,l,a,f){var m=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var T=a.stateNode.containerInfo;if(T===f)break;if(S===4)for(S=a.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;T!==null;){if(S=Oi(T),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){a=m=S;continue e}T=T.parentNode}}a=a.return}jc(function(){var U=m,O=Da(l),J=[];e:{var L=bd.get(e);if(L!==void 0){var H=Xl,oe=e;switch(e){case"keypress":if(jl(l)===0)break e;case"keydown":case"keyup":H=ty;break;case"focusin":oe="focus",H=qa;break;case"focusout":oe="blur",H=qa;break;case"beforeblur":case"afterblur":H=qa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Bg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=oy;break;case yd:case vd:case xd:H=Yg;break;case Sd:H=sy;break;case"scroll":case"scrollend":H=Vg;break;case"wheel":H=ry;break;case"copy":case"cut":case"paste":H=Kg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Zc;break;case"toggle":case"beforetoggle":H=cy}var ye=(n&4)!==0,Xe=!ye&&(e==="scroll"||e==="scrollend"),R=ye?L!==null?L+"Capture":null:L;ye=[];for(var N=U,D;N!==null;){var P=N;if(D=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||D===null||R===null||(P=zo(N,R),P!=null&&ye.push(vl(N,P,D))),Xe)break;N=N.return}0<ye.length&&(L=new H(L,oe,null,l,O),J.push({event:L,listeners:ye}))}}if((n&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&l!==Ia&&(oe=l.relatedTarget||l.fromElement)&&(Oi(oe)||oe[zi]))break e;if((H||L)&&(L=O.window===O?O:(L=O.ownerDocument)?L.defaultView||L.parentWindow:window,H?(oe=l.relatedTarget||l.toElement,H=U,oe=oe?Oi(oe):null,oe!==null&&(Xe=c(oe),ye=oe.tag,oe!==Xe||ye!==5&&ye!==27&&ye!==6)&&(oe=null)):(H=null,oe=U),H!==oe)){if(ye=$c,P="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ye=Zc,P="onPointerLeave",R="onPointerEnter",N="pointer"),Xe=H==null?L:qo(H),D=oe==null?L:qo(oe),L=new ye(P,N+"leave",H,l,O),L.target=Xe,L.relatedTarget=D,P=null,Oi(O)===U&&(ye=new ye(R,N+"enter",oe,l,O),ye.target=D,ye.relatedTarget=Xe,P=ye),Xe=P,H&&oe)t:{for(ye=uv,R=H,N=oe,D=0,P=R;P;P=ye(P))D++;P=0;for(var pe=N;pe;pe=ye(pe))P++;for(;0<D-P;)R=ye(R),D--;for(;0<P-D;)N=ye(N),P--;for(;D--;){if(R===N||N!==null&&R===N.alternate){ye=R;break t}R=ye(R),N=ye(N)}ye=null}else ye=null;H!==null&&Fp(J,L,H,ye,!1),oe!==null&&Xe!==null&&Fp(J,Xe,oe,ye,!0)}}e:{if(L=U?qo(U):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var ze=sd;else if(od(L))if(ad)ze=Sy;else{ze=vy;var se=yy}else H=L.nodeName,!H||H.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?U&&Ma(U.elementType)&&(ze=sd):ze=xy;if(ze&&(ze=ze(e,U))){ld(J,ze,l,O);break e}se&&se(e,L,U),e==="focusout"&&U&&L.type==="number"&&U.memoizedProps.value!=null&&Ra(L,"number",L.value)}switch(se=U?qo(U):window,e){case"focusin":(od(se)||se.contentEditable==="true")&&(Xi=se,Fa=U,jo=null);break;case"focusout":jo=Fa=Xi=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,hd(J,l,O);break;case"selectionchange":if(_y)break;case"keydown":case"keyup":hd(J,l,O)}var Ae;if(Oa)e:{switch(e){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ki?nd(e,l)&&(Ue="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(Wc&&l.locale!=="ko"&&(Ki||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ki&&(Ae=Kc()):(jn=O,La="value"in jn?jn.value:jn.textContent,Ki=!0)),se=zs(U,Ue),0<se.length&&(Ue=new Qc(Ue,e,null,l,O),J.push({event:Ue,listeners:se}),Ae?Ue.data=Ae:(Ae=id(l),Ae!==null&&(Ue.data=Ae)))),(Ae=fy?py(e,l):my(e,l))&&(Ue=zs(U,"onBeforeInput"),0<Ue.length&&(se=new Qc("onBeforeInput","beforeinput",null,l,O),J.push({event:se,listeners:Ue}),se.data=Ae)),lv(J,e,U,l,O)}Pp(J,n)})}function vl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function zs(e,n){for(var l=n+"Capture",a=[];e!==null;){var f=e,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=zo(e,l),f!=null&&a.unshift(vl(e,f,m)),f=zo(e,n),f!=null&&a.push(vl(e,f,m))),e.tag===3)return a;e=e.return}return[]}function uv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fp(e,n,l,a,f){for(var m=n._reactName,S=[];l!==null&&l!==a;){var T=l,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===a)break;T!==5&&T!==26&&T!==27||U===null||(C=U,f?(U=zo(l,m),U!=null&&S.unshift(vl(l,U,C))):f||(U=zo(l,m),U!=null&&S.push(vl(l,U,C)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var cv=/\r\n?/g,dv=/\u0000|\uFFFD/g;function Jp(e){return(typeof e=="string"?e:""+e).replace(cv,`
`).replace(dv,"")}function Yp(e,n){return n=Jp(n),Jp(e)===n}function Ke(e,n,l,a,f,m){switch(l){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||Ji(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&Ji(e,""+a);break;case"className":Bl(e,"class",a);break;case"tabIndex":Bl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Bl(e,l,a);break;case"style":Jc(e,a,m);break;case"data":if(n!=="object"){Bl(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Jl(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&Ke(e,n,"name",f.name,f,null),Ke(e,n,"formEncType",f.formEncType,f,null),Ke(e,n,"formMethod",f.formMethod,f,null),Ke(e,n,"formTarget",f.formTarget,f,null)):(Ke(e,n,"encType",f.encType,f,null),Ke(e,n,"method",f.method,f,null),Ke(e,n,"target",f.target,f,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Jl(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Tn);break;case"onScroll":a!=null&&Ie("scroll",e);break;case"onScrollEnd":a!=null&&Ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Jl(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Ie("beforetoggle",e),Ie("toggle",e),Pl(e,"popover",a);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Pl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zg.get(l)||l,Pl(e,l,a))}}function gu(e,n,l,a,f,m){switch(l){case"style":Jc(e,a,m);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ji(e,a):(typeof a=="number"||typeof a=="bigint")&&Ji(e,""+a);break;case"onScroll":a!=null&&Ie("scroll",e);break;case"onScrollEnd":a!=null&&Ie("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),m=e[Lt]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,f),typeof a=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,a,f);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Pl(e,l,a)}}}function Tt(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",e),Ie("load",e);var a=!1,f=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":a=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ke(e,n,m,S,l,null)}}f&&Ke(e,n,"srcSet",l.srcSet,l,null),a&&Ke(e,n,"src",l.src,l,null);return;case"input":Ie("invalid",e);var T=m=S=f=null,C=null,U=null;for(a in l)if(l.hasOwnProperty(a)){var O=l[a];if(O!=null)switch(a){case"name":f=O;break;case"type":S=O;break;case"checked":C=O;break;case"defaultChecked":U=O;break;case"value":m=O;break;case"defaultValue":T=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,n));break;default:Ke(e,n,a,O,l,null)}}Vc(e,m,T,C,U,S,f,!1);return;case"select":Ie("invalid",e),a=S=m=null;for(f in l)if(l.hasOwnProperty(f)&&(T=l[f],T!=null))switch(f){case"value":m=T;break;case"defaultValue":S=T;break;case"multiple":a=T;default:Ke(e,n,f,T,l,null)}n=m,l=S,e.multiple=!!a,n!=null?Fi(e,!!a,n,!1):l!=null&&Fi(e,!!a,l,!0);return;case"textarea":Ie("invalid",e),m=f=a=null;for(S in l)if(l.hasOwnProperty(S)&&(T=l[S],T!=null))switch(S){case"value":a=T;break;case"defaultValue":f=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ke(e,n,S,T,l,null)}Bc(e,a,f,m);return;case"option":for(C in l)if(l.hasOwnProperty(C)&&(a=l[C],a!=null))switch(C){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ke(e,n,C,a,l,null)}return;case"dialog":Ie("beforetoggle",e),Ie("toggle",e),Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":Ie("load",e);break;case"video":case"audio":for(a=0;a<yl.length;a++)Ie(yl[a],e);break;case"image":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"embed":case"source":case"link":Ie("error",e),Ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(a=l[U],a!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Ke(e,n,U,a,l,null)}return;default:if(Ma(n)){for(O in l)l.hasOwnProperty(O)&&(a=l[O],a!==void 0&&gu(e,n,O,a,l,void 0));return}}for(T in l)l.hasOwnProperty(T)&&(a=l[T],a!=null&&Ke(e,n,T,a,l,null))}function fv(e,n,l,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,S=null,T=null,C=null,U=null,O=null;for(H in l){var J=l[H];if(l.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=J;default:a.hasOwnProperty(H)||Ke(e,n,H,null,a,J)}}for(var L in a){var H=a[L];if(J=l[L],a.hasOwnProperty(L)&&(H!=null||J!=null))switch(L){case"type":m=H;break;case"name":f=H;break;case"checked":U=H;break;case"defaultChecked":O=H;break;case"value":S=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==J&&Ke(e,n,L,H,a,J)}}wa(e,S,T,C,U,O,m,f);return;case"select":H=S=T=L=null;for(m in l)if(C=l[m],l.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":H=C;default:a.hasOwnProperty(m)||Ke(e,n,m,null,a,C)}for(f in a)if(m=a[f],C=l[f],a.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":L=m;break;case"defaultValue":T=m;break;case"multiple":S=m;default:m!==C&&Ke(e,n,f,m,a,C)}n=T,l=S,a=H,L!=null?Fi(e,!!l,L,!1):!!a!=!!l&&(n!=null?Fi(e,!!l,n,!0):Fi(e,!!l,l?[]:"",!1));return;case"textarea":H=L=null;for(T in l)if(f=l[T],l.hasOwnProperty(T)&&f!=null&&!a.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ke(e,n,T,null,a,f)}for(S in a)if(f=a[S],m=l[S],a.hasOwnProperty(S)&&(f!=null||m!=null))switch(S){case"value":L=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ke(e,n,S,f,a,m)}Pc(e,L,H);return;case"option":for(var oe in l)if(L=l[oe],l.hasOwnProperty(oe)&&L!=null&&!a.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Ke(e,n,oe,null,a,L)}for(C in a)if(L=a[C],H=l[C],a.hasOwnProperty(C)&&L!==H&&(L!=null||H!=null))switch(C){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Ke(e,n,C,L,a,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in l)L=l[ye],l.hasOwnProperty(ye)&&L!=null&&!a.hasOwnProperty(ye)&&Ke(e,n,ye,null,a,L);for(U in a)if(L=a[U],H=l[U],a.hasOwnProperty(U)&&L!==H&&(L!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,n));break;default:Ke(e,n,U,L,a,H)}return;default:if(Ma(n)){for(var Xe in l)L=l[Xe],l.hasOwnProperty(Xe)&&L!==void 0&&!a.hasOwnProperty(Xe)&&gu(e,n,Xe,void 0,a,L);for(O in a)L=a[O],H=l[O],!a.hasOwnProperty(O)||L===H||L===void 0&&H===void 0||gu(e,n,O,L,a,H);return}}for(var R in l)L=l[R],l.hasOwnProperty(R)&&L!=null&&!a.hasOwnProperty(R)&&Ke(e,n,R,null,a,L);for(J in a)L=a[J],H=l[J],!a.hasOwnProperty(J)||L===H||L==null&&H==null||Ke(e,n,J,L,a,H)}function jp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var f=l[a],m=f.transferSize,S=f.initiatorType,T=f.duration;if(m&&T&&jp(S)){for(S=0,T=f.responseEnd,a+=1;a<l.length;a++){var C=l[a],U=C.startTime;if(U>T)break;var O=C.transferSize,J=C.initiatorType;O&&jp(J)&&(C=C.responseEnd,S+=O*(C<T?1:(T-U)/(C-U)))}if(--a,n+=8*(m+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yu=null,vu=null;function Os(e){return e.nodeType===9?e:e.ownerDocument}function Kp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function xu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Su=null;function mv(){var e=window.event;return e&&e.type==="popstate"?e===Su?!1:(Su=e,!0):(Su=null,!1)}var $p=typeof setTimeout=="function"?setTimeout:void 0,hv=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,gv=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(e){return Qp.resolve(null).then(e).catch(yv)}:$p;function yv(e){setTimeout(function(){throw e})}function ci(e){return e==="head"}function Zp(e,n){var l=n,a=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(f),To(n);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")xl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,xl(l);for(var m=l.firstChild;m;){var S=m.nextSibling,T=m.nodeName;m[Ho]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&xl(e.ownerDocument.body);l=f}while(l);To(n)}function Wp(e,n){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function bu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":bu(l),Aa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function vv(e,n,l,a){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Ho])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=sn(e.nextSibling),e===null)break}return null}function xv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=sn(e.nextSibling),e===null))return null;return e}function em(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=sn(e.nextSibling),e===null))return null;return e}function _u(e){return e.data==="$?"||e.data==="$~"}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sv(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var a=function(){n(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function sn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Eu=null;function tm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return sn(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function nm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function im(e,n,l){switch(n=Os(l),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function xl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Aa(e)}var an=new Map,om=new Set;function Vs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=$.d;$.d={f:bv,r:_v,D:Tv,C:Ev,L:Cv,m:Av,X:wv,S:Nv,M:Rv};function bv(){var e=zn.f(),n=Ds();return e||n}function _v(e){var n=Vi(e);n!==null&&n.tag===5&&n.type==="form"?bf(n):zn.r(e)}var So=typeof document>"u"?null:document;function lm(e,n,l){var a=So;if(a&&typeof n=="string"&&n){var f=Zt(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),om.has(f)||(om.add(f),e={rel:e,crossOrigin:l,href:n},a.querySelector(f)===null&&(n=a.createElement("link"),Tt(n,"link",e),gt(n),a.head.appendChild(n)))}}function Tv(e){zn.D(e),lm("dns-prefetch",e,null)}function Ev(e,n){zn.C(e,n),lm("preconnect",e,n)}function Cv(e,n,l){zn.L(e,n,l);var a=So;if(a&&e&&n){var f='link[rel="preload"][as="'+Zt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Zt(l.imageSizes)+'"]')):f+='[href="'+Zt(e)+'"]';var m=f;switch(n){case"style":m=bo(e);break;case"script":m=_o(e)}an.has(m)||(e=b({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),an.set(m,e),a.querySelector(f)!==null||n==="style"&&a.querySelector(Sl(m))||n==="script"&&a.querySelector(bl(m))||(n=a.createElement("link"),Tt(n,"link",e),gt(n),a.head.appendChild(n)))}}function Av(e,n){zn.m(e,n);var l=So;if(l&&e){var a=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Zt(a)+'"][href="'+Zt(e)+'"]',m=f;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=_o(e)}if(!an.has(m)&&(e=b({rel:"modulepreload",href:e},n),an.set(m,e),l.querySelector(f)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bl(m)))return}a=l.createElement("link"),Tt(a,"link",e),gt(a),l.head.appendChild(a)}}}function Nv(e,n,l){zn.S(e,n,l);var a=So;if(a&&e){var f=Pi(a).hoistableStyles,m=bo(e);n=n||"default";var S=f.get(m);if(!S){var T={loading:0,preload:null};if(S=a.querySelector(Sl(m)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},l),(l=an.get(m))&&Cu(e,l);var C=S=a.createElement("link");gt(C),Tt(C,"link",e),C._p=new Promise(function(U,O){C.onload=U,C.onerror=O}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ps(S,n,a)}S={type:"stylesheet",instance:S,count:1,state:T},f.set(m,S)}}}function wv(e,n){zn.X(e,n);var l=So;if(l&&e){var a=Pi(l).hoistableScripts,f=_o(e),m=a.get(f);m||(m=l.querySelector(bl(f)),m||(e=b({src:e,async:!0},n),(n=an.get(f))&&Au(e,n),m=l.createElement("script"),gt(m),Tt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(f,m))}}function Rv(e,n){zn.M(e,n);var l=So;if(l&&e){var a=Pi(l).hoistableScripts,f=_o(e),m=a.get(f);m||(m=l.querySelector(bl(f)),m||(e=b({src:e,async:!0,type:"module"},n),(n=an.get(f))&&Au(e,n),m=l.createElement("script"),gt(m),Tt(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},a.set(f,m))}}function sm(e,n,l,a){var f=(f=I.current)?Vs(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=bo(l.href),l=Pi(f).hoistableStyles,a=l.get(n),a||(a={type:"style",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=bo(l.href);var m=Pi(f).hoistableStyles,S=m.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=f.querySelector(Sl(e)))&&!m._p&&(S.instance=m,S.state.loading=5),an.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},an.set(e,l),m||Mv(f,e,l,S.state))),n&&a===null)throw Error(s(528,""));return S}if(n&&a!==null)throw Error(s(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_o(l),l=Pi(f).hoistableScripts,a=l.get(n),a||(a={type:"script",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function bo(e){return'href="'+Zt(e)+'"'}function Sl(e){return'link[rel="stylesheet"]['+e+"]"}function am(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Mv(e,n,l,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),Tt(n,"link",l),gt(n),e.head.appendChild(n))}function _o(e){return'[src="'+Zt(e)+'"]'}function bl(e){return"script[async]"+e}function rm(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+Zt(l.href)+'"]');if(a)return n.instance=a,gt(a),a;var f=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),gt(a),Tt(a,"style",f),Ps(a,l.precedence,e),n.instance=a;case"stylesheet":f=bo(l.href);var m=e.querySelector(Sl(f));if(m)return n.state.loading|=4,n.instance=m,gt(m),m;a=am(l),(f=an.get(f))&&Cu(a,f),m=(e.ownerDocument||e).createElement("link"),gt(m);var S=m;return S._p=new Promise(function(T,C){S.onload=T,S.onerror=C}),Tt(m,"link",a),n.state.loading|=4,Ps(m,l.precedence,e),n.instance=m;case"script":return m=_o(l.src),(f=e.querySelector(bl(m)))?(n.instance=f,gt(f),f):(a=l,(f=an.get(m))&&(a=b({},l),Au(a,f)),e=e.ownerDocument||e,f=e.createElement("script"),gt(f),Tt(f,"link",a),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Ps(a,l.precedence,e));return n.instance}function Ps(e,n,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=a.length?a[a.length-1]:null,m=f,S=0;S<a.length;S++){var T=a[S];if(T.dataset.precedence===n)m=T;else if(m!==f)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function Cu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Au(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Bs=null;function um(e,n,l){if(Bs===null){var a=new Map,f=Bs=new Map;f.set(l,a)}else f=Bs,a=f.get(l),a||(a=new Map,f.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var m=l[f];if(!(m[Ho]||m[xt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var T=a.get(S);T?T.push(m):a.set(S,[m])}}return a}function cm(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function Iv(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Dv(e,n,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=bo(a.href),m=n.querySelector(Sl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Fs.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,gt(m);return}m=n.ownerDocument||n,a=am(a),(f=an.get(f))&&Cu(a,f),m=m.createElement("link"),gt(m);var S=m;S._p=new Promise(function(T,C){S.onload=T,S.onerror=C}),Tt(m,"link",a),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Fs.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var Nu=0;function Uv(e,n){return e.stylesheets&&e.count===0&&Ys(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Ys(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&Nu===0&&(Nu=62500*pv());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ys(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>Nu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(f)}}:null}function Fs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ys(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Js=null;function Ys(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Js=new Map,n.forEach(kv,e),Js=null,Fs.call(e))}function kv(e,n){if(!(n.state.loading&4)){var l=Js.get(e);if(l)var a=l.get(null);else{l=new Map,Js.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var S=f[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),a=S)}a&&l.set(null,a)}f=n.instance,S=f.getAttribute("data-precedence"),m=l.get(S)||a,m===a&&l.set(null,f),l.set(S,f),this.count++,a=Fs.bind(this),f.addEventListener("load",a),f.addEventListener("error",a),m?m.parentNode.insertBefore(f,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:Y,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Lv(e,n,l,a,f,m,S,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=a,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function fm(e,n,l,a,f,m,S,T,C,U,O,J){return e=new Lv(e,n,l,S,C,U,O,J,T),n=1,m===!0&&(n|=24),m=Ft(3,null,null,n),e.current=m,m.stateNode=e,n=sr(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:a,isDehydrated:l,cache:n},cr(m),e}function pm(e){return e?(e=Zi,e):Zi}function mm(e,n,l,a,f,m){f=pm(f),a.context===null?a.context=f:a.pendingContext=f,a=Wn(n),a.payload={element:l},m=m===void 0?null:m,m!==null&&(a.callback=m),l=ei(e,a,n),l!==null&&(Vt(l,e,n),el(l,e,n))}function hm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function wu(e,n){hm(e,n),(e=e.alternate)&&hm(e,n)}function gm(e){if(e.tag===13||e.tag===31){var n=Ei(e,67108864);n!==null&&Vt(n,e,67108864),wu(e,67108864)}}function ym(e){if(e.tag===13||e.tag===31){var n=Xt();n=Ta(n);var l=Ei(e,n);l!==null&&Vt(l,e,n),wu(e,n)}}var js=!0;function Gv(e,n,l,a){var f=G.T;G.T=null;var m=$.p;try{$.p=2,Ru(e,n,l,a)}finally{$.p=m,G.T=f}}function Hv(e,n,l,a){var f=G.T;G.T=null;var m=$.p;try{$.p=8,Ru(e,n,l,a)}finally{$.p=m,G.T=f}}function Ru(e,n,l,a){if(js){var f=Mu(a);if(f===null)hu(e,n,a,Ks,l),xm(e,a);else if(zv(f,e,n,l,a))a.stopPropagation();else if(xm(e,a),n&4&&-1<qv.indexOf(e)){for(;f!==null;){var m=Vi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=xi(m.pendingLanes);if(S!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var C=1<<31-Mt(S);T.entanglements[1]|=C,S&=~C}bn(m),(Pe&6)===0&&(Ms=qe()+500,gl(0))}}break;case 31:case 13:T=Ei(m,2),T!==null&&Vt(T,m,2),Ds(),wu(m,2)}if(m=Mu(a),m===null&&hu(e,n,a,Ks,l),m===f)break;f=m}f!==null&&a.stopPropagation()}else hu(e,n,a,null,l)}}function Mu(e){return e=Da(e),Iu(e)}var Ks=null;function Iu(e){if(Ks=null,e=Oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ks=e,null}function vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jn()){case ve:return 2;case Ce:return 8;case wt:case ko:return 32;case ql:return 268435456;default:return 32}default:return 32}}var Du=!1,di=null,fi=null,pi=null,Tl=new Map,El=new Map,mi=[],qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xm(e,n){switch(e){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Tl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Cl(e,n,l,a,f,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:a,nativeEvent:m,targetContainers:[f]},n!==null&&(n=Vi(n),n!==null&&gm(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function zv(e,n,l,a,f){switch(n){case"focusin":return di=Cl(di,e,n,l,a,f),!0;case"dragenter":return fi=Cl(fi,e,n,l,a,f),!0;case"mouseover":return pi=Cl(pi,e,n,l,a,f),!0;case"pointerover":var m=f.pointerId;return Tl.set(m,Cl(Tl.get(m)||null,e,n,l,a,f)),!0;case"gotpointercapture":return m=f.pointerId,El.set(m,Cl(El.get(m)||null,e,n,l,a,f)),!0}return!1}function Sm(e){var n=Oi(e.target);if(n!==null){var l=c(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,Uc(e.priority,function(){ym(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,Uc(e.priority,function(){ym(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Mu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ia=a,l.target.dispatchEvent(a),Ia=null}else return n=Vi(l),n!==null&&gm(n),e.blockedOn=l,!1;n.shift()}return!0}function bm(e,n,l){Xs(e)&&l.delete(n)}function Ov(){Du=!1,di!==null&&Xs(di)&&(di=null),fi!==null&&Xs(fi)&&(fi=null),pi!==null&&Xs(pi)&&(pi=null),Tl.forEach(bm),El.forEach(bm)}function $s(e,n){e.blockedOn===n&&(e.blockedOn=null,Du||(Du=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ov)))}var Qs=null;function _m(e){Qs!==e&&(Qs=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Qs===e&&(Qs=null);for(var n=0;n<e.length;n+=3){var l=e[n],a=e[n+1],f=e[n+2];if(typeof a!="function"){if(Iu(a||l)===null)continue;break}var m=Vi(l);m!==null&&(e.splice(n,3),n-=3,Mr(m,{pending:!0,data:f,method:l.method,action:a},a,f))}}))}function To(e){function n(C){return $s(C,e)}di!==null&&$s(di,e),fi!==null&&$s(fi,e),pi!==null&&$s(pi,e),Tl.forEach(n),El.forEach(n);for(var l=0;l<mi.length;l++){var a=mi[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<mi.length&&(l=mi[0],l.blockedOn===null);)Sm(l),l.blockedOn===null&&mi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var f=l[a],m=l[a+1],S=f[Lt]||null;if(typeof m=="function")S||_m(l);else if(S){var T=null;if(m&&m.hasAttribute("formAction")){if(f=m,S=m[Lt]||null)T=S.formAction;else if(Iu(f)!==null)continue}else T=S.action;typeof T=="function"?l[a+1]=T:(l.splice(a,3),a-=3),_m(l)}}}function Tm(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Uu(e){this._internalRoot=e}Zs.prototype.render=Uu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var l=n.current,a=Xt();mm(l,a,e,n,null,null)},Zs.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;mm(e.current,2,null,e,null,null),Ds(),n[zi]=null}};function Zs(e){this._internalRoot=e}Zs.prototype.unstable_scheduleHydration=function(e){if(e){var n=Dc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<mi.length&&n!==0&&n<mi[l].priority;l++);mi.splice(l,0,e),l===0&&Sm(e)}};var Em=t.version;if(Em!=="19.2.4")throw Error(s(527,Em,"19.2.4"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Vv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{vi=Ws.inject(Vv),Rt=Ws}catch{}}return Nl.createRoot=function(e,n){if(!r(e))throw Error(s(299));var l=!1,a="",f=If,m=Df,S=Uf;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=fm(e,1,!1,null,null,l,a,null,f,m,S,Tm),e[zi]=n.current,mu(e),new Uu(n)},Nl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(s(299));var a=!1,f="",m=If,S=Df,T=Uf,C=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(T=l.onRecoverableError),l.formState!==void 0&&(C=l.formState)),n=fm(e,1,!0,n,l??null,a,f,C,m,S,T,Tm),n.context=pm(null),l=n.current,a=Xt(),a=Ta(a),f=Wn(a),f.callback=null,ei(l,f,a),l=a,n.current.lanes=l,Go(n,l),bn(n),e[zi]=n.current,mu(e),new Zs(n)},Nl.version="19.2.4",Nl}var km;function Qv(){if(km)return Gu.exports;km=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Gu.exports=$v(),Gu.exports}var Zv=Qv();const Wv=N0(Zv),wl="adrenalyn26_current_user",Rl="adrenalyn26_users_index",Ml="adrenalyn26_data_",ex={alavs:"https://upload.wikimedia.org/wikipedia/en/2/2e/Deportivo_Alaves_logo.svg",alaves:"https://upload.wikimedia.org/wikipedia/en/2/2e/Deportivo_Alaves_logo.svg",athletic:"https://upload.wikimedia.org/wikipedia/en/9/98/Club_Athletic_Bilbao_logo.svg",atltico:"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg",atletico:"https://upload.wikimedia.org/wikipedia/en/f/f4/Atletico_Madrid_2017_logo.svg",barcelona:"https://upload.wikimedia.org/wikipedia/en/4/47/FC_Barcelona_%28crest%29.svg",betis:"https://upload.wikimedia.org/wikipedia/en/1/13/Real_betis_logo.svg",celta:"https://upload.wikimedia.org/wikipedia/en/1/12/RC_Celta_de_Vigo_logo.svg",espanyol:"https://upload.wikimedia.org/wikipedia/en/d/d6/Rcd_espanyol_logo.svg",getafe:"https://upload.wikimedia.org/wikipedia/en/4/4c/Getafe_CF.svg",girona:"https://upload.wikimedia.org/wikipedia/en/9/90/For_Girona_FC.svg",palmas:"https://upload.wikimedia.org/wikipedia/en/b/b0/UD_Las_Palmas_logo.svg",legans:"https://upload.wikimedia.org/wikipedia/en/0/02/CD_Leganes.svg",leganes:"https://upload.wikimedia.org/wikipedia/en/0/02/CD_Leganes.svg",mallorca:"https://upload.wikimedia.org/wikipedia/en/e/e0/RCD_Mallorca_logo.svg",osasuna:"https://upload.wikimedia.org/wikipedia/en/d/db/Osasuna_logo.svg",rayo:"https://upload.wikimedia.org/wikipedia/en/1/17/Rayo_Vallecano_logo.svg",madrid:"https://upload.wikimedia.org/wikipedia/en/5/56/Real_Madrid_CF.svg",sociedad:"https://upload.wikimedia.org/wikipedia/en/f/f1/Real_Sociedad_logo.svg",sevilla:"https://upload.wikimedia.org/wikipedia/en/3/3b/Sevilla_FC_logo.svg",valencia:"https://upload.wikimedia.org/wikipedia/en/c/ce/Val_logo.svg",valladolid:"https://upload.wikimedia.org/wikipedia/en/6/6e/Real_Valladolid_Logo.svg",villarreal:"https://upload.wikimedia.org/wikipedia/en/7/70/Villarreal_CF_logo.svg"},Ll={alavs:{primary:"#005BBB",secondary:"#FFFFFF",text:"white"},alaves:{primary:"#005BBB",secondary:"#FFFFFF",text:"white"},athletic:{primary:"#EE2523",secondary:"#FFFFFF",text:"white"},atltico:{primary:"#CB3524",secondary:"#171796",text:"white"},atletico:{primary:"#CB3524",secondary:"#171796",text:"white"},barcelona:{primary:"#004D98",secondary:"#A50044",text:"white"},betis:{primary:"#0BB363",secondary:"#FFFFFF",text:"white"},celta:{primary:"#87CEEB",secondary:"#FFFFFF",text:"black"},espanyol:{primary:"#007FC8",secondary:"#FFFFFF",text:"white"},getafe:{primary:"#00519E",secondary:"#00519E",text:"white"},girona:{primary:"#D11C21",secondary:"#FFFFFF",text:"white"},palmas:{primary:"#FECD00",secondary:"#0072CE",text:"black"},legans:{primary:"#005BBB",secondary:"#FFFFFF",text:"white"},leganes:{primary:"#005BBB",secondary:"#FFFFFF",text:"white"},mallorca:{primary:"#E20613",secondary:"#000000",text:"white"},osasuna:{primary:"#DA291C",secondary:"#0A1E40",text:"white"},rayo:{primary:"#FFFFFF",secondary:"#CE1126",text:"black"},madrid:{primary:"#FFFFFF",secondary:"#FEBE10",text:"black"},sociedad:{primary:"#0067B1",secondary:"#FFFFFF",text:"white"},sevilla:{primary:"#FFFFFF",secondary:"#D4001F",text:"black"},valencia:{primary:"#FFFFFF",secondary:"#000000",text:"black"},valladolid:{primary:"#5E278E",secondary:"#FFFFFF",text:"white"},villarreal:{primary:"#FBE106",secondary:"#00519E",text:"black"},default:{primary:"#334155",secondary:"#94a3b8",text:"white"}},Ou="adrenalyn26_api_url_v3",Vu="adrenalyn26_catalog_cache_v10",Lm="adrenalyn26_team_logos_cache",Gm=720*60*1e3,tx="https://script.google.com/macros/s/AKfycbxv55S3H2nCkM2SyL16VIvdXqi90_TfueLrudZanoKWG2J-Lo_ezna_dCzTVk6NXVgNrg/exec",nx="1u1fNdomCGiGonPYIw4VxmQPW-llSDsmv",be={getApiUrl:()=>{const i=localStorage.getItem(Ou);return i&&i.includes("script.google.com/macros")?i.trim():tx},setApiUrl:i=>{localStorage.setItem(Ou,i.trim())},adminUpdateSystemUrl:async i=>{const t=i.trim();be.setApiUrl(t);try{const o=JSON.stringify({action:"admin_set_config",key:"active_api_url",value:t});await fetch(t,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:o})}catch(o){console.error("Error guardando config en nube",o)}},adminUpdateLoginMessage:async i=>{const t=be.getApiUrl(),o=JSON.stringify({action:"update_login_news",message:i});await fetch(t,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:o})},ping:async()=>{const i=be.getApiUrl();try{const t=await fetch(`${i}?action=ping`);if(!t.ok)throw new Error("Error HTTP "+t.status);return await t.json()}catch(t){throw new Error(t.message||"Error de conexin.")}},fetchTeamLogos:async()=>{const i=localStorage.getItem(Lm);if(i)try{const s=JSON.parse(i);if(Date.now()-s.timestamp<Gm*3)return s.data}catch{}const t=be.getApiUrl(),o=JSON.stringify({action:"get_folder_files",folderId:nx});try{const r=await(await fetch(t,{method:"POST",headers:{"Content-Type":"text/plain"},body:o})).json();if(r.status==="success"&&r.files)return localStorage.setItem(Lm,JSON.stringify({timestamp:Date.now(),data:r.files})),r.files}catch{}return{}},registerUser:async(i,t)=>{const o=be.getApiUrl(),s=JSON.stringify({action:"register",username:i,email:t}),c=await(await fetch(o,{method:"POST",headers:{"Content-Type":"text/plain"},body:s})).json();if(c.status==="error")throw new Error(c.message||"Error en el registro");return{success:!0,message:"Solicitud enviada."}},adminCreateUser:async i=>{const t=be.getApiUrl(),o=JSON.stringify({action:"admin_create_user",...i}),r=await(await fetch(t,{method:"POST",headers:{"Content-Type":"text/plain"},body:o})).json();return{success:r.status==="success",userId:r.userId}},adminDeleteUser:async i=>{const t=be.getApiUrl(),o=JSON.stringify({action:"admin_delete_user",targetUserId:i});return{success:(await(await fetch(t,{method:"POST",headers:{"Content-Type":"text/plain"},body:o})).json()).status==="success"}},sendMessage:async(i,t,o,s)=>{const r=be.getApiUrl(),c=JSON.stringify({action:"send_message",senderId:i,recipients:t,title:o,body:s});return{success:(await(await fetch(r,{method:"POST",headers:{"Content-Type":"text/plain"},body:c})).json()).status==="success"}},markMessageAsRead:async i=>{const t=be.getApiUrl();await fetch(t,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"mark_message_read",messageId:i})})},updateUserPassword:async(i,t)=>{const o=be.getApiUrl(),s=JSON.stringify({action:"change_password",userId:i,password:t});return await fetch(o,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:s}),{success:!0,message:"Actualizada."}},syncCollection:async(i,t)=>{const o=be.getApiUrl();await fetch(o,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"update_collection",userId:i,items:t})})},updateStickerImage:async(i,t)=>{const o=be.getApiUrl();return await fetch(o,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"update_sticker_image",stickerId:i,imageUrl:t})}),{success:!0,message:"OK"}},uploadImage:async i=>{const t=be.getApiUrl();return new Promise((o,s)=>{const r=new FileReader;r.readAsDataURL(i),r.onload=async()=>{const c=r.result.split(",")[1];try{const g=await(await fetch(t,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"upload_image",base64:c,mimeType:i.type,filename:i.name})})).json();g.status==="success"&&g.fileId?o({success:!0,url:`https://drive.google.com/thumbnail?sz=w1000&id=${g.fileId}`,message:"OK"}):s(new Error(g.message))}catch(p){s(p)}},r.onerror=s})},createTrade:async i=>{const t=be.getApiUrl(),o={action:"trade_create",senderId:i.senderId,receiverId:i.receiverId,offeredStickerId:i.offeredStickerIds.join(","),requestedStickerId:i.requestedStickerIds.join(","),senderComment:i.senderComment};await fetch(t,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:JSON.stringify(o)})},updateTradeStatus:async(i,t,o,s,r,c)=>{const p=be.getApiUrl();await fetch(p,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"trade_update",tradeId:i,status:t,userId:o,subAction:s,finalStatus:r,comment:c})})},processCatalogData:i=>{var g;let t="";i.config&&i.config.forEach(y=>{if(y.key==="active_api_url"){const h=y.value,x=be.getApiUrl();h&&h.includes("script.google.com")&&h.trim()!==x.trim()&&localStorage.setItem(Ou,h.trim())}y.key==="login_message"&&(t=y.value)});const o=i.usuarios||[];if(o.length>0){const y=[],h={};o.forEach(x=>{const b=String(At(x,["idusuario","id_usuario","userid","uuid","id"])||""),_=String(At(x,["nombre","usuario","username","name","user"])||""),E=At(x,["autorizado","activo","authorized","active","auth"]);b&&_&&(y.push({id:b,username:_,email:String(At(x,["email","correo","mail"])||""),password:String(At(x,["pass","password","clave"])||""),isAuthorized:String(E).toUpperCase()==="TRUE",role:String(At(x,["rol","role"])||"user").toLowerCase()}),h[b]={})}),(g=i.coleccion_usuarios)==null||g.forEach(x=>{const b=String(At(x,["idusuario","id_usuario","userid","usuario"])),_=String(At(x,["idcromo","id_cromo","stickerid","numerofinal"])),E=Number(At(x,["cantidad","count"])||0);b&&_&&h[b]&&E>0&&(h[b][_]=E)}),we.importExternalData(y,h)}const s=(i.cromos||[]).map((y,h)=>{const x=String(At(y,["numerofinal","numero_final","numero","idcromo","id_cromo","id"])||`ukn-${h}`).trim();let b=parseFloat(x)||0;x.toLowerCase().includes("b")&&(b+=.5);const _=String(At(y,["categoria","cat"])||"Bsicos"),E=_.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return{id:x,number:b,displayNumber:x,name:String(At(y,["nombre","jugador","name"])||"Desconocido"),team:String(At(y,["equipo","team"])||"Varios"),category:_,position:"MED",imageUrl:Hm(At(y,["imagenurl","imagen","foto","img","url"])),isSpecial:!E.includes("basic")&&!E.includes("base")&&!E.includes("estadio")}}),r=(i.equipos||[]).map(y=>({name:String(At(y,["nombreequipo","nombre_equipo","equipo","team","name"])||"").trim(),logoUrl:Hm(At(y,["clublogo","club_logo","imagen","logo","url"]))})).filter(y=>y.name),c=(i.cambios||[]).map(y=>({id:String(y.id||""),senderId:String(y.sender||y.senderid||""),receiverId:String(y.receiver||y.receiverid||""),offeredStickerId:String(y.offer||y.offeredstickerid||""),requestedStickerId:String(y.request||y.requestedstickerid||""),status:y.status||"PENDIENTE",createdAt:y.created||y.createdat,updatedAt:y.updated||y.updatedat,senderFinalStatus:y.s_final||y.senderfinalstatus,receiverFinalStatus:y.r_final||y.receiverfinalstatus,senderComment:y.s_msg||y.sendercomment,receiverComment:y.r_msg||y.receivercomment})).filter(y=>y.id),p=(i.mensajes||[]).map(y=>({id:String(y.id||""),senderId:String(y.sender_id||y.senderid||""),receiverId:String(y.receiver_id||y.receiverid||""),title:String(y.title||y.titulo||""),body:String(y.body||y.cuerpo||y.mensaje||""),createdAt:String(y.created_at||y.fecha||""),read:String(y.read||y.leido||"").toUpperCase()==="TRUE"})).filter(y=>y.id);return{stickers:s,trades:c,teams:r,messages:p,loginMessage:t}},fetchCatalog:async(i=!1)=>{var o,s;const t=be.getApiUrl();if(!i){const r=localStorage.getItem(Vu);if(r)try{const c=JSON.parse(r);if(Date.now()-c.timestamp<Gm&&((s=(o=c.data)==null?void 0:o.cromos)!=null&&s.length))return be.processCatalogData(c.data)}catch{}}try{const r=await fetch(`${t}?_t=${Date.now()}`);if(!r.ok)throw new Error(`HTTP ${r.status}`);const c=await r.json();return localStorage.setItem(Vu,JSON.stringify({timestamp:Date.now(),data:c})),be.processCatalogData(c)}catch(r){console.warn("Fallo fetch, intentando usar cach offline:",r);const c=localStorage.getItem(Vu);if(c)return be.processCatalogData(JSON.parse(c).data);throw r}}};function At(i,t){if(i){for(const o of t)if(i[o]!==void 0&&i[o]!==null&&i[o]!=="")return i[o]}}function Hm(i){if(!i)return;let t=String(i).trim();if(!t.includes("drive.google.com")&&!t.includes("googleusercontent.com"))return t;let o="";const s=t.match(/\/d\/([a-zA-Z0-9_-]+)/);if(s)o=s[1];else{const r=t.match(/[?&]id=([a-zA-Z0-9_-]+)/);r&&(o=r[1])}return o?`https://drive.google.com/thumbnail?sz=w1000&id=${o}`:t}const qm="adrenalyn26_last_user_name",zm=i=>new Promise(t=>setTimeout(t,i));let Vn={},On=null,Pu=!1;typeof window<"u"&&window.addEventListener("beforeunload",i=>{var t;Object.keys(Vn).length>0&&(i.preventDefault(),i.returnValue="",Gl(((t=we.getCurrentUser())==null?void 0:t.id)||""))});const Gl=async i=>{if(!i||Object.keys(Vn).length===0)return;if(Pu){On&&clearTimeout(On),On=setTimeout(()=>Gl(i),2e3);return}Pu=!0;const t={...Vn},o=Object.entries(t).map(([s,r])=>({stickerId:s,count:r}));try{await be.syncCollection(i,o),Object.keys(t).forEach(s=>{delete Vn[s]})}catch(s){console.error("Error sincronizando...",s)}finally{Pu=!1,Object.keys(Vn).length>0&&(On&&clearTimeout(On),On=setTimeout(()=>Gl(i),2e3))}},we={getUsersDirectory:()=>{const i=localStorage.getItem(Rl);return i?JSON.parse(i):{}},saveUserToDirectory:i=>{const t=we.getUsersDirectory();t[i.username.toLowerCase().trim()]=i,localStorage.setItem(Rl,JSON.stringify(t))},setLastUser:i=>{localStorage.setItem(qm,i)},getLastUser:()=>localStorage.getItem(qm)||"",register:async(i,t)=>(await zm(500),await be.registerUser(i,t),null),adminCreateUser:async i=>{const s={id:(await be.adminCreateUser(i)).userId||"temp_"+Date.now(),username:i.username||"",email:i.email||"",password:i.password||"",isAuthorized:!0,role:i.role};return we.saveUserToDirectory(s),s},adminDeleteUser:async i=>{await be.adminDeleteUser(i);const t=we.getUsersDirectory();let o=null;Object.keys(t).forEach(s=>{t[s].id===i&&(o=s)}),o&&(delete t[o],localStorage.setItem(Rl,JSON.stringify(t)))},login:async(i,t)=>{if(await zm(500),i.toLowerCase().trim()==="admin"&&t==="admin123"){const p={id:"admin-master",username:"admin",email:"admin@adrenalyn.com",role:"admin",isAuthorized:!0,password:"admin123"};return localStorage.setItem(wl,JSON.stringify(p)),we.setLastUser(p.username),p}try{await be.fetchCatalog()}catch{console.warn("Modo offline")}const s=we.getUsersDirectory()[i.toLowerCase().trim()];if(!s)throw new Error("Usuario no encontrado.");if(!s.isAuthorized)throw new Error("Cuenta pendiente de aprobacin.");if((s.password||"")!==t)throw new Error("Contrasea incorrecta.");localStorage.setItem(wl,JSON.stringify(s)),we.setLastUser(s.username);const c=`${Ml}${s.id}`;return localStorage.getItem(c)||localStorage.setItem(c,JSON.stringify({})),s},changePassword:async(i,t)=>{await be.updateUserPassword(i,t);const o=we.getUsersDirectory(),s=Object.keys(o).find(c=>o[c].id===i);s&&(o[s].password=t,localStorage.setItem(Rl,JSON.stringify(o)));const r=we.getCurrentUser();r&&r.id===i&&(r.password=t,localStorage.setItem(wl,JSON.stringify(r)))},getCurrentUser:()=>{const i=localStorage.getItem(wl);return i?JSON.parse(i):null},logout:()=>{const i=we.getCurrentUser();i&&Gl(i.id),localStorage.removeItem(wl)},getAllUsers:()=>{const i=we.getUsersDirectory();return Object.values(i)},importExternalData:(i,t)=>{const o={};i.forEach(r=>{const c=r.username.toLowerCase().trim();o[c]=r}),localStorage.setItem(Rl,JSON.stringify(o));const s=we.getCurrentUser();Object.entries(t).forEach(([r,c])=>{if(s&&s.id===r){const p=`${Ml}${r}`,g={...c};Object.keys(Vn).forEach(y=>{const h=Vn[y];h>0?g[y]=h:delete g[y]}),localStorage.setItem(p,JSON.stringify(g))}else localStorage.setItem(`${Ml}${r}`,JSON.stringify(c))})},getCollection:i=>{const t=localStorage.getItem(`${Ml}${i}`);return t?JSON.parse(t):{}},updateStickerCount:(i,t,o)=>{const s=we.getCollection(i),r=s[t]||0,c=Math.max(0,r+o),p={...s,[t]:c};return c===0&&delete p[t],localStorage.setItem(`${Ml}${i}`,JSON.stringify(p)),Vn[t]=c,On&&clearTimeout(On),On=setTimeout(()=>Gl(i),3e3),p},getPendingChangesCount:()=>Object.keys(Vn).length};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=(...i)=>i.filter((t,o,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===o).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,o,s)=>s?s.toUpperCase():o.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=i=>{const t=ox(i);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=F.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:r="",children:c,iconNode:p,...g},y)=>F.createElement("svg",{ref:y,...lx,width:t,height:t,stroke:i,strokeWidth:s?Number(o)*24/Number(t):o,className:w0("lucide",r),...!c&&!sx(g)&&{"aria-hidden":"true"},...g},[...p.map(([h,x])=>F.createElement(h,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(i,t)=>{const o=F.forwardRef(({className:s,...r},c)=>F.createElement(ax,{ref:c,iconNode:t,className:w0(`lucide-${ix(Om(i))}`,`lucide-${i}`,s),...r}));return o.displayName=Om(i),o};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ux=ce("activity",rx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],dx=ce("arrow-down",cx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],No=ce("arrow-left-right",fx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],mx=ce("bell",px);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],gx=ce("bot",hx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vx=ce("calendar",yx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sx=ce("check",xx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_x=ce("chevron-left",bx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Vm=ce("chevron-right",Tx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bu=ce("circle-check-big",Ex);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kl=ce("circle-check",Cx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nx=ce("circle-x",Ax);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],R0=ce("clock",wx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Mx=ce("cloud-upload",Rx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Dx=ce("crown",Ix);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],M0=ce("download",Ux);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Lx=ce("funnel",kx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Hx=ce("gift",Gx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],zx=ce("grid-3x3",qx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Vx=ce("handshake",Ox);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],I0=ce("info",Px);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Pm=ce("key-round",Bx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Jx=ce("layers",Fx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],jx=ce("link",Yx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Pt=ce("loader-circle",Kx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ku=ce("lock",Xx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Qx=ce("log-in",$x);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wx=ce("mail",Zx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],tS=ce("maximize-2",eS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],D0=ce("megaphone",nS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],oS=ce("message-circle",iS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sS=ce("message-square",lS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M5 12h14",key:"1ays0h"}]],rS=ce("minus",aS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Bm=ce("monitor",uS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],dS=ce("pencil",cS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pS=ce("plus",fS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hS=ce("refresh-cw",mS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],la=ce("save",gS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],vS=ce("scroll-text",yS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],U0=ce("search",xS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mc=ce("send",SS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_S=ce("settings",bS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],ES=ce("share",TS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],AS=ce("shield-alert",CS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k0=ce("shield-check",NS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hc=ce("shield",wS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],MS=ce("smartphone",RS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Xu=ce("sparkles",IS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],US=ce("square-plus",DS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],gc=ce("star",kS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],GS=ce("trash-2",LS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yc=ce("triangle-alert",HS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],L0=ce("trophy",qS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OS=ce("user-cog",zS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],G0=ce("user-plus",VS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$u=ce("user",PS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],FS=ce("users",BS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mo=ce("x",JS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jS=ce("zap",YS),KS=({onLogin:i,isInstallable:t,onInstall:o})=>{const[s,r]=F.useState("LOGIN"),[c,p]=F.useState(""),[g,y]=F.useState(""),[h,x]=F.useState(""),[b,_]=F.useState(!1),[E,w]=F.useState(!0),[k,M]=F.useState(null),[B,K]=F.useState(!1),[Y,V]=F.useState(""),[q,ne]=F.useState([]),[X,de]=F.useState([]),[Z,re]=F.useState("PERCENT");F.useEffect(()=>{(async()=>{w(!0),K(!1);try{const{stickers:me,loginMessage:ge}=await be.fetchCatalog();ge?(V(ge),localStorage.setItem("adrenalyn26_login_msg",ge)):V(localStorage.getItem("adrenalyn26_login_msg")||"Bienvenido a la coleccin!");const G=we.getAllUsers(),$=me.length||1,te=[],Se=[];G.forEach(A=>{if(!A.isAuthorized)return;const z=we.getCollection(A.id),W=Object.keys(z).length,ee=Math.round(W/$*100),fe=Object.values(z).reduce((I,j)=>I+(j>1?j-1:0),0);te.push({username:A.username,score:ee,avatar:A.username.substring(0,2).toUpperCase()}),Se.push({username:A.username,score:fe,avatar:A.username.substring(0,2).toUpperCase()})}),ne(te.sort((A,z)=>z.score-A.score).slice(0,3)),de(Se.sort((A,z)=>z.score-A.score).slice(0,3));const Re=we.getLastUser();Re&&p(Re)}catch{K(!0)}finally{w(!1)}})()},[]);const xe=async ue=>{ue.preventDefault(),_(!0),M(null);try{if(!c||!h)throw new Error("Todos los campos son obligatorios");await we.register(c,h),r("PENDING_APPROVAL")}catch(me){M(me.message)}finally{_(!1)}},Ne=async ue=>{ue.preventDefault(),_(!0),M(null);try{if(!c||!g)throw new Error("Rellena todos los campos");const me=await we.login(c,g);i(me)}catch(me){M(me.message)}finally{_(!1)}};return s==="PENDING_APPROVAL"?v.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[#020617]",children:v.jsxs("div",{className:"max-w-md w-full bg-slate-900/50 backdrop-blur-xl border border-white/10 rounded-[2.5rem] p-8 text-center shadow-2xl",children:[v.jsx("div",{className:"w-20 h-20 bg-amber-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-amber-500/30",children:v.jsx(R0,{className:"w-10 h-10 text-amber-500 animate-pulse"})}),v.jsx("h2",{className:"text-2xl font-black text-white mb-2 uppercase italic tracking-tighter",children:"Solicitud Enviada"}),v.jsx("p",{className:"text-slate-400 mb-8 leading-relaxed text-sm",children:"Tu cuenta ha sido registrada pero debe ser aprobada por el administrador antes de poder entrar."}),v.jsx("button",{onClick:()=>r("LOGIN"),className:"w-full bg-white text-black font-black py-4 rounded-2xl transition shadow-lg uppercase tracking-widest text-sm italic",children:"Entendido"})]})}):v.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 relative overflow-hidden bg-[#020617]",children:[v.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[800px] h-[500px] bg-neon-blue/5 rounded-full blur-[120px] -z-10"}),t&&v.jsxs("button",{onClick:o,className:"absolute top-4 left-4 flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-full font-bold text-[10px] uppercase border border-white/20 animate-pulse z-20 hover:bg-blue-500 transition",children:[v.jsx(M0,{className:"w-3.5 h-3.5"})," Instalar App"]}),v.jsxs("div",{className:"text-center mb-8 animate-in fade-in slide-in-from-top-4 duration-700",children:[v.jsxs("h2",{className:"text-6xl font-black text-white tracking-tighter mb-2 drop-shadow-[0_0_15px_rgba(0,243,255,0.4)] italic",children:["CROMO",v.jsx("span",{className:"text-neon-blue",children:"CH"})]}),v.jsx("p",{className:"text-slate-500 font-bold uppercase tracking-[0.3em] text-[10px]",children:"Gestor de Colecciones v.26"})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-6 w-full max-w-4xl items-start",children:[v.jsxs("div",{className:"w-full md:flex-1 bg-slate-900/40 backdrop-blur-2xl border border-white/10 rounded-[2.5rem] p-8 shadow-2xl relative order-2 md:order-1",children:[E&&v.jsxs("div",{className:"absolute inset-0 bg-slate-900/80 backdrop-blur-sm rounded-[2.5rem] z-10 flex items-center justify-center flex-col gap-3",children:[v.jsx(Pt,{className:"w-10 h-10 text-neon-blue animate-spin"}),v.jsx("span",{className:"text-[10px] font-bold text-neon-blue uppercase tracking-widest animate-pulse",children:"Sincronizando..."})]}),s==="LOGIN"?v.jsxs("form",{onSubmit:Ne,className:"space-y-4 animate-in fade-in duration-500",children:[v.jsxs("div",{className:"mb-8 text-center",children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Acceso Coleccionista"}),we.getLastUser()&&v.jsx("p",{className:"text-neon-blue text-[10px] font-black uppercase tracking-widest animate-pulse",children:"Bienvenido de nuevo!"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx($u,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),v.jsx("input",{type:"text",value:c,onChange:ue=>p(ue.target.value),placeholder:"Usuario",className:"w-full pl-11 pr-4 py-4 bg-black/40 border border-white/10 rounded-2xl text-white outline-none focus:border-neon-blue focus:ring-1 focus:ring-neon-blue transition-all"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(Ku,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),v.jsx("input",{type:"password",value:g,onChange:ue=>y(ue.target.value),placeholder:"Contrasea",className:"w-full pl-11 pr-4 py-4 bg-black/40 border border-white/10 rounded-2xl text-white outline-none focus:border-neon-blue focus:ring-1 focus:ring-neon-blue transition-all"})]})]}),k&&v.jsx("p",{className:"text-red-400 text-[11px] font-bold text-center bg-red-500/10 py-2 rounded-lg border border-red-500/20",children:k}),v.jsxs("button",{type:"submit",disabled:b,className:"w-full bg-neon-blue hover:bg-cyan-300 text-black font-black py-4 rounded-2xl shadow-[0_0_20px_rgba(0,243,255,0.3)] flex items-center justify-center gap-2 transition-all active:scale-95 uppercase tracking-widest text-sm italic",children:[b?v.jsx(Pt,{className:"w-5 h-5 animate-spin"}):v.jsx(Qx,{className:"w-5 h-5"}),b?"Entrando...":"Entrar al lbum"]}),v.jsx("div",{className:"pt-4 text-center",children:v.jsxs("button",{type:"button",onClick:()=>{r("REGISTER"),M(null)},className:"text-slate-500 hover:text-white text-[11px] font-bold uppercase tracking-widest transition-colors",children:["No tienes cuenta? ",v.jsx("span",{className:"text-neon-blue",children:"Regstrate"})]})})]}):v.jsxs("form",{onSubmit:xe,className:"space-y-4 animate-in fade-in duration-500",children:[v.jsxs("div",{className:"mb-8 text-center",children:[v.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Nueva Cuenta"}),v.jsx("p",{className:"text-slate-500 text-[10px] font-bold uppercase tracking-widest",children:"nete a la comunidad"})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx($u,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),v.jsx("input",{type:"text",value:c,onChange:ue=>p(ue.target.value),placeholder:"Nombre de Usuario",className:"w-full pl-11 pr-4 py-4 bg-black/40 border border-white/10 rounded-2xl text-white outline-none focus:border-neon-blue focus:ring-1 focus:ring-neon-blue transition-all"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(Wx,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),v.jsx("input",{type:"email",value:h,onChange:ue=>x(ue.target.value),placeholder:"Correo Electrnico",className:"w-full pl-11 pr-4 py-4 bg-black/40 border border-white/10 rounded-2xl text-white outline-none focus:border-neon-blue focus:ring-1 focus:ring-neon-blue transition-all"})]})]}),k&&v.jsx("p",{className:"text-red-400 text-[11px] font-bold text-center bg-red-500/10 py-2 rounded-lg border border-red-500/20",children:k}),v.jsxs("button",{type:"submit",disabled:b,className:"w-full bg-white hover:bg-slate-200 text-black font-black py-4 rounded-2xl shadow-xl flex items-center justify-center gap-2 transition-all active:scale-95 uppercase tracking-widest text-sm italic",children:[b?v.jsx(Pt,{className:"w-5 h-5 animate-spin"}):v.jsx(G0,{className:"w-5 h-5"}),b?"Registrando...":"Solicitar Registro"]}),v.jsx("div",{className:"pt-4 text-center",children:v.jsxs("button",{type:"button",onClick:()=>{r("LOGIN"),M(null)},className:"text-slate-500 hover:text-white text-[11px] font-bold uppercase tracking-widest transition-colors",children:["Volver al ",v.jsx("span",{className:"text-neon-blue",children:"Inicio de Sesin"})]})})]})]}),v.jsxs("div",{className:"w-full md:w-80 flex flex-col gap-4 order-1 md:order-2",children:[v.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-xl border border-neon-pink/30 rounded-3xl p-5 shadow-[0_0_30px_rgba(255,0,85,0.1)] relative overflow-hidden group",children:[v.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-neon-pink shadow-[0_0_10px_#ff0055]"}),v.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[v.jsx(D0,{className:"w-5 h-5 text-neon-pink animate-pulse"}),v.jsx("h4",{className:"text-white font-bold text-sm uppercase tracking-wide",children:"Novedades"})]}),v.jsx("div",{className:"text-slate-300 text-xs leading-relaxed whitespace-pre-wrap font-medium",children:Y||"Cargando novedades..."})]}),v.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-xl border border-white/5 rounded-3xl overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"flex border-b border-white/5",children:[v.jsx("button",{onClick:()=>re("PERCENT"),className:`flex-1 py-3 text-[10px] font-bold uppercase tracking-wider transition-colors ${Z==="PERCENT"?"bg-white/10 text-white":"text-slate-500 hover:bg-white/5"}`,children:"Top Coleccin"}),v.jsx("button",{onClick:()=>re("REPEATS"),className:`flex-1 py-3 text-[10px] font-bold uppercase tracking-wider transition-colors ${Z==="REPEATS"?"bg-white/10 text-white":"text-slate-500 hover:bg-white/5"}`,children:"Top Repetidos"})]}),v.jsxs("div",{className:"p-4 space-y-3",children:[(Z==="PERCENT"?q:X).map((ue,me)=>v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-black border-2 border-slate-900 shadow-lg shrink-0 ${me===0?"bg-yellow-400":me===1?"bg-slate-300":"bg-amber-700"}`,children:me+1}),v.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800 border border-white/10 flex items-center justify-center text-[10px] font-bold text-white shrink-0",children:ue.avatar}),v.jsx("div",{className:"flex-1 min-w-0",children:v.jsx("div",{className:"text-xs font-bold text-white truncate",children:ue.username})}),v.jsxs("div",{className:`text-xs font-black ${Z==="PERCENT"?"text-neon-blue":"text-neon-purple"}`,children:[ue.score,Z==="PERCENT"?"%":""]})]},me)),q.length===0&&v.jsx("div",{className:"text-center text-[10px] text-slate-500 py-4",children:"Sin datos an"})]})]})]})]}),B&&v.jsx("p",{className:"mt-8 text-red-500 text-[10px] font-black uppercase tracking-[0.2em] animate-pulse",children:"Error de sincronizacin con la nube"})]})},XS=(i,t)=>{const o=i.toLowerCase();return t?o.includes("baln de oro")||o.includes("gold")?{border:"border-amber-500 bg-gradient-to-br from-amber-900/50 to-black",badge:"bg-amber-500 text-black",glow:"shadow-[0_0_20px_rgba(245,158,11,0.4)]",text:"text-amber-400",overlay:""}:o.includes("energy")||o.includes("energa")?{border:"border-lime-400 bg-gradient-to-br from-lime-900/50 to-black",badge:"bg-lime-400 text-black",glow:"shadow-[0_0_20px_rgba(163,230,53,0.4)]",text:"text-lime-400",overlay:""}:o.includes("diamante")||o.includes("diamond")?{border:"border-cyan-400 bg-gradient-to-br from-cyan-900/50 to-black",badge:"bg-cyan-400 text-black",glow:"shadow-[0_0_20px_rgba(34,211,238,0.4)]",text:"text-cyan-400",overlay:""}:o.includes("super")||o.includes("crack")||o.includes("top")?{border:"border-violet-500 bg-gradient-to-br from-violet-900/50 to-black",badge:"bg-violet-500 text-white",glow:"shadow-[0_0_20px_rgba(139,92,246,0.4)]",text:"text-violet-300",overlay:""}:{border:"border-slate-600 bg-slate-800",badge:"bg-white text-black",glow:"shadow-lg hover:shadow-slate-700/50",text:"text-white",overlay:""}:{border:"border-slate-800 bg-slate-900/40",badge:"bg-slate-800 text-slate-400",glow:"",text:"text-slate-500",overlay:"grayscale opacity-60"}},$S=i=>{const t=i.toLowerCase();for(const[o,s]of Object.entries(Ll))if(t.includes(o))return s;return Ll.default},QS=i=>{const t=i.toLowerCase();return t.includes("baln")?v.jsx(L0,{className:"w-3 h-3"}):t.includes("energy")?v.jsx(jS,{className:"w-3 h-3"}):t.includes("super")?v.jsx(gc,{className:"w-3 h-3"}):null},ZS=pc.memo(({sticker:i,count:t,onUpdate:o,currentUserRole:s,onZoom:r})=>{const[c,p]=F.useState(!1),[g,y]=F.useState(!1),[h,x]=F.useState(i.imageUrl||""),[b,_]=F.useState(!1),[E,w]=F.useState(!1),[k,M]=F.useState(null),[B,K]=F.useState(null),Y=F.useRef(null),V=t>0,q=t>1,ne=XS(i.category,V),X=$S(i.team),de=k||i.imageUrl,re=V&&!i.isSpecial?{borderColor:X.primary,boxShadow:`0 0 12px ${X.primary}80`,backgroundColor:`${X.primary}10`}:{};F.useEffect(()=>{p(!1)},[de]),F.useEffect(()=>{if(!g)return;const ge=h.toLowerCase().trim();if((ge.includes("postimg")||ge.includes("imgur"))&&!/\.(jpg|jpeg|png|webp|gif)$/i.test(ge)){K("Ojo! Copia el 'Enlace Directo' (debe terminar en .jpg/.png)");return}K(null)},[h,g]);const xe=async ge=>{const G=h;if(G.trim()){_(!0);try{await be.updateStickerImage(i.id,G),M(G),y(!1),p(!1)}catch{alert("Error al guardar imagen")}finally{_(!1)}}},Ne=()=>{const ge=`Adrenalyn 2026 ${i.name} ${i.team}`;window.open(`https://www.google.com/search?tbm=isch&q=${encodeURIComponent(ge)}`,"_blank")},ue=async ge=>{if(!ge.target.files||ge.target.files.length===0)return;const G=ge.target.files[0];if(G.size>5*1024*1024){alert("La imagen es demasiado grande. Mximo 5MB.");return}const $=new FileReader;$.onload=te=>{var Se;(Se=te.target)!=null&&Se.result&&(M(te.target.result),p(!1))},$.readAsDataURL(G),w(!0);try{const te=await be.uploadImage(G);te.success&&te.url&&(x(te.url),await be.updateStickerImage(i.id,te.url))}catch(te){console.error(te),alert("Error al subir imagen"),M(null)}finally{w(!1),y(!1),Y.current&&(Y.current.value="")}},me=()=>{r&&!g&&r(i)};return v.jsxs("div",{className:"flex flex-col items-center group relative perspective-1000",children:[v.jsxs("div",{style:re,onClick:me,className:`relative w-full aspect-[2.4/3.4] rounded-xl border-[1px] overflow-hidden transition-all duration-500 ease-out cursor-pointer ${ne.border} ${ne.glow} ${ne.overlay} ${V?"hover:scale-[1.05] hover:-translate-y-2 hover:z-10 transform-gpu":"hover:opacity-80"}`,children:[V&&v.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/10 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none z-10",style:{backgroundSize:"200% 200%"}}),v.jsx("div",{className:"absolute top-2 right-2 z-30 opacity-0 group-hover:opacity-100 transition-opacity p-1 bg-black/40 backdrop-blur rounded-lg text-white",children:v.jsx(tS,{className:"w-3 h-3"})}),de&&!c?v.jsx("img",{src:de,alt:i.name,className:"absolute inset-0 w-full h-full object-cover",loading:"lazy",onError:()=>p(!0),referrerPolicy:"no-referrer"},de):v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-2 text-center",style:{background:`linear-gradient(135deg, ${X.primary}CC 0%, ${X.secondary}CC 100%)`},children:[v.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-40"}),v.jsx("div",{className:"bg-black/30 p-3 rounded-full backdrop-blur-md border border-white/20 shadow-xl mb-2 relative z-10",children:v.jsx(hc,{className:"w-8 h-8 drop-shadow-md text-white"})}),c&&v.jsx("span",{className:"text-[9px] text-white/80 bg-red-500/50 px-1 rounded z-10",children:"Error Img"})]}),v.jsx("div",{className:"absolute inset-x-0 bottom-0 h-2/3 bg-gradient-to-t from-black via-black/60 to-transparent"}),v.jsx("div",{className:"absolute inset-x-0 top-0 h-1/4 bg-gradient-to-b from-black/80 to-transparent"}),v.jsxs("div",{className:"absolute top-0 left-0 w-full p-2 flex justify-between items-start z-20",children:[v.jsx("div",{className:"bg-black/60 backdrop-blur-md text-white text-[10px] font-black px-2 py-1 rounded border border-white/10 shadow-lg",children:i.displayNumber||i.number}),i.category.toLowerCase()!=="bsicos"&&!i.category.toLowerCase().includes("estadio")&&v.jsxs("div",{className:`${ne.badge} text-[9px] px-2 py-0.5 rounded-full font-bold uppercase flex items-center gap-1 shadow-lg tracking-wider border border-white/10`,children:[QS(i.category),i.category.substring(0,3)]})]}),v.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-3 text-center z-20",children:[v.jsx("h4",{className:"text-white font-bold text-xs leading-tight drop-shadow-md line-clamp-2 mb-1 tracking-tight",children:i.name}),v.jsx("div",{className:"inline-block px-2 py-0.5 rounded bg-white/10 backdrop-blur-sm border border-white/5",children:v.jsx("p",{className:"text-[8px] text-white/90 font-bold tracking-widest uppercase",children:i.team})})]}),v.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none flex flex-col items-center gap-1 z-30",children:[q&&v.jsxs("span",{className:"bg-neon-pink text-white text-xs font-black px-3 py-1 rounded-full shadow-[0_0_15px_rgba(255,0,85,0.6)] border border-white/20 animate-pulse",children:["x",t]}),!q&&V&&v.jsx("div",{className:"bg-neon-blue/80 backdrop-blur text-black p-2 rounded-full shadow-[0_0_15px_rgba(0,243,255,0.5)] border border-white/30 scale-0 animate-in zoom-in duration-300 fill-mode-forwards",children:v.jsx(Sx,{className:"w-5 h-5",strokeWidth:4})})]}),g&&v.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md flex flex-col items-center justify-center p-2 z-40 animate-in fade-in duration-200",onClick:ge=>ge.stopPropagation(),children:E?v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx(Pt,{className:"w-8 h-8 text-neon-blue animate-spin"}),v.jsx("span",{className:"text-[10px] text-neon-blue font-bold animate-pulse",children:"Subiendo..."})]}):v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"text",value:h,onChange:ge=>x(ge.target.value),placeholder:"Pega URL o sube ->",className:"w-full text-[10px] p-2 rounded mb-1 bg-slate-800 text-white border border-slate-600 focus:border-neon-blue outline-none",autoFocus:!0}),B&&v.jsxs("div",{className:"flex items-center gap-1 text-[8px] text-amber-400 font-bold mb-2 bg-amber-900/30 p-1 rounded border border-amber-500/30 w-full",children:[v.jsx(yc,{className:"w-3 h-3 shrink-0"}),B]}),v.jsxs("div",{className:"flex gap-2 mt-1 w-full justify-center",children:[v.jsx("button",{onClick:()=>y(!1),className:"p-1.5 bg-slate-700 rounded hover:bg-slate-600 text-white",title:"Cancelar",children:v.jsx(Mo,{className:"w-4 h-4"})}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"file",ref:Y,onChange:ue,accept:"image/*",className:"hidden"}),v.jsx("button",{onClick:()=>{var ge;return(ge=Y.current)==null?void 0:ge.click()},className:"p-1.5 bg-purple-600 text-white rounded hover:bg-purple-500 font-bold text-xs flex items-center gap-1",title:"Subir Imagen",children:v.jsx(Mx,{className:"w-4 h-4"})})]}),v.jsx("button",{onClick:Ne,className:"p-1.5 bg-blue-600 text-white rounded hover:bg-blue-500 font-bold text-xs flex items-center gap-1",title:"Buscar en Google",children:v.jsx(U0,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>xe(),className:"p-1.5 bg-neon-blue text-black rounded hover:bg-cyan-400 font-bold text-xs flex items-center gap-1",title:"Guardar",children:b?"...":v.jsx(la,{className:"w-4 h-4"})})]})]})})]}),s==="admin"&&!g&&v.jsx("button",{onClick:ge=>{ge.stopPropagation(),y(!0)},className:"absolute top-2 right-8 z-30 p-1.5 bg-black/50 hover:bg-black/80 backdrop-blur text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity border border-white/10",title:"Editar Imagen",children:v.jsx(dS,{className:"w-3 h-3"})}),v.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 w-full",children:[v.jsx("button",{onClick:()=>o(i.id,-1),disabled:t===0,className:`w-8 h-8 flex items-center justify-center rounded-lg transition-all active:scale-95 ${t===0?"bg-slate-900/50 text-slate-700 border border-slate-800 cursor-not-allowed":"bg-slate-800 text-slate-400 border border-slate-700 hover:border-red-500/50 hover:text-red-500 shadow-sm"}`,children:v.jsx(rS,{className:"w-4 h-4"})}),v.jsx("span",{className:`text-sm font-bold w-6 text-center ${V?"text-neon-blue drop-shadow-[0_0_5px_rgba(0,243,255,0.5)]":"text-slate-600"}`,children:t}),v.jsx("button",{onClick:()=>o(i.id,1),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-slate-800 text-white border border-slate-700 hover:border-neon-blue/50 hover:text-neon-blue hover:shadow-[0_0_10px_rgba(0,243,255,0.2)] active:scale-95 transition-all",children:v.jsx(pS,{className:"w-4 h-4"})})]})]})});var WS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let eb,tb;function nb(){return{geminiUrl:eb,vertexUrl:tb}}function ib(i,t,o,s){var r,c;if(!(i!=null&&i.baseUrl)){const p=nb();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(c=p.geminiUrl)!==null&&c!==void 0?c:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bn{}function ie(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(i,t,o){for(let c=0;c<t.length-1;c++){const p=t[c];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const x=y[h];d(x,t.slice(c+1),o[h])}else for(const h of y)d(h,t.slice(c+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];d(y[0],t.slice(c+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return o;const r=t[s];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const p=i[c];return Array.isArray(p)?p.map(g=>u(g,t.slice(s+1),o)):o}else return o}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function ob(i,t){for(const[o,s]of Object.entries(t)){const r=o.split("."),c=s.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const h=c[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&p.add(h)}Qu(i,r,c,0,p)}}function Qu(i,t,o,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const c=t[s];if(c.endsWith("[]")){const p=c.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])Qu(y,t,o,s+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=p[h];for(const[h,x]of Object.entries(y)){const b=[];for(const _ of o.slice(s))_==="*"?b.push(h):b.push(_);d(p,b,x)}for(const h of g)delete p[h]}}else{const p=i;c in p&&Qu(p[c],t,o,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lb(i){const t={},o=u(i,["operationName"]);o!=null&&d(t,["operationName"],o);const s=u(i,["resourceName"]);return s!=null&&d(t,["_url","resourceName"],s),t}function sb(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const s=u(i,["metadata"]);s!=null&&d(t,["metadata"],s);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["response","generateVideoResponse"]);return p!=null&&d(t,["response"],rb(p)),t}function ab(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const s=u(i,["metadata"]);s!=null&&d(t,["metadata"],s);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["response"]);return p!=null&&d(t,["response"],ub(p)),t}function rb(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>cb(p))),d(t,["generatedVideos"],c)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&d(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function ub(i){const t={},o=u(i,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>db(p))),d(t,["generatedVideos"],c)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&d(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function cb(i){const t={},o=u(i,["video"]);return o!=null&&d(t,["video"],yb(o)),t}function db(i){const t={},o=u(i,["_self"]);return o!=null&&d(t,["video"],vb(o)),t}function fb(i){const t={},o=u(i,["operationName"]);return o!=null&&d(t,["_url","operationName"],o),t}function pb(i){const t={},o=u(i,["operationName"]);return o!=null&&d(t,["_url","operationName"],o),t}function mb(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const s=u(i,["metadata"]);s!=null&&d(t,["metadata"],s);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["response"]);return p!=null&&d(t,["response"],hb(p)),t}function hb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&d(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function H0(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const s=u(i,["metadata"]);s!=null&&d(t,["metadata"],s);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["response"]);return p!=null&&d(t,["response"],gb(p)),t}function gb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&d(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function yb(i){const t={},o=u(i,["uri"]);o!=null&&d(t,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&d(t,["videoBytes"],vc(s));const r=u(i,["encoding"]);return r!=null&&d(t,["mimeType"],r),t}function vb(i){const t={},o=u(i,["gcsUri"]);o!=null&&d(t,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&d(t,["videoBytes"],vc(s));const r=u(i,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Fm||(Fm={}));var Jm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Jm||(Jm={}));var Ym;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Ym||(Ym={}));var gi;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(gi||(gi={}));var jm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jm||(jm={}));var Km;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Km||(Km={}));var Xm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Xm||(Xm={}));var $m;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})($m||($m={}));var Qm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Qm||(Qm={}));var Zm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Zm||(Zm={}));var Wm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Wm||(Wm={}));var eh;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(eh||(eh={}));var th;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(th||(th={}));var nh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(nh||(nh={}));var ih;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(ih||(ih={}));var oh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(oh||(oh={}));var lh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(lh||(lh={}));var sh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sh||(sh={}));var ah;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ah||(ah={}));var rh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(rh||(rh={}));var uh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(uh||(uh={}));var ra;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ra||(ra={}));var ch;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ch||(ch={}));var dh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(dh||(dh={}));var fh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(fh||(fh={}));var Zu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Zu||(Zu={}));var ph;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(ph||(ph={}));var mh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(mh||(mh={}));var Wu;(function(i){i.COLLECTION="COLLECTION"})(Wu||(Wu={}));var hh;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(hh||(hh={}));var gh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(gh||(gh={}));var yh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(yh||(yh={}));var vh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(vh||(vh={}));var xh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(xh||(xh={}));var Sh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Sh||(Sh={}));var bh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bh||(bh={}));var _h;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(_h||(_h={}));var Th;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Th||(Th={}));var Eh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Eh||(Eh={}));var Ch;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Ch||(Ch={}));var Ah;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Ah||(Ah={}));var Nh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Nh||(Nh={}));var wh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(wh||(wh={}));var Rh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Rh||(Rh={}));var Mh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Mh||(Mh={}));var Ih;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Ih||(Ih={}));var Dh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Dh||(Dh={}));var Uh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Uh||(Uh={}));var kh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(kh||(kh={}));var Lh;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Lh||(Lh={}));var Gh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Gh||(Gh={}));var Hh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Hh||(Hh={}));var qh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(qh||(qh={}));var zh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(zh||(zh={}));var Oh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Oh||(Oh={}));var Vh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Vh||(Vh={}));var Co;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Co||(Co={}));class ec{constructor(t){const o={};for(const s of t.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Il{get text(){var t,o,s,r,c,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",x=!1;const b=[];for(const _ of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,w]of Object.entries(_))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(w!==null||w!==void 0)&&b.push(E);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;x=!0,h+=_.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?h:void 0}get data(){var t,o,s,r,c,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const x=[];for(const b of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,E]of Object.entries(b))_!=="inlineData"&&(E!==null||E!==void 0)&&x.push(_);b.inlineData&&typeof b.inlineData.data=="string"&&(h+=atob(b.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,o,s,r,c,p,g,y;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,o,s,r,c,p,g,y,h;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,o,s,r,c,p,g,y,h;if(((r=(s=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.output}}class Ph{}class Bh{}class xb{}class Sb{}class bb{}class _b{}class Fh{}class Jh{}class Yh{}class Tb{}class ua{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new ua;let r;const c=t;return o?r=ab(c):r=sb(c),Object.assign(s,r),s}}class jh{}class Kh{}class Xh{}class $h{}class Eb{}class Cb{}class Ab{}class xc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new xc,c=mb(t);return Object.assign(s,c),s}}class Nb{}class wb{}class Rb{}class Mb{}class Qh{}class Ib{get text(){var t,o,s;let r="",c=!1;const p=[];for(const g of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,o,s;let r="";const c=[];for(const p of(s=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&c.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Db{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Sc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const s=new Sc,c=H0(t);return Object.assign(s,c),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ve(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function q0(i,t){const o=Ve(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function z0(i){return Array.isArray(i)?i.map(t=>ca(t)):[ca(i)]}function ca(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function O0(i){const t=ca(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function V0(i){const t=ca(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Zh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function P0(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Zh(t)):[Zh(i)]}function tc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Wh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function e0(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Nt(i){if(i==null)throw new Error("ContentUnion is required");return tc(i)?i:{role:"user",parts:P0(i)}}function bc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const s=Nt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=Nt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>Nt(o)):[Nt(t)]}function rn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Wh(i)||e0(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Nt(i)]}const t=[],o=[],s=tc(i[0]);for(const r of i){const c=tc(r);if(c!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(Wh(r)||e0(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||t.push({role:"user",parts:P0(o)}),t}function Ub(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)t.type=Object.values(gi).includes(o[0].toUpperCase())?o[0].toUpperCase():gi.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of o)t.anyOf.push({type:Object.values(gi).includes(s.toUpperCase())?s.toUpperCase():gi.TYPE_UNSPECIFIED})}}function wo(i){const t={},o=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&Ub(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(gi).includes(g.toUpperCase())?g.toUpperCase():gi.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=wo(g);else if(s.includes(p)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(wo(h))}t[p]=y}else if(r.includes(p)){const y={};for(const[h,x]of Object.entries(g))y[h]=wo(x);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function _c(i){return wo(i)}function Tc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Ec(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Io(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=wo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=wo(t.response));return i}function Do(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function kb(i,t,o,s=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Fn(i,t){if(typeof t!="string")throw new Error("name must be a string");return kb(i,t,"cachedContents")}function B0(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function yi(i){return vc(i)}function Lb(i){return i!=null&&typeof i=="object"&&"name"in i}function Gb(i){return i!=null&&typeof i=="object"&&"video"in i}function Hb(i){return i!=null&&typeof i=="object"&&"uri"in i}function F0(i){var t;let o;if(Lb(i)&&(o=i.name),!(Hb(i)&&(o=i.uri,o===void 0))&&!(Gb(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function J0(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Y0(i){for(const t of["models","tunedModels","publisherModels"])if(qb(i,t))return i[t];return[]}function qb(i,t){return i!==null&&typeof i=="object"&&t in i}function zb(i,t={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function Ob(i,t={}){const o=[],s=new Set;for(const r of i){const c=r.name;if(s.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);s.add(c);const p=zb(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function j0(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Vb(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function K0(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Uo(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function X0(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pb(i){const t={},o=u(i,["responsesFile"]);o!=null&&d(t,["fileName"],o);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(p=>__(p))),d(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["inlinedEmbedContentResponses"],c)}return t}function Bb(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&d(t,["format"],o);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&d(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&d(t,["bigqueryUri"],r),t}function Fb(i){const t={},o=u(i,["format"]);o!=null&&d(t,["predictionsFormat"],o);const s=u(i,["gcsUri"]);s!=null&&d(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&d(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function sa(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const s=u(i,["metadata","displayName"]);s!=null&&d(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&d(t,["state"],X0(r));const c=u(i,["metadata","createTime"]);c!=null&&d(t,["createTime"],c);const p=u(i,["metadata","endTime"]);p!=null&&d(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&d(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&d(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&d(t,["dest"],Pb(K0(h))),t}function nc(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const s=u(i,["displayName"]);s!=null&&d(t,["displayName"],s);const r=u(i,["state"]);r!=null&&d(t,["state"],X0(r));const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["createTime"]);p!=null&&d(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&d(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&d(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&d(t,["updateTime"],h);const x=u(i,["model"]);x!=null&&d(t,["model"],x);const b=u(i,["inputConfig"]);b!=null&&d(t,["src"],Jb(b));const _=u(i,["outputConfig"]);_!=null&&d(t,["dest"],Bb(K0(_)));const E=u(i,["completionStats"]);return E!=null&&d(t,["completionStats"],E),t}function Jb(i){const t={},o=u(i,["instancesFormat"]);o!=null&&d(t,["format"],o);const s=u(i,["gcsSource","uris"]);s!=null&&d(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&d(t,["bigqueryUri"],r),t}function Yb(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&d(o,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>b_(i,p))),d(o,["requests","requests"],c)}return o}function jb(i){const t={},o=u(i,["format"]);o!=null&&d(t,["instancesFormat"],o);const s=u(i,["gcsUri"]);s!=null&&d(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&d(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Kb(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function Xb(i,t){const o={},s=u(t,["name"]);return s!=null&&d(o,["_url","name"],Uo(i,s)),o}function $b(i,t){const o={},s=u(t,["name"]);return s!=null&&d(o,["_url","name"],Uo(i,s)),o}function Qb(i){const t={},o=u(i,["content"]);o!=null&&d(t,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&d(t,["citationMetadata"],Zb(s));const r=u(i,["tokenCount"]);r!=null&&d(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&d(t,["finishReason"],c);const p=u(i,["avgLogprobs"]);p!=null&&d(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&d(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&d(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&d(t,["logprobsResult"],h);const x=u(i,["safetyRatings"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(E=>E)),d(t,["safetyRatings"],_)}const b=u(i,["urlContextMetadata"]);return b!=null&&d(t,["urlContextMetadata"],b),t}function Zb(i){const t={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),d(t,["citations"],s)}return t}function $0(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>R_(c))),d(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&d(t,["role"],s),t}function Wb(i,t){const o={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&d(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function e_(i,t){const o={},s=u(i,["displayName"]);t!==void 0&&s!=null&&d(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&d(t,["outputConfig"],Fb(Vb(r))),o}function t0(i,t){const o={},s=u(t,["model"]);s!=null&&d(o,["_url","model"],Ve(i,s));const r=u(t,["src"]);r!=null&&d(o,["batch","inputConfig"],Yb(i,j0(i,r)));const c=u(t,["config"]);return c!=null&&Wb(c,o),o}function t_(i,t){const o={},s=u(t,["model"]);s!=null&&d(o,["model"],Ve(i,s));const r=u(t,["src"]);r!=null&&d(o,["inputConfig"],jb(j0(i,r)));const c=u(t,["config"]);return c!=null&&e_(c,o),o}function n_(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&d(t,["batch","displayName"],s),o}function i_(i,t){const o={},s=u(t,["model"]);s!=null&&d(o,["_url","model"],Ve(i,s));const r=u(t,["src"]);r!=null&&d(o,["batch","inputConfig"],c_(i,r));const c=u(t,["config"]);return c!=null&&n_(c,o),o}function o_(i,t){const o={},s=u(t,["name"]);return s!=null&&d(o,["_url","name"],Uo(i,s)),o}function l_(i,t){const o={},s=u(t,["name"]);return s!=null&&d(o,["_url","name"],Uo(i,s)),o}function s_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&d(t,["name"],s);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);return c!=null&&d(t,["error"],c),t}function a_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&d(t,["name"],s);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);return c!=null&&d(t,["error"],c),t}function r_(i,t){const o={},s=u(t,["contents"]);if(s!=null){let c=bc(i,s);Array.isArray(c)&&(c=c.map(p=>p)),d(o,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(d(o,["_self"],u_(r,o)),ob(o,{"requests[].*":"requests[].request.*"})),o}function u_(i,t){const o={},s=u(i,["taskType"]);t!==void 0&&s!=null&&d(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&d(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&d(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function c_(i,t){const o={},s=u(t,["fileName"]);s!=null&&d(o,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&d(o,["requests"],r_(i,r)),o}function d_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function f_(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const s=u(i,["args"]);s!=null&&d(t,["args"],s);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function p_(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&d(t,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&d(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function m_(i,t,o){const s={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],$0(Nt(r)));const c=u(t,["temperature"]);c!=null&&d(s,["temperature"],c);const p=u(t,["topP"]);p!=null&&d(s,["topP"],p);const g=u(t,["topK"]);g!=null&&d(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&d(s,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&d(s,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&d(s,["stopSequences"],x);const b=u(t,["responseLogprobs"]);b!=null&&d(s,["responseLogprobs"],b);const _=u(t,["logprobs"]);_!=null&&d(s,["logprobs"],_);const E=u(t,["presencePenalty"]);E!=null&&d(s,["presencePenalty"],E);const w=u(t,["frequencyPenalty"]);w!=null&&d(s,["frequencyPenalty"],w);const k=u(t,["seed"]);k!=null&&d(s,["seed"],k);const M=u(t,["responseMimeType"]);M!=null&&d(s,["responseMimeType"],M);const B=u(t,["responseSchema"]);B!=null&&d(s,["responseSchema"],_c(B));const K=u(t,["responseJsonSchema"]);if(K!=null&&d(s,["responseJsonSchema"],K),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=u(t,["safetySettings"]);if(o!==void 0&&Y!=null){let ue=Y;Array.isArray(ue)&&(ue=ue.map(me=>M_(me))),d(o,["safetySettings"],ue)}const V=u(t,["tools"]);if(o!==void 0&&V!=null){let ue=Do(V);Array.isArray(ue)&&(ue=ue.map(me=>D_(Io(me)))),d(o,["tools"],ue)}const q=u(t,["toolConfig"]);if(o!==void 0&&q!=null&&d(o,["toolConfig"],I_(q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=u(t,["cachedContent"]);o!==void 0&&ne!=null&&d(o,["cachedContent"],Fn(i,ne));const X=u(t,["responseModalities"]);X!=null&&d(s,["responseModalities"],X);const de=u(t,["mediaResolution"]);de!=null&&d(s,["mediaResolution"],de);const Z=u(t,["speechConfig"]);if(Z!=null&&d(s,["speechConfig"],Tc(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=u(t,["thinkingConfig"]);re!=null&&d(s,["thinkingConfig"],re);const xe=u(t,["imageConfig"]);xe!=null&&d(s,["imageConfig"],S_(xe));const Ne=u(t,["enableEnhancedCivicAnswers"]);if(Ne!=null&&d(s,["enableEnhancedCivicAnswers"],Ne),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function h_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>Qb(h))),d(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&d(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&d(t,["promptFeedback"],c);const p=u(i,["responseId"]);p!=null&&d(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&d(t,["usageMetadata"],g),t}function g_(i,t){const o={},s=u(t,["name"]);return s!=null&&d(o,["_url","name"],Uo(i,s)),o}function y_(i,t){const o={},s=u(t,["name"]);return s!=null&&d(o,["_url","name"],Uo(i,s)),o}function v_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function x_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function S_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&d(t,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&d(t,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function b_(i,t){const o={},s=u(t,["model"]);s!=null&&d(o,["request","model"],Ve(i,s));const r=u(t,["contents"]);if(r!=null){let g=rn(r);Array.isArray(g)&&(g=g.map(y=>$0(y))),d(o,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&d(o,["metadata"],c);const p=u(t,["config"]);return p!=null&&d(o,["request","generationConfig"],m_(i,p,u(o,["request"],{}))),o}function __(i){const t={},o=u(i,["response"]);o!=null&&d(t,["response"],h_(o));const s=u(i,["metadata"]);s!=null&&d(t,["metadata"],s);const r=u(i,["error"]);return r!=null&&d(t,["error"],r),t}function T_(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function E_(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&d(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),o}function C_(i){const t={},o=u(i,["config"]);return o!=null&&T_(o,t),t}function A_(i){const t={},o=u(i,["config"]);return o!=null&&E_(o,t),t}function N_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>sa(p))),d(t,["batchJobs"],c)}return t}function w_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>nc(p))),d(t,["batchJobs"],c)}return t}function R_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&d(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],d_(c));const p=u(i,["functionCall"]);p!=null&&d(t,["functionCall"],f_(p));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],Kb(y));const h=u(i,["text"]);h!=null&&d(t,["text"],h);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const b=u(i,["thoughtSignature"]);b!=null&&d(t,["thoughtSignature"],b);const _=u(i,["videoMetadata"]);return _!=null&&d(t,["videoMetadata"],_),t}function M_(i){const t={},o=u(i,["category"]);if(o!=null&&d(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&d(t,["threshold"],s),t}function I_(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&d(t,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&d(t,["functionCallingConfig"],p_(s)),t}function D_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&d(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(b=>b)),d(t,["functionDeclarations"],x)}const p=u(i,["googleMaps"]);p!=null&&d(t,["googleMaps"],v_(p));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],x_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Pn||(Pn={}));class qi{constructor(t,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,s,r)}init(t,o,s){var r,c;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!s||Object.keys(s).length===0?p={config:{}}:typeof s=="object"?p=Object.assign({},s):p=s,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(c=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U_ extends Bn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new qi(Pn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=t0(this.apiClient,t),s=o._url,r=ie("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const x of y){const b=Object.assign({},x);if(b.systemInstruction){const _=b.systemInstruction;delete b.systemInstruction;const E=b.request;E.systemInstruction=_,b.request=E}h.push(b)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const c=this.getGcsUri(t),p=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?s.dest=`${c.slice(0,-6)}/dest`:s.dest=`${c}_dest_${r}`;else if(p)s.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=t_(this.apiClient,t);return g=ie("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>nc(x))}else{const h=t0(this.apiClient,t);return g=ie("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>sa(x))}}async createEmbeddingsInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=i_(this.apiClient,t);return c=ie("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>sa(y))}}async get(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=y_(this.apiClient,t);return g=ie("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>nc(x))}else{const h=g_(this.apiClient,t);return g=ie("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>sa(x))}}async cancel(t){var o,s,r,c;let p="",g={};if(this.apiClient.isVertexAI()){const y=$b(this.apiClient,t);p=ie("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=Xb(this.apiClient,t);p=ie("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=A_(t);return g=ie("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=w_(x),_=new Qh;return Object.assign(_,b),_})}else{const h=C_(t);return g=ie("batches",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=N_(x),_=new Qh;return Object.assign(_,b),_})}}async delete(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=l_(this.apiClient,t);return g=ie("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>a_(x))}else{const h=o_(this.apiClient,t);return g=ie("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>s_(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k_(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function n0(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>iT(c))),d(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&d(t,["role"],s),t}function L_(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&d(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let x=rn(p);Array.isArray(x)&&(x=x.map(b=>n0(b))),d(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&d(t,["systemInstruction"],n0(Nt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(b=>lT(b))),d(t,["tools"],x)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&d(t,["toolConfig"],oT(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function G_(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&d(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let b=rn(p);Array.isArray(b)&&(b=b.map(_=>_)),d(t,["contents"],b)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&d(t,["systemInstruction"],Nt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let b=y;Array.isArray(b)&&(b=b.map(_=>sT(_))),d(t,["tools"],b)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&d(t,["toolConfig"],h);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&d(t,["encryption_spec","kmsKeyName"],x),o}function H_(i,t){const o={},s=u(t,["model"]);s!=null&&d(o,["model"],q0(i,s));const r=u(t,["config"]);return r!=null&&L_(r,o),o}function q_(i,t){const o={},s=u(t,["model"]);s!=null&&d(o,["model"],q0(i,s));const r=u(t,["config"]);return r!=null&&G_(r,o),o}function z_(i,t){const o={},s=u(t,["name"]);return s!=null&&d(o,["_url","name"],Fn(i,s)),o}function O_(i,t){const o={},s=u(t,["name"]);return s!=null&&d(o,["_url","name"],Fn(i,s)),o}function V_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function P_(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function B_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function F_(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const s=u(i,["args"]);s!=null&&d(t,["args"],s);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function J_(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&d(t,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&d(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Y_(i){const t={},o=u(i,["description"]);o!=null&&d(t,["description"],o);const s=u(i,["name"]);s!=null&&d(t,["name"],s);const r=u(i,["parameters"]);r!=null&&d(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&d(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&d(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&d(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function j_(i,t){const o={},s=u(t,["name"]);return s!=null&&d(o,["_url","name"],Fn(i,s)),o}function K_(i,t){const o={},s=u(t,["name"]);return s!=null&&d(o,["_url","name"],Fn(i,s)),o}function X_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function $_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function Q_(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function Z_(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function W_(i){const t={},o=u(i,["config"]);return o!=null&&Q_(o,t),t}function eT(i){const t={},o=u(i,["config"]);return o!=null&&Z_(o,t),t}function tT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["cachedContents"],c)}return t}function nT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["cachedContents"],c)}return t}function iT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&d(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],B_(c));const p=u(i,["functionCall"]);p!=null&&d(t,["functionCall"],F_(p));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],k_(y));const h=u(i,["text"]);h!=null&&d(t,["text"],h);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const b=u(i,["thoughtSignature"]);b!=null&&d(t,["thoughtSignature"],b);const _=u(i,["videoMetadata"]);return _!=null&&d(t,["videoMetadata"],_),t}function oT(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&d(t,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&d(t,["functionCallingConfig"],J_(s)),t}function lT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&d(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(b=>b)),d(t,["functionDeclarations"],x)}const p=u(i,["googleMaps"]);p!=null&&d(t,["googleMaps"],X_(p));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],$_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}function sT(i){const t={},o=u(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&d(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&d(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&d(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(_=>Y_(_))),d(t,["functionDeclarations"],b)}const g=u(i,["googleMaps"]);g!=null&&d(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&d(t,["googleSearchRetrieval"],h);const x=u(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}function aT(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&d(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&d(t,["expireTime"],r),o}function rT(i,t){const o={},s=u(i,["ttl"]);t!==void 0&&s!=null&&d(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&d(t,["expireTime"],r),o}function uT(i,t){const o={},s=u(t,["name"]);s!=null&&d(o,["_url","name"],Fn(i,s));const r=u(t,["config"]);return r!=null&&aT(r,o),o}function cT(i,t){const o={},s=u(t,["name"]);s!=null&&d(o,["_url","name"],Fn(i,s));const r=u(t,["config"]);return r!=null&&rT(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dT extends Bn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new qi(Pn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=q_(this.apiClient,t);return g=ie("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const h=H_(this.apiClient,t);return g=ie("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async get(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=K_(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const h=j_(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async delete(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=O_(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=P_(x),_=new Xh;return Object.assign(_,b),_})}else{const h=z_(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=V_(x),_=new Xh;return Object.assign(_,b),_})}}async update(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=cT(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const h=uT(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async listInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=eT(t);return g=ie("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=nT(x),_=new $h;return Object.assign(_,b),_})}else{const h=W_(t);return g=ie("cachedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=tT(x),_=new $h;return Object.assign(_,b),_})}}}function da(i,t){var o={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(o[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(o[s[r]]=i[s[r]]);return o}function i0(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _e(i){return this instanceof _e?(this.v=i,this):new _e(i)}function hn(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(E){return function(w){return Promise.resolve(w).then(E,b)}}function g(E,w){s[E]&&(r[E]=function(k){return new Promise(function(M,B){c.push([E,k,M,B])>1||y(E,k)})},w&&(r[E]=w(r[E])))}function y(E,w){try{h(s[E](w))}catch(k){_(c[0][3],k)}}function h(E){E.value instanceof _e?Promise.resolve(E.value.v).then(x,b):_(c[0][2],E)}function x(E){y("next",E)}function b(E){y("throw",E)}function _(E,w){E(w),c.shift(),c.length&&y(c[0][0],c[0][1])}}function gn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof i0=="function"?i0(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(c){o[c]=i[c]&&function(p){return new Promise(function(g,y){p=i[c](p),r(g,y,p.done,p.value)})}}function r(c,p,g,y){Promise.resolve(y).then(function(h){c({value:h,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Q0(o)}function Q0(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function pT(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function o0(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let c=!0;for(;s<o&&i[s].role==="model";)r.push(i[s]),c&&!Q0(i[s])&&(c=!1),s++;c?t.push(...r):t.pop()}return t}class mT{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new hT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class hT{constructor(t,o,s,r={},c=[]){this.apiClient=t,this.modelsModule=o,this.model=s,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),pT(c)}async sendMessage(t){var o;await this.sendPromise;const s=Nt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,p,g;const y=await r,h=(p=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content,x=y.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let _=[];x!=null&&(_=(g=x.slice(b))!==null&&g!==void 0?g:[]);const E=h?[h]:[];this.recordHistory(s,E,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const s=Nt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,s)}getHistory(t=!1){const o=t?o0(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return hn(this,arguments,function*(){var r,c,p,g,y,h;const x=[];try{for(var b=!0,_=gn(t),E;E=yield _e(_.next()),r=E.done,!r;b=!0){g=E.value,b=!1;const w=g;if(fT(w)){const k=(h=(y=w.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;k!==void 0&&x.push(k)}yield yield _e(w)}}catch(w){c={error:w}}finally{try{!b&&!r&&(p=_.return)&&(yield _e(p.call(_)))}finally{if(c)throw c.error}}this.recordHistory(o,x)})}recordHistory(t,o,s){let r=[];o.length>0&&o.every(c=>c.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...o0(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Hl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gT(i){const t={},o=u(i,["file"]);return o!=null&&d(t,["file"],o),t}function yT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function vT(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","file"],F0(o)),t}function xT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function ST(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","file"],F0(o)),t}function bT(i){const t={},o=u(i,["uris"]);return o!=null&&d(t,["uris"],o),t}function _T(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function TT(i){const t={},o=u(i,["config"]);return o!=null&&_T(o,t),t}function ET(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["files"],c)}return t}function CT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["files"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),d(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AT extends Bn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new qi(Pn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=TT(t);return c=ie("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=ET(y),x=new Nb;return Object.assign(x,h),x})}}async createInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=gT(t);return c=ie("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=yT(y),x=new wb;return Object.assign(x,h),x})}}async get(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ST(t);return c=ie("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vT(t);return c=ie("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=xT(y),x=new Rb;return Object.assign(x,h),x})}}async registerFilesInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bT(t);return c=ie("files:register",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=CT(y),x=new Mb;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aa(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function NT(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>BT(c))),d(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&d(t,["role"],s),t}function wT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function RT(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const s=u(i,["args"]);s!=null&&d(t,["args"],s);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function MT(i){const t={},o=u(i,["description"]);o!=null&&d(t,["description"],o);const s=u(i,["name"]);s!=null&&d(t,["name"],s);const r=u(i,["parameters"]);r!=null&&d(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&d(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&d(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&d(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function IT(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&d(t,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&d(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&d(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&d(t,["candidateCount"],c);const p=u(i,["enableAffectiveDialog"]);p!=null&&d(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&d(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&d(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&d(t,["maxOutputTokens"],h);const x=u(i,["mediaResolution"]);x!=null&&d(t,["mediaResolution"],x);const b=u(i,["presencePenalty"]);b!=null&&d(t,["presencePenalty"],b);const _=u(i,["responseLogprobs"]);_!=null&&d(t,["responseLogprobs"],_);const E=u(i,["responseMimeType"]);E!=null&&d(t,["responseMimeType"],E);const w=u(i,["responseModalities"]);w!=null&&d(t,["responseModalities"],w);const k=u(i,["responseSchema"]);k!=null&&d(t,["responseSchema"],k);const M=u(i,["routingConfig"]);M!=null&&d(t,["routingConfig"],M);const B=u(i,["seed"]);B!=null&&d(t,["seed"],B);const K=u(i,["speechConfig"]);K!=null&&d(t,["speechConfig"],K);const Y=u(i,["stopSequences"]);Y!=null&&d(t,["stopSequences"],Y);const V=u(i,["temperature"]);V!=null&&d(t,["temperature"],V);const q=u(i,["thinkingConfig"]);q!=null&&d(t,["thinkingConfig"],q);const ne=u(i,["topK"]);ne!=null&&d(t,["topK"],ne);const X=u(i,["topP"]);if(X!=null&&d(t,["topP"],X),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function DT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function UT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function kT(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","seed"],x);const b=u(i,["speechConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","speechConfig"],Ec(b));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","thinkingConfig"],_);const E=u(i,["enableAffectiveDialog"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],E);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],NT(Nt(w)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let ne=Do(k);Array.isArray(ne)&&(ne=ne.map(X=>JT(Io(X)))),d(t,["setup","tools"],ne)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&d(t,["setup","sessionResumption"],FT(M));const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&d(t,["setup","inputAudioTranscription"],B);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&d(t,["setup","outputAudioTranscription"],K);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&d(t,["setup","realtimeInputConfig"],Y);const V=u(i,["contextWindowCompression"]);t!==void 0&&V!=null&&d(t,["setup","contextWindowCompression"],V);const q=u(i,["proactivity"]);if(t!==void 0&&q!=null&&d(t,["setup","proactivity"],q),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function LT(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig"],IT(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","seed"],x);const b=u(i,["speechConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","speechConfig"],Ec(b));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","thinkingConfig"],_);const E=u(i,["enableAffectiveDialog"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],E);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],Nt(w));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let X=Do(k);Array.isArray(X)&&(X=X.map(de=>YT(Io(de)))),d(t,["setup","tools"],X)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&d(t,["setup","sessionResumption"],M);const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&d(t,["setup","inputAudioTranscription"],B);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&d(t,["setup","outputAudioTranscription"],K);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&d(t,["setup","realtimeInputConfig"],Y);const V=u(i,["contextWindowCompression"]);t!==void 0&&V!=null&&d(t,["setup","contextWindowCompression"],V);const q=u(i,["proactivity"]);t!==void 0&&q!=null&&d(t,["setup","proactivity"],q);const ne=u(i,["explicitVadSignal"]);return t!==void 0&&ne!=null&&d(t,["setup","explicitVadSignal"],ne),o}function GT(i,t){const o={},s=u(t,["model"]);s!=null&&d(o,["setup","model"],Ve(i,s));const r=u(t,["config"]);return r!=null&&d(o,["config"],kT(r,o)),o}function HT(i,t){const o={},s=u(t,["model"]);s!=null&&d(o,["setup","model"],Ve(i,s));const r=u(t,["config"]);return r!=null&&d(o,["config"],LT(r,o)),o}function qT(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&d(t,["musicGenerationConfig"],o),t}function zT(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),d(t,["weightedPrompts"],s)}return t}function OT(i){const t={},o=u(i,["media"]);if(o!=null){let h=z0(o);Array.isArray(h)&&(h=h.map(x=>aa(x))),d(t,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&d(t,["audio"],aa(V0(s)));const r=u(i,["audioStreamEnd"]);r!=null&&d(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&d(t,["video"],aa(O0(c)));const p=u(i,["text"]);p!=null&&d(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&d(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&d(t,["activityEnd"],y),t}function VT(i){const t={},o=u(i,["media"]);if(o!=null){let h=z0(o);Array.isArray(h)&&(h=h.map(x=>x)),d(t,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&d(t,["audio"],V0(s));const r=u(i,["audioStreamEnd"]);r!=null&&d(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&d(t,["video"],O0(c));const p=u(i,["text"]);p!=null&&d(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&d(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&d(t,["activityEnd"],y),t}function PT(i){const t={},o=u(i,["setupComplete"]);o!=null&&d(t,["setupComplete"],o);const s=u(i,["serverContent"]);s!=null&&d(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&d(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&d(t,["toolCallCancellation"],c);const p=u(i,["usageMetadata"]);p!=null&&d(t,["usageMetadata"],jT(p));const g=u(i,["goAway"]);g!=null&&d(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&d(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&d(t,["voiceActivityDetectionSignal"],h);const x=u(i,["voiceActivity"]);return x!=null&&d(t,["voiceActivity"],KT(x)),t}function BT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&d(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],wT(c));const p=u(i,["functionCall"]);p!=null&&d(t,["functionCall"],RT(p));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],aa(y));const h=u(i,["text"]);h!=null&&d(t,["text"],h);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const b=u(i,["thoughtSignature"]);b!=null&&d(t,["thoughtSignature"],b);const _=u(i,["videoMetadata"]);return _!=null&&d(t,["videoMetadata"],_),t}function FT(i){const t={},o=u(i,["handle"]);if(o!=null&&d(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function JT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&d(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(b=>b)),d(t,["functionDeclarations"],x)}const p=u(i,["googleMaps"]);p!=null&&d(t,["googleMaps"],DT(p));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],UT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}function YT(i){const t={},o=u(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&d(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&d(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&d(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(_=>MT(_))),d(t,["functionDeclarations"],b)}const g=u(i,["googleMaps"]);g!=null&&d(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&d(t,["googleSearchRetrieval"],h);const x=u(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}function jT(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&d(t,["promptTokenCount"],o);const s=u(i,["cachedContentTokenCount"]);s!=null&&d(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&d(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&d(t,["toolUsePromptTokenCount"],c);const p=u(i,["thoughtsTokenCount"]);p!=null&&d(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&d(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(w=>w)),d(t,["promptTokensDetails"],E)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(w=>w)),d(t,["cacheTokensDetails"],E)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(w=>w)),d(t,["responseTokensDetails"],E)}const b=u(i,["toolUsePromptTokensDetails"]);if(b!=null){let E=b;Array.isArray(E)&&(E=E.map(w=>w)),d(t,["toolUsePromptTokensDetails"],E)}const _=u(i,["trafficType"]);return _!=null&&d(t,["trafficType"],_),t}function KT(i){const t={},o=u(i,["type"]);return o!=null&&d(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XT(i,t){const o={},s=u(i,["data"]);if(s!=null&&d(o,["data"],s),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function $T(i,t){const o={},s=u(i,["content"]);s!=null&&d(o,["content"],s);const r=u(i,["citationMetadata"]);r!=null&&d(o,["citationMetadata"],QT(r));const c=u(i,["tokenCount"]);c!=null&&d(o,["tokenCount"],c);const p=u(i,["finishReason"]);p!=null&&d(o,["finishReason"],p);const g=u(i,["avgLogprobs"]);g!=null&&d(o,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&d(o,["groundingMetadata"],y);const h=u(i,["index"]);h!=null&&d(o,["index"],h);const x=u(i,["logprobsResult"]);x!=null&&d(o,["logprobsResult"],x);const b=u(i,["safetyRatings"]);if(b!=null){let E=b;Array.isArray(E)&&(E=E.map(w=>w)),d(o,["safetyRatings"],E)}const _=u(i,["urlContextMetadata"]);return _!=null&&d(o,["urlContextMetadata"],_),o}function QT(i,t){const o={},s=u(i,["citationSources"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),d(o,["citations"],r)}return o}function ZT(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["contents"]);if(c!=null){let p=rn(c);Array.isArray(p)&&(p=p.map(g=>g)),d(s,["contents"],p)}return s}function WT(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["tokensInfo"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(o,["tokensInfo"],c)}return o}function eE(i,t){const o={},s=u(i,["values"]);s!=null&&d(o,["values"],s);const r=u(i,["statistics"]);return r!=null&&d(o,["statistics"],tE(r)),o}function tE(i,t){const o={},s=u(i,["truncated"]);s!=null&&d(o,["truncated"],s);const r=u(i,["token_count"]);return r!=null&&d(o,["tokenCount"],r),o}function ma(i,t){const o={},s=u(i,["parts"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(p=>c1(p))),d(o,["parts"],c)}const r=u(i,["role"]);return r!=null&&d(o,["role"],r),o}function nE(i,t){const o={},s=u(i,["controlType"]);s!=null&&d(o,["controlType"],s);const r=u(i,["enableControlImageComputation"]);return r!=null&&d(o,["computeControl"],r),o}function iE(i,t){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function oE(i,t,o){const s={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&d(t,["systemInstruction"],Nt(r));const c=u(i,["tools"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>tg(y))),d(t,["tools"],g)}const p=u(i,["generationConfig"]);return t!==void 0&&p!=null&&d(t,["generationConfig"],XE(p)),s}function lE(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["contents"]);if(c!=null){let g=rn(c);Array.isArray(g)&&(g=g.map(y=>ma(y))),d(s,["contents"],g)}const p=u(t,["config"]);return p!=null&&iE(p),s}function sE(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["contents"]);if(c!=null){let g=rn(c);Array.isArray(g)&&(g=g.map(y=>y)),d(s,["contents"],g)}const p=u(t,["config"]);return p!=null&&oE(p,s),s}function aE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);r!=null&&d(o,["totalTokens"],r);const c=u(i,["cachedContentTokenCount"]);return c!=null&&d(o,["cachedContentTokenCount"],c),o}function rE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);return r!=null&&d(o,["totalTokens"],r),o}function uE(i,t,o){const s={},r=u(t,["model"]);return r!=null&&d(s,["_url","name"],Ve(i,r)),s}function cE(i,t,o){const s={},r=u(t,["model"]);return r!=null&&d(s,["_url","name"],Ve(i,r)),s}function dE(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&d(o,["sdkHttpResponse"],s),o}function fE(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&d(o,["sdkHttpResponse"],s),o}function pE(i,t,o){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&d(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&d(t,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const h=u(i,["seed"]);t!==void 0&&h!=null&&d(t,["parameters","seed"],h);const x=u(i,["safetyFilterLevel"]);t!==void 0&&x!=null&&d(t,["parameters","safetySetting"],x);const b=u(i,["personGeneration"]);t!==void 0&&b!=null&&d(t,["parameters","personGeneration"],b);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&d(t,["parameters","includeSafetyAttributes"],_);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&d(t,["parameters","includeRaiReason"],E);const w=u(i,["language"]);t!==void 0&&w!=null&&d(t,["parameters","language"],w);const k=u(i,["outputMimeType"]);t!==void 0&&k!=null&&d(t,["parameters","outputOptions","mimeType"],k);const M=u(i,["outputCompressionQuality"]);t!==void 0&&M!=null&&d(t,["parameters","outputOptions","compressionQuality"],M);const B=u(i,["addWatermark"]);t!==void 0&&B!=null&&d(t,["parameters","addWatermark"],B);const K=u(i,["labels"]);t!==void 0&&K!=null&&d(t,["labels"],K);const Y=u(i,["editMode"]);t!==void 0&&Y!=null&&d(t,["parameters","editMode"],Y);const V=u(i,["baseSteps"]);return t!==void 0&&V!=null&&d(t,["parameters","editConfig","baseSteps"],V),s}function mE(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["prompt"]);c!=null&&d(s,["instances[0]","prompt"],c);const p=u(t,["referenceImages"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(h=>g1(h))),d(s,["instances[0]","referenceImages"],y)}const g=u(t,["config"]);return g!=null&&pE(g,s),s}function hE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>ha(p))),d(o,["generatedImages"],c)}return o}function gE(i,t,o){const s={},r=u(i,["taskType"]);t!==void 0&&r!=null&&d(t,["requests[]","taskType"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&d(t,["requests[]","title"],c);const p=u(i,["outputDimensionality"]);if(t!==void 0&&p!=null&&d(t,["requests[]","outputDimensionality"],p),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function yE(i,t,o){const s={},r=u(i,["taskType"]);t!==void 0&&r!=null&&d(t,["instances[]","task_type"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&d(t,["instances[]","title"],c);const p=u(i,["outputDimensionality"]);t!==void 0&&p!=null&&d(t,["parameters","outputDimensionality"],p);const g=u(i,["mimeType"]);t!==void 0&&g!=null&&d(t,["instances[]","mimeType"],g);const y=u(i,["autoTruncate"]);return t!==void 0&&y!=null&&d(t,["parameters","autoTruncate"],y),s}function vE(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["contents"]);if(c!=null){let y=bc(i,c);Array.isArray(y)&&(y=y.map(h=>h)),d(s,["requests[]","content"],y)}const p=u(t,["config"]);p!=null&&gE(p,s);const g=u(t,["model"]);return g!==void 0&&d(s,["requests[]","model"],Ve(i,g)),s}function xE(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["contents"]);if(c!=null){let g=bc(i,c);Array.isArray(g)&&(g=g.map(y=>y)),d(s,["instances[]","content"],g)}const p=u(t,["config"]);return p!=null&&yE(p,s),s}function SE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>g)),d(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&d(o,["metadata"],c),o}function bE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>eE(g))),d(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&d(o,["metadata"],c),o}function _E(i,t){const o={},s=u(i,["endpoint"]);s!=null&&d(o,["name"],s);const r=u(i,["deployedModelId"]);return r!=null&&d(o,["deployedModelId"],r),o}function TE(i,t){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["fileUri"]);s!=null&&d(o,["fileUri"],s);const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function EE(i,t){const o={},s=u(i,["id"]);s!=null&&d(o,["id"],s);const r=u(i,["args"]);r!=null&&d(o,["args"],r);const c=u(i,["name"]);if(c!=null&&d(o,["name"],c),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function CE(i,t){const o={},s=u(i,["allowedFunctionNames"]);s!=null&&d(o,["allowedFunctionNames"],s);const r=u(i,["mode"]);if(r!=null&&d(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function AE(i,t){const o={},s=u(i,["description"]);s!=null&&d(o,["description"],s);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["parameters"]);c!=null&&d(o,["parameters"],c);const p=u(i,["parametersJsonSchema"]);p!=null&&d(o,["parametersJsonSchema"],p);const g=u(i,["response"]);g!=null&&d(o,["response"],g);const y=u(i,["responseJsonSchema"]);if(y!=null&&d(o,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function NE(i,t,o,s){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&d(o,["systemInstruction"],ma(Nt(c)));const p=u(t,["temperature"]);p!=null&&d(r,["temperature"],p);const g=u(t,["topP"]);g!=null&&d(r,["topP"],g);const y=u(t,["topK"]);y!=null&&d(r,["topK"],y);const h=u(t,["candidateCount"]);h!=null&&d(r,["candidateCount"],h);const x=u(t,["maxOutputTokens"]);x!=null&&d(r,["maxOutputTokens"],x);const b=u(t,["stopSequences"]);b!=null&&d(r,["stopSequences"],b);const _=u(t,["responseLogprobs"]);_!=null&&d(r,["responseLogprobs"],_);const E=u(t,["logprobs"]);E!=null&&d(r,["logprobs"],E);const w=u(t,["presencePenalty"]);w!=null&&d(r,["presencePenalty"],w);const k=u(t,["frequencyPenalty"]);k!=null&&d(r,["frequencyPenalty"],k);const M=u(t,["seed"]);M!=null&&d(r,["seed"],M);const B=u(t,["responseMimeType"]);B!=null&&d(r,["responseMimeType"],B);const K=u(t,["responseSchema"]);K!=null&&d(r,["responseSchema"],_c(K));const Y=u(t,["responseJsonSchema"]);if(Y!=null&&d(r,["responseJsonSchema"],Y),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=u(t,["safetySettings"]);if(o!==void 0&&V!=null){let me=V;Array.isArray(me)&&(me=me.map(ge=>y1(ge))),d(o,["safetySettings"],me)}const q=u(t,["tools"]);if(o!==void 0&&q!=null){let me=Do(q);Array.isArray(me)&&(me=me.map(ge=>E1(Io(ge)))),d(o,["tools"],me)}const ne=u(t,["toolConfig"]);if(o!==void 0&&ne!=null&&d(o,["toolConfig"],T1(ne)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=u(t,["cachedContent"]);o!==void 0&&X!=null&&d(o,["cachedContent"],Fn(i,X));const de=u(t,["responseModalities"]);de!=null&&d(r,["responseModalities"],de);const Z=u(t,["mediaResolution"]);Z!=null&&d(r,["mediaResolution"],Z);const re=u(t,["speechConfig"]);if(re!=null&&d(r,["speechConfig"],Tc(re)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const xe=u(t,["thinkingConfig"]);xe!=null&&d(r,["thinkingConfig"],xe);const Ne=u(t,["imageConfig"]);Ne!=null&&d(r,["imageConfig"],e1(Ne));const ue=u(t,["enableEnhancedCivicAnswers"]);if(ue!=null&&d(r,["enableEnhancedCivicAnswers"],ue),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function wE(i,t,o,s){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&d(o,["systemInstruction"],Nt(c));const p=u(t,["temperature"]);p!=null&&d(r,["temperature"],p);const g=u(t,["topP"]);g!=null&&d(r,["topP"],g);const y=u(t,["topK"]);y!=null&&d(r,["topK"],y);const h=u(t,["candidateCount"]);h!=null&&d(r,["candidateCount"],h);const x=u(t,["maxOutputTokens"]);x!=null&&d(r,["maxOutputTokens"],x);const b=u(t,["stopSequences"]);b!=null&&d(r,["stopSequences"],b);const _=u(t,["responseLogprobs"]);_!=null&&d(r,["responseLogprobs"],_);const E=u(t,["logprobs"]);E!=null&&d(r,["logprobs"],E);const w=u(t,["presencePenalty"]);w!=null&&d(r,["presencePenalty"],w);const k=u(t,["frequencyPenalty"]);k!=null&&d(r,["frequencyPenalty"],k);const M=u(t,["seed"]);M!=null&&d(r,["seed"],M);const B=u(t,["responseMimeType"]);B!=null&&d(r,["responseMimeType"],B);const K=u(t,["responseSchema"]);K!=null&&d(r,["responseSchema"],_c(K));const Y=u(t,["responseJsonSchema"]);Y!=null&&d(r,["responseJsonSchema"],Y);const V=u(t,["routingConfig"]);V!=null&&d(r,["routingConfig"],V);const q=u(t,["modelSelectionConfig"]);q!=null&&d(r,["modelConfig"],q);const ne=u(t,["safetySettings"]);if(o!==void 0&&ne!=null){let te=ne;Array.isArray(te)&&(te=te.map(Se=>Se)),d(o,["safetySettings"],te)}const X=u(t,["tools"]);if(o!==void 0&&X!=null){let te=Do(X);Array.isArray(te)&&(te=te.map(Se=>tg(Io(Se)))),d(o,["tools"],te)}const de=u(t,["toolConfig"]);o!==void 0&&de!=null&&d(o,["toolConfig"],de);const Z=u(t,["labels"]);o!==void 0&&Z!=null&&d(o,["labels"],Z);const re=u(t,["cachedContent"]);o!==void 0&&re!=null&&d(o,["cachedContent"],Fn(i,re));const xe=u(t,["responseModalities"]);xe!=null&&d(r,["responseModalities"],xe);const Ne=u(t,["mediaResolution"]);Ne!=null&&d(r,["mediaResolution"],Ne);const ue=u(t,["speechConfig"]);ue!=null&&d(r,["speechConfig"],Tc(ue));const me=u(t,["audioTimestamp"]);me!=null&&d(r,["audioTimestamp"],me);const ge=u(t,["thinkingConfig"]);ge!=null&&d(r,["thinkingConfig"],ge);const G=u(t,["imageConfig"]);if(G!=null&&d(r,["imageConfig"],t1(G)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const $=u(t,["modelArmorConfig"]);return o!==void 0&&$!=null&&d(o,["modelArmorConfig"],$),r}function l0(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["contents"]);if(c!=null){let g=rn(c);Array.isArray(g)&&(g=g.map(y=>ma(y))),d(s,["contents"],g)}const p=u(t,["config"]);return p!=null&&d(s,["generationConfig"],NE(i,p,s)),s}function s0(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["contents"]);if(c!=null){let g=rn(c);Array.isArray(g)&&(g=g.map(y=>y)),d(s,["contents"],g)}const p=u(t,["config"]);return p!=null&&d(s,["generationConfig"],wE(i,p,s)),s}function a0(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(x=>$T(x))),d(o,["candidates"],h)}const c=u(i,["modelVersion"]);c!=null&&d(o,["modelVersion"],c);const p=u(i,["promptFeedback"]);p!=null&&d(o,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&d(o,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&d(o,["usageMetadata"],y),o}function r0(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(b=>b)),d(o,["candidates"],x)}const c=u(i,["createTime"]);c!=null&&d(o,["createTime"],c);const p=u(i,["modelVersion"]);p!=null&&d(o,["modelVersion"],p);const g=u(i,["promptFeedback"]);g!=null&&d(o,["promptFeedback"],g);const y=u(i,["responseId"]);y!=null&&d(o,["responseId"],y);const h=u(i,["usageMetadata"]);return h!=null&&d(o,["usageMetadata"],h),o}function RE(i,t,o){const s={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&d(t,["parameters","aspectRatio"],c);const p=u(i,["guidanceScale"]);if(t!==void 0&&p!=null&&d(t,["parameters","guidanceScale"],p),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&d(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const h=u(i,["includeSafetyAttributes"]);t!==void 0&&h!=null&&d(t,["parameters","includeSafetyAttributes"],h);const x=u(i,["includeRaiReason"]);t!==void 0&&x!=null&&d(t,["parameters","includeRaiReason"],x);const b=u(i,["language"]);t!==void 0&&b!=null&&d(t,["parameters","language"],b);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&d(t,["parameters","outputOptions","mimeType"],_);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&d(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=u(i,["imageSize"]);if(t!==void 0&&w!=null&&d(t,["parameters","sampleImageSize"],w),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function ME(i,t,o){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&d(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&d(t,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const h=u(i,["seed"]);t!==void 0&&h!=null&&d(t,["parameters","seed"],h);const x=u(i,["safetyFilterLevel"]);t!==void 0&&x!=null&&d(t,["parameters","safetySetting"],x);const b=u(i,["personGeneration"]);t!==void 0&&b!=null&&d(t,["parameters","personGeneration"],b);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&d(t,["parameters","includeSafetyAttributes"],_);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&d(t,["parameters","includeRaiReason"],E);const w=u(i,["language"]);t!==void 0&&w!=null&&d(t,["parameters","language"],w);const k=u(i,["outputMimeType"]);t!==void 0&&k!=null&&d(t,["parameters","outputOptions","mimeType"],k);const M=u(i,["outputCompressionQuality"]);t!==void 0&&M!=null&&d(t,["parameters","outputOptions","compressionQuality"],M);const B=u(i,["addWatermark"]);t!==void 0&&B!=null&&d(t,["parameters","addWatermark"],B);const K=u(i,["labels"]);t!==void 0&&K!=null&&d(t,["labels"],K);const Y=u(i,["imageSize"]);t!==void 0&&Y!=null&&d(t,["parameters","sampleImageSize"],Y);const V=u(i,["enhancePrompt"]);return t!==void 0&&V!=null&&d(t,["parameters","enhancePrompt"],V),s}function IE(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["prompt"]);c!=null&&d(s,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&RE(p,s),s}function DE(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["prompt"]);c!=null&&d(s,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&ME(p,s),s}function UE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>JE(g))),d(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&d(o,["positivePromptSafetyAttributes"],W0(c)),o}function kE(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>ha(g))),d(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&d(o,["positivePromptSafetyAttributes"],eg(c)),o}function LE(i,t,o){const s={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(t!==void 0&&c!=null&&d(t,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&d(t,["parameters","aspectRatio"],p);const g=u(i,["resolution"]);t!==void 0&&g!=null&&d(t,["parameters","resolution"],g);const y=u(i,["personGeneration"]);if(t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(i,["negativePrompt"]);t!==void 0&&h!=null&&d(t,["parameters","negativePrompt"],h);const x=u(i,["enhancePrompt"]);if(t!==void 0&&x!=null&&d(t,["parameters","enhancePrompt"],x),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const b=u(i,["lastFrame"]);t!==void 0&&b!=null&&d(t,["instances[0]","lastFrame"],ga(b));const _=u(i,["referenceImages"]);if(t!==void 0&&_!=null){let E=_;Array.isArray(E)&&(E=E.map(w=>H1(w))),d(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function GE(i,t,o){const s={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&d(t,["parameters","storageUri"],c);const p=u(i,["fps"]);t!==void 0&&p!=null&&d(t,["parameters","fps"],p);const g=u(i,["durationSeconds"]);t!==void 0&&g!=null&&d(t,["parameters","durationSeconds"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&d(t,["parameters","seed"],y);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&d(t,["parameters","aspectRatio"],h);const x=u(i,["resolution"]);t!==void 0&&x!=null&&d(t,["parameters","resolution"],x);const b=u(i,["personGeneration"]);t!==void 0&&b!=null&&d(t,["parameters","personGeneration"],b);const _=u(i,["pubsubTopic"]);t!==void 0&&_!=null&&d(t,["parameters","pubsubTopic"],_);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&d(t,["parameters","negativePrompt"],E);const w=u(i,["enhancePrompt"]);t!==void 0&&w!=null&&d(t,["parameters","enhancePrompt"],w);const k=u(i,["generateAudio"]);t!==void 0&&k!=null&&d(t,["parameters","generateAudio"],k);const M=u(i,["lastFrame"]);t!==void 0&&M!=null&&d(t,["instances[0]","lastFrame"],yn(M));const B=u(i,["referenceImages"]);if(t!==void 0&&B!=null){let V=B;Array.isArray(V)&&(V=V.map(q=>q1(q))),d(t,["instances[0]","referenceImages"],V)}const K=u(i,["mask"]);t!==void 0&&K!=null&&d(t,["instances[0]","mask"],G1(K));const Y=u(i,["compressionQuality"]);return t!==void 0&&Y!=null&&d(t,["parameters","compressionQuality"],Y),s}function HE(i,t){const o={},s=u(i,["name"]);s!=null&&d(o,["name"],s);const r=u(i,["metadata"]);r!=null&&d(o,["metadata"],r);const c=u(i,["done"]);c!=null&&d(o,["done"],c);const p=u(i,["error"]);p!=null&&d(o,["error"],p);const g=u(i,["response","generateVideoResponse"]);return g!=null&&d(o,["response"],VE(g)),o}function qE(i,t){const o={},s=u(i,["name"]);s!=null&&d(o,["name"],s);const r=u(i,["metadata"]);r!=null&&d(o,["metadata"],r);const c=u(i,["done"]);c!=null&&d(o,["done"],c);const p=u(i,["error"]);p!=null&&d(o,["error"],p);const g=u(i,["response"]);return g!=null&&d(o,["response"],PE(g)),o}function zE(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["prompt"]);c!=null&&d(s,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&d(s,["instances[0]","image"],ga(p));const g=u(t,["video"]);g!=null&&d(s,["instances[0]","video"],ng(g));const y=u(t,["source"]);y!=null&&BE(y,s);const h=u(t,["config"]);return h!=null&&LE(h,s),s}function OE(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["prompt"]);c!=null&&d(s,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&d(s,["instances[0]","image"],yn(p));const g=u(t,["video"]);g!=null&&d(s,["instances[0]","video"],ig(g));const y=u(t,["source"]);y!=null&&FE(y,s);const h=u(t,["config"]);return h!=null&&GE(h,s),s}function VE(i,t){const o={},s=u(i,["generatedSamples"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>jE(g))),d(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&d(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&d(o,["raiMediaFilteredReasons"],c),o}function PE(i,t){const o={},s=u(i,["videos"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>KE(g))),d(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&d(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&d(o,["raiMediaFilteredReasons"],c),o}function BE(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&d(t,["instances[0]","image"],ga(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&d(t,["instances[0]","video"],ng(p)),s}function FE(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&d(t,["instances[0]","image"],yn(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&d(t,["instances[0]","video"],ig(p)),s}function JE(i,t){const o={},s=u(i,["_self"]);s!=null&&d(o,["image"],n1(s));const r=u(i,["raiFilteredReason"]);r!=null&&d(o,["raiFilteredReason"],r);const c=u(i,["_self"]);return c!=null&&d(o,["safetyAttributes"],W0(c)),o}function ha(i,t){const o={},s=u(i,["_self"]);s!=null&&d(o,["image"],Z0(s));const r=u(i,["raiFilteredReason"]);r!=null&&d(o,["raiFilteredReason"],r);const c=u(i,["_self"]);c!=null&&d(o,["safetyAttributes"],eg(c));const p=u(i,["prompt"]);return p!=null&&d(o,["enhancedPrompt"],p),o}function YE(i,t){const o={},s=u(i,["_self"]);s!=null&&d(o,["mask"],Z0(s));const r=u(i,["labels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(o,["labels"],c)}return o}function jE(i,t){const o={},s=u(i,["video"]);return s!=null&&d(o,["video"],k1(s)),o}function KE(i,t){const o={},s=u(i,["_self"]);return s!=null&&d(o,["video"],L1(s)),o}function XE(i,t){const o={},s=u(i,["modelSelectionConfig"]);s!=null&&d(o,["modelConfig"],s);const r=u(i,["responseJsonSchema"]);r!=null&&d(o,["responseJsonSchema"],r);const c=u(i,["audioTimestamp"]);c!=null&&d(o,["audioTimestamp"],c);const p=u(i,["candidateCount"]);p!=null&&d(o,["candidateCount"],p);const g=u(i,["enableAffectiveDialog"]);g!=null&&d(o,["enableAffectiveDialog"],g);const y=u(i,["frequencyPenalty"]);y!=null&&d(o,["frequencyPenalty"],y);const h=u(i,["logprobs"]);h!=null&&d(o,["logprobs"],h);const x=u(i,["maxOutputTokens"]);x!=null&&d(o,["maxOutputTokens"],x);const b=u(i,["mediaResolution"]);b!=null&&d(o,["mediaResolution"],b);const _=u(i,["presencePenalty"]);_!=null&&d(o,["presencePenalty"],_);const E=u(i,["responseLogprobs"]);E!=null&&d(o,["responseLogprobs"],E);const w=u(i,["responseMimeType"]);w!=null&&d(o,["responseMimeType"],w);const k=u(i,["responseModalities"]);k!=null&&d(o,["responseModalities"],k);const M=u(i,["responseSchema"]);M!=null&&d(o,["responseSchema"],M);const B=u(i,["routingConfig"]);B!=null&&d(o,["routingConfig"],B);const K=u(i,["seed"]);K!=null&&d(o,["seed"],K);const Y=u(i,["speechConfig"]);Y!=null&&d(o,["speechConfig"],Y);const V=u(i,["stopSequences"]);V!=null&&d(o,["stopSequences"],V);const q=u(i,["temperature"]);q!=null&&d(o,["temperature"],q);const ne=u(i,["thinkingConfig"]);ne!=null&&d(o,["thinkingConfig"],ne);const X=u(i,["topK"]);X!=null&&d(o,["topK"],X);const de=u(i,["topP"]);if(de!=null&&d(o,["topP"],de),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function $E(i,t,o){const s={},r=u(t,["model"]);return r!=null&&d(s,["_url","name"],Ve(i,r)),s}function QE(i,t,o){const s={},r=u(t,["model"]);return r!=null&&d(s,["_url","name"],Ve(i,r)),s}function ZE(i,t){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=u(i,["enableWidget"]);return s!=null&&d(o,["enableWidget"],s),o}function WE(i,t){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=u(i,["timeRangeFilter"]);return s!=null&&d(o,["timeRangeFilter"],s),o}function e1(i,t){const o={},s=u(i,["aspectRatio"]);s!=null&&d(o,["aspectRatio"],s);const r=u(i,["imageSize"]);if(r!=null&&d(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function t1(i,t){const o={},s=u(i,["aspectRatio"]);s!=null&&d(o,["aspectRatio"],s);const r=u(i,["imageSize"]);r!=null&&d(o,["imageSize"],r);const c=u(i,["personGeneration"]);c!=null&&d(o,["personGeneration"],c);const p=u(i,["outputMimeType"]);p!=null&&d(o,["imageOutputOptions","mimeType"],p);const g=u(i,["outputCompressionQuality"]);return g!=null&&d(o,["imageOutputOptions","compressionQuality"],g),o}function n1(i,t){const o={},s=u(i,["bytesBase64Encoded"]);s!=null&&d(o,["imageBytes"],yi(s));const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function Z0(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&d(o,["gcsUri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&d(o,["imageBytes"],yi(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}function ga(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=u(i,["imageBytes"]);s!=null&&d(o,["bytesBase64Encoded"],yi(s));const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function yn(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&d(o,["gcsUri"],s);const r=u(i,["imageBytes"]);r!=null&&d(o,["bytesBase64Encoded"],yi(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}function i1(i,t,o,s){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&d(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&d(o,["_query","pageToken"],p);const g=u(t,["filter"]);o!==void 0&&g!=null&&d(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&d(o,["_url","models_url"],J0(i,y)),r}function o1(i,t,o,s){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&d(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&d(o,["_query","pageToken"],p);const g=u(t,["filter"]);o!==void 0&&g!=null&&d(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&d(o,["_url","models_url"],J0(i,y)),r}function l1(i,t,o){const s={},r=u(t,["config"]);return r!=null&&i1(i,r,s),s}function s1(i,t,o){const s={},r=u(t,["config"]);return r!=null&&o1(i,r,s),s}function a1(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=Y0(c);Array.isArray(p)&&(p=p.map(g=>ic(g))),d(o,["models"],p)}return o}function r1(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=Y0(c);Array.isArray(p)&&(p=p.map(g=>oc(g))),d(o,["models"],p)}return o}function u1(i,t){const o={},s=u(i,["maskMode"]);s!=null&&d(o,["maskMode"],s);const r=u(i,["segmentationClasses"]);r!=null&&d(o,["maskClasses"],r);const c=u(i,["maskDilation"]);return c!=null&&d(o,["dilation"],c),o}function ic(i,t){const o={},s=u(i,["name"]);s!=null&&d(o,["name"],s);const r=u(i,["displayName"]);r!=null&&d(o,["displayName"],r);const c=u(i,["description"]);c!=null&&d(o,["description"],c);const p=u(i,["version"]);p!=null&&d(o,["version"],p);const g=u(i,["_self"]);g!=null&&d(o,["tunedModelInfo"],C1(g));const y=u(i,["inputTokenLimit"]);y!=null&&d(o,["inputTokenLimit"],y);const h=u(i,["outputTokenLimit"]);h!=null&&d(o,["outputTokenLimit"],h);const x=u(i,["supportedGenerationMethods"]);x!=null&&d(o,["supportedActions"],x);const b=u(i,["temperature"]);b!=null&&d(o,["temperature"],b);const _=u(i,["maxTemperature"]);_!=null&&d(o,["maxTemperature"],_);const E=u(i,["topP"]);E!=null&&d(o,["topP"],E);const w=u(i,["topK"]);w!=null&&d(o,["topK"],w);const k=u(i,["thinking"]);return k!=null&&d(o,["thinking"],k),o}function oc(i,t){const o={},s=u(i,["name"]);s!=null&&d(o,["name"],s);const r=u(i,["displayName"]);r!=null&&d(o,["displayName"],r);const c=u(i,["description"]);c!=null&&d(o,["description"],c);const p=u(i,["versionId"]);p!=null&&d(o,["version"],p);const g=u(i,["deployedModels"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(E=>_E(E))),d(o,["endpoints"],_)}const y=u(i,["labels"]);y!=null&&d(o,["labels"],y);const h=u(i,["_self"]);h!=null&&d(o,["tunedModelInfo"],A1(h));const x=u(i,["defaultCheckpointId"]);x!=null&&d(o,["defaultCheckpointId"],x);const b=u(i,["checkpoints"]);if(b!=null){let _=b;Array.isArray(_)&&(_=_.map(E=>E)),d(o,["checkpoints"],_)}return o}function c1(i,t){const o={},s=u(i,["mediaResolution"]);s!=null&&d(o,["mediaResolution"],s);const r=u(i,["codeExecutionResult"]);r!=null&&d(o,["codeExecutionResult"],r);const c=u(i,["executableCode"]);c!=null&&d(o,["executableCode"],c);const p=u(i,["fileData"]);p!=null&&d(o,["fileData"],TE(p));const g=u(i,["functionCall"]);g!=null&&d(o,["functionCall"],EE(g));const y=u(i,["functionResponse"]);y!=null&&d(o,["functionResponse"],y);const h=u(i,["inlineData"]);h!=null&&d(o,["inlineData"],XT(h));const x=u(i,["text"]);x!=null&&d(o,["text"],x);const b=u(i,["thought"]);b!=null&&d(o,["thought"],b);const _=u(i,["thoughtSignature"]);_!=null&&d(o,["thoughtSignature"],_);const E=u(i,["videoMetadata"]);return E!=null&&d(o,["videoMetadata"],E),o}function d1(i,t){const o={},s=u(i,["productImage"]);return s!=null&&d(o,["image"],yn(s)),o}function f1(i,t,o){const s={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const c=u(i,["baseSteps"]);t!==void 0&&c!=null&&d(t,["parameters","baseSteps"],c);const p=u(i,["outputGcsUri"]);t!==void 0&&p!=null&&d(t,["parameters","storageUri"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&d(t,["parameters","safetySetting"],y);const h=u(i,["personGeneration"]);t!==void 0&&h!=null&&d(t,["parameters","personGeneration"],h);const x=u(i,["addWatermark"]);t!==void 0&&x!=null&&d(t,["parameters","addWatermark"],x);const b=u(i,["outputMimeType"]);t!==void 0&&b!=null&&d(t,["parameters","outputOptions","mimeType"],b);const _=u(i,["outputCompressionQuality"]);t!==void 0&&_!=null&&d(t,["parameters","outputOptions","compressionQuality"],_);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&d(t,["parameters","enhancePrompt"],E);const w=u(i,["labels"]);return t!==void 0&&w!=null&&d(t,["labels"],w),s}function p1(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["source"]);c!=null&&h1(c,s);const p=u(t,["config"]);return p!=null&&f1(p,s),s}function m1(i,t){const o={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>ha(c))),d(o,["generatedImages"],r)}return o}function h1(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["personImage"]);t!==void 0&&c!=null&&d(t,["instances[0]","personImage","image"],yn(c));const p=u(i,["productImages"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>d1(y))),d(t,["instances[0]","productImages"],g)}return s}function g1(i,t){const o={},s=u(i,["referenceImage"]);s!=null&&d(o,["referenceImage"],yn(s));const r=u(i,["referenceId"]);r!=null&&d(o,["referenceId"],r);const c=u(i,["referenceType"]);c!=null&&d(o,["referenceType"],c);const p=u(i,["maskImageConfig"]);p!=null&&d(o,["maskImageConfig"],u1(p));const g=u(i,["controlImageConfig"]);g!=null&&d(o,["controlImageConfig"],nE(g));const y=u(i,["styleImageConfig"]);y!=null&&d(o,["styleImageConfig"],y);const h=u(i,["subjectImageConfig"]);return h!=null&&d(o,["subjectImageConfig"],h),o}function W0(i,t){const o={},s=u(i,["safetyAttributes","categories"]);s!=null&&d(o,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&d(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&d(o,["contentType"],c),o}function eg(i,t){const o={},s=u(i,["safetyAttributes","categories"]);s!=null&&d(o,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&d(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&d(o,["contentType"],c),o}function y1(i,t){const o={},s=u(i,["category"]);if(s!=null&&d(o,["category"],s),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&d(o,["threshold"],r),o}function v1(i,t){const o={},s=u(i,["image"]);return s!=null&&d(o,["image"],yn(s)),o}function x1(i,t,o){const s={},r=u(i,["mode"]);t!==void 0&&r!=null&&d(t,["parameters","mode"],r);const c=u(i,["maxPredictions"]);t!==void 0&&c!=null&&d(t,["parameters","maxPredictions"],c);const p=u(i,["confidenceThreshold"]);t!==void 0&&p!=null&&d(t,["parameters","confidenceThreshold"],p);const g=u(i,["maskDilation"]);t!==void 0&&g!=null&&d(t,["parameters","maskDilation"],g);const y=u(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&d(t,["parameters","binaryColorThreshold"],y);const h=u(i,["labels"]);return t!==void 0&&h!=null&&d(t,["labels"],h),s}function S1(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["source"]);c!=null&&_1(c,s);const p=u(t,["config"]);return p!=null&&x1(p,s),s}function b1(i,t){const o={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>YE(c))),d(o,["generatedMasks"],r)}return o}function _1(i,t,o){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&d(t,["instances[0]","image"],yn(c));const p=u(i,["scribbleImage"]);return t!==void 0&&p!=null&&d(t,["instances[0]","scribble"],v1(p)),s}function T1(i,t){const o={},s=u(i,["retrievalConfig"]);s!=null&&d(o,["retrievalConfig"],s);const r=u(i,["functionCallingConfig"]);return r!=null&&d(o,["functionCallingConfig"],CE(r)),o}function E1(i,t){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["computerUse"]);s!=null&&d(o,["computerUse"],s);const r=u(i,["fileSearch"]);r!=null&&d(o,["fileSearch"],r);const c=u(i,["codeExecution"]);if(c!=null&&d(o,["codeExecution"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["functionDeclarations"]);if(p!=null){let b=p;Array.isArray(b)&&(b=b.map(_=>_)),d(o,["functionDeclarations"],b)}const g=u(i,["googleMaps"]);g!=null&&d(o,["googleMaps"],ZE(g));const y=u(i,["googleSearch"]);y!=null&&d(o,["googleSearch"],WE(y));const h=u(i,["googleSearchRetrieval"]);h!=null&&d(o,["googleSearchRetrieval"],h);const x=u(i,["urlContext"]);return x!=null&&d(o,["urlContext"],x),o}function tg(i,t){const o={},s=u(i,["retrieval"]);s!=null&&d(o,["retrieval"],s);const r=u(i,["computerUse"]);if(r!=null&&d(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(i,["codeExecution"]);c!=null&&d(o,["codeExecution"],c);const p=u(i,["enterpriseWebSearch"]);p!=null&&d(o,["enterpriseWebSearch"],p);const g=u(i,["functionDeclarations"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(E=>AE(E))),d(o,["functionDeclarations"],_)}const y=u(i,["googleMaps"]);y!=null&&d(o,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&d(o,["googleSearch"],h);const x=u(i,["googleSearchRetrieval"]);x!=null&&d(o,["googleSearchRetrieval"],x);const b=u(i,["urlContext"]);return b!=null&&d(o,["urlContext"],b),o}function C1(i,t){const o={},s=u(i,["baseModel"]);s!=null&&d(o,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&d(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&d(o,["updateTime"],c),o}function A1(i,t){const o={},s=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&d(o,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&d(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&d(o,["updateTime"],c),o}function N1(i,t,o){const s={},r=u(i,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&d(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&d(t,["defaultCheckpointId"],p),s}function w1(i,t,o){const s={},r=u(i,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&d(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&d(t,["defaultCheckpointId"],p),s}function R1(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","name"],Ve(i,r));const c=u(t,["config"]);return c!=null&&N1(c,s),s}function M1(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["config"]);return c!=null&&w1(c,s),s}function I1(i,t,o){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const c=u(i,["safetyFilterLevel"]);t!==void 0&&c!=null&&d(t,["parameters","safetySetting"],c);const p=u(i,["personGeneration"]);t!==void 0&&p!=null&&d(t,["parameters","personGeneration"],p);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&d(t,["parameters","includeRaiReason"],g);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&d(t,["parameters","outputOptions","mimeType"],y);const h=u(i,["outputCompressionQuality"]);t!==void 0&&h!=null&&d(t,["parameters","outputOptions","compressionQuality"],h);const x=u(i,["enhanceInputImage"]);t!==void 0&&x!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],x);const b=u(i,["imagePreservationFactor"]);t!==void 0&&b!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],b);const _=u(i,["labels"]);t!==void 0&&_!=null&&d(t,["labels"],_);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&d(t,["parameters","sampleCount"],E);const w=u(i,["mode"]);return t!==void 0&&w!=null&&d(t,["parameters","mode"],w),s}function D1(i,t,o){const s={},r=u(t,["model"]);r!=null&&d(s,["_url","model"],Ve(i,r));const c=u(t,["image"]);c!=null&&d(s,["instances[0]","image"],yn(c));const p=u(t,["upscaleFactor"]);p!=null&&d(s,["parameters","upscaleConfig","upscaleFactor"],p);const g=u(t,["config"]);return g!=null&&I1(g,s),s}function U1(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>ha(p))),d(o,["generatedImages"],c)}return o}function k1(i,t){const o={},s=u(i,["uri"]);s!=null&&d(o,["uri"],s);const r=u(i,["encodedVideo"]);r!=null&&d(o,["videoBytes"],yi(r));const c=u(i,["encoding"]);return c!=null&&d(o,["mimeType"],c),o}function L1(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&d(o,["uri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&d(o,["videoBytes"],yi(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}function G1(i,t){const o={},s=u(i,["image"]);s!=null&&d(o,["_self"],yn(s));const r=u(i,["maskMode"]);return r!=null&&d(o,["maskMode"],r),o}function H1(i,t){const o={},s=u(i,["image"]);s!=null&&d(o,["image"],ga(s));const r=u(i,["referenceType"]);return r!=null&&d(o,["referenceType"],r),o}function q1(i,t){const o={},s=u(i,["image"]);s!=null&&d(o,["image"],yn(s));const r=u(i,["referenceType"]);return r!=null&&d(o,["referenceType"],r),o}function ng(i,t){const o={},s=u(i,["uri"]);s!=null&&d(o,["uri"],s);const r=u(i,["videoBytes"]);r!=null&&d(o,["encodedVideo"],yi(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["encoding"],c),o}function ig(i,t){const o={},s=u(i,["uri"]);s!=null&&d(o,["gcsUri"],s);const r=u(i,["videoBytes"]);r!=null&&d(o,["bytesBase64Encoded"],yi(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z1(i,t){const o={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&d(t,["displayName"],s),o}function O1(i){const t={},o=u(i,["config"]);return o!=null&&z1(o,t),t}function V1(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&d(t,["_query","force"],s),o}function P1(i){const t={},o=u(i,["name"]);o!=null&&d(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&V1(s,t),t}function B1(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","name"],o),t}function F1(i,t){const o={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&d(t,["chunkingConfig"],r),o}function J1(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const s=u(i,["metadata"]);s!=null&&d(t,["metadata"],s);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["response"]);return p!=null&&d(t,["response"],j1(p)),t}function Y1(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&d(t,["_url","file_search_store_name"],o);const s=u(i,["fileName"]);s!=null&&d(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&F1(r,t),t}function j1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&d(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function K1(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function X1(i){const t={},o=u(i,["config"]);return o!=null&&K1(o,t),t}function $1(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["fileSearchStores"],c)}return t}function og(i,t){const o={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&d(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),d(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&d(t,["chunkingConfig"],p),o}function Q1(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&d(t,["_url","file_search_store_name"],o);const s=u(i,["config"]);return s!=null&&og(s,t),t}function Z1(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W1="Content-Type",eC="X-Server-Timeout",tC="User-Agent",lc="x-goog-api-client",nC="1.40.0",iC=`google-genai-sdk/${nC}`,oC="v1beta1",lC="v1beta";class sC{constructor(t){var o,s,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:oC}else{if(!this.clientOptions.apiKey)throw new Hl({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:lC,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===Wu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,s);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,o){const s=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(o))typeof c=="object"?s[r]=Object.assign(Object.assign({},s[r]),c):c!==void 0&&(s[r]=c);return s}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,s,r){if(o&&o.timeout||r){const c=new AbortController,p=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=p}return o&&o.extraBody!==null&&aC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,s),t}async unaryApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await u0(r),new ec(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await u0(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return hn(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:x}=yield _e(r.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const b=c.decode(x,{stream:!0});try{const w=JSON.parse(b);if("error"in w){const k=JSON.parse(JSON.stringify(w.error)),M=k.status,B=k.code,K=`got status: ${M}. ${JSON.stringify(w)}`;if(B>=400&&B<600)throw new Hl({message:K,status:B})}}catch(w){if(w.name==="ApiError")throw w}p+=b;let _=-1,E=0;for(;;){_=-1,E=0;for(const M of y){const B=p.indexOf(M);B!==-1&&(_===-1||B<_)&&(_=B,E=M.length)}if(_===-1)break;const w=p.substring(0,_);p=p.substring(_+E);const k=w.trim();if(k.startsWith(g)){const M=k.substring(g.length).trim();try{const B=new Response(M,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield _e(new ec(B))}catch(B){throw new Error(`exception parsing stream chunk ${M}. ${B}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const t={},o=iC+" "+this.clientOptions.userAgentExtra;return t[tC]=o,t[lc]=o,t[W1]="application/json",t}async getHeadersInternal(t,o){const s=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))s.append(r,c);t.timeout&&t.timeout>0&&s.append(eC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(t){var o;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(t,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,p=await c.stat(t);r.sizeBytes=String(p.size);const g=(s=o==null?void 0:o.mimeType)!==null&&s!==void 0?s:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),x=ie("upload/v1beta/files",y._url),b=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,h,y,o==null?void 0:o.httpOptions);return c.upload(t,b,this)}async uploadFileToFileSearchStore(t,o,s){var r;const c=this.clientOptions.uploader,p=await c.stat(o),g=String(p.size),y=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(o),b={};s!=null&&og(s,b);const _=await this.fetchUploadUrl(h,g,y,x,b,s==null?void 0:s.httpOptions);return c.uploadToFileSearchStore(o,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,s,r,c,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function u0(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new Hl({message:r,status:o}):new Error(r)}}function aC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(c,p){const g=Object.assign({},c);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const h=p[y],x=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&x&&typeof x=="object"&&!Array.isArray(x)?g[y]=s(x,h):(x&&h&&typeof x!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=s(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rC="mcp_used/unknown";let uC=!1;function lg(i){for(const t of i)if(cC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return uC}function sg(i){var t;const o=(t=i[lc])!==null&&t!==void 0?t:"";i[lc]=(o+` ${rC}`).trimStart()}function cC(i){return i!==null&&typeof i=="object"&&i instanceof Cc}function dC(i){return hn(this,arguments,function*(o,s=100){let r,c=0;for(;c<s;){const p=yield _e(o.listTools({cursor:r}));for(const g of p.tools)yield yield _e(g),c++;if(!p.nextCursor)break;r=p.nextCursor}})}class Cc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Cc(t,o)}async initialize(){var t,o,s,r;if(this.mcpTools.length>0)return;const c={},p=[];for(const x of this.mcpClients)try{for(var g=!0,y=(o=void 0,gn(dC(x))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const b=r;p.push(b);const _=b.name;if(c[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);c[_]=x}}catch(b){o={error:b}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),Ob(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const p=await r.callTool({name:s.name,arguments:s.args},void 0,c);o.push({functionResponse:{name:s.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function fC(i,t,o){const s=new Db;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),t(s)}class pC{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s}async connect(t){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),p=gC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const x=new Promise(Y=>{h=Y}),b=t.callbacks,_=function(){h({})},E=this.apiClient,w={onopen:_,onmessage:Y=>{fC(E,b.onmessage,Y)},onerror:(o=b==null?void 0:b.onerror)!==null&&o!==void 0?o:function(Y){},onclose:(s=b==null?void 0:b.onclose)!==null&&s!==void 0?s:function(Y){}},k=this.webSocketFactory.create(y,hC(p),w);k.connect(),await x;const K={setup:{model:Ve(this.apiClient,t.model)}};return k.send(JSON.stringify(K)),new mC(k,this.apiClient)}}class mC{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=zT(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=qT(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Co.PLAY)}pause(){this.sendPlaybackControl(Co.PAUSE)}stop(){this.sendPlaybackControl(Co.STOP)}resetContext(){this.sendPlaybackControl(Co.RESET_CONTEXT)}close(){this.conn.close()}}function hC(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function gC(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vC(i,t,o){const s=new Ib;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const c=JSON.parse(r);if(i.isVertexAI()){const p=PT(c);Object.assign(s,p)}else Object.assign(s,c);t(s)}class xC{constructor(t,o,s){this.apiClient=t,this.auth=o,this.webSocketFactory=s,this.music=new pC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,s,r,c,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const b=this.apiClient.getHeaders();t.config&&t.config.tools&&lg(t.config.tools)&&sg(b);const _=TC(b);if(this.apiClient.isVertexAI()){const Z=this.apiClient.getProject(),re=this.apiClient.getLocation(),xe=this.apiClient.getApiKey(),Ne=!!Z&&!!re||!!xe;this.apiClient.getCustomBaseUrl()&&!Ne?x=y:(x=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,x))}else{const Z=this.apiClient.getApiKey();let re="BidiGenerateContent",xe="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",xe="access_token"),x=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${re}?${xe}=${Z}`}let E=()=>{};const w=new Promise(Z=>{E=Z}),k=t.callbacks,M=function(){var Z;(Z=k==null?void 0:k.onopen)===null||Z===void 0||Z.call(k),E({})},B=this.apiClient,K={onopen:M,onmessage:Z=>{vC(B,k.onmessage,Z)},onerror:(o=k==null?void 0:k.onerror)!==null&&o!==void 0?o:function(Z){},onclose:(s=k==null?void 0:k.onclose)!==null&&s!==void 0?s:function(Z){}},Y=this.webSocketFactory.create(x,_C(_),K);Y.connect(),await w;let V=Ve(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&V.startsWith("publishers/")){const Z=this.apiClient.getProject(),re=this.apiClient.getLocation();Z&&re&&(V=`projects/${Z}/locations/${re}/`+V)}let q={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ra.AUDIO]}:t.config.responseModalities=[ra.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],X=[];for(const Z of ne)if(this.isCallableTool(Z)){const re=Z;X.push(await re.tool())}else X.push(Z);X.length>0&&(t.config.tools=X);const de={model:V,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?q=HT(this.apiClient,de):q=GT(this.apiClient,de),delete q.config,Y.send(JSON.stringify(q)),new bC(Y,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const SC={turnComplete:!0};class bC{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=rn(o.turns),t.isVertexAI()||(s=s.map(r=>ma(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const c of s){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(yC)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},SC),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:VT(t)}:o={realtimeInput:OT(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function _C(i){const t={};return i.forEach((o,s)=>{t[s]=o}),t}function TC(i){const t=new Headers;for(const[o,s]of Object.entries(i))t.append(o,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c0=10;function d0(i){var t,o,s;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(Ro(p)){r=!0;break}if(!r)return!0;const c=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Ro(i){return"callTool"in i&&typeof i.callTool=="function"}function EC(i){var t,o,s;return(s=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>Ro(r)))!==null&&s!==void 0?s:!1}function f0(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(Ro(s))return;const c=s;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(r)}),o}function p0(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CC extends Bn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var s,r,c,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!EC(o)||d0(o.config))return await this.generateContentInternal(y);const h=f0(o);if(h.length>0){const k=h.map(M=>`tools[${M}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let x,b;const _=rn(y.contents),E=(c=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:c0;let w=0;for(;w<E&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const k=x.candidates[0].content,M=[];for(const B of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(Ro(B)){const Y=await B.callTool(x.functionCalls);M.push(...Y)}w++,b={role:"user",parts:M},y.contents=rn(y.contents),y.contents.push(k),y.contents.push(b),p0(y.config)&&(_.push(k),_.push(b))}return p0(y.config)&&(x.automaticFunctionCallingHistory=_),x},this.generateContentStream=async o=>{var s,r,c,p,g;if(this.maybeMoveToResponseJsonSchem(o),d0(o.config)){const b=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(b)}const y=f0(o);if(y.length>0){const b=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(r=(s=o==null?void 0:o.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,x=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let c;const p=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:p.push(y);let g;return c?g={generatedImages:p,positivePromptSafetyAttributes:c,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((s=p.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new qi(Pn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,c,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(c=o.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,s,r;const c=(o=t.config)===null||o===void 0?void 0:o.tools;if(!c)return t;const p=await Promise.all(c.map(async y=>Ro(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&lg(t.config.tools)){const y=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),sg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var o,s,r;const c=new Map;for(const p of(s=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Ro(p)){const g=p,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,g)}}return c}async processAfcStream(t){var o,s,r;const c=(r=(s=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:c0;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,x,b){return hn(this,arguments,function*(){for(var _,E,w,k,M,B;g<c;){p&&(g++,p=!1);const q=yield _e(h.processParamsMaybeAddMcpUsage(b)),ne=yield _e(h.generateContentStreamInternal(q)),X=[],de=[];try{for(var K=!0,Y=(E=void 0,gn(ne)),V;V=yield _e(Y.next()),_=V.done,!_;K=!0){k=V.value,K=!1;const Z=k;if(yield yield _e(Z),Z.candidates&&(!((M=Z.candidates[0])===null||M===void 0)&&M.content)){de.push(Z.candidates[0].content);for(const re of(B=Z.candidates[0].content.parts)!==null&&B!==void 0?B:[])if(g<c&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(re.functionCall.name)){const xe=yield _e(x.get(re.functionCall.name).callTool([re.functionCall]));X.push(...xe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(Z){E={error:Z}}finally{try{!K&&!_&&(w=Y.return)&&(yield _e(w.call(Y)))}finally{if(E)throw E.error}}if(X.length>0){p=!0;const Z=new Il;Z.candidates=[{content:{role:"user",parts:X}}],yield yield _e(Z);const re=[];re.push(...de),re.push({role:"user",parts:X});const xe=rn(b.contents).concat(re);b.contents=xe}else break}})})(this,y,t)}async generateContentInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=s0(this.apiClient,t);return g=ie("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=r0(x),_=new Il;return Object.assign(_,b),_})}else{const h=l0(this.apiClient,t);return g=ie("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=a0(x),_=new Il;return Object.assign(_,b),_})}}async generateContentStreamInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=s0(this.apiClient,t);return g=ie("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),p.then(function(b){return hn(this,arguments,function*(){var _,E,w,k;try{for(var M=!0,B=gn(b),K;K=yield _e(B.next()),_=K.done,!_;M=!0){k=K.value,M=!1;const Y=k,V=r0(yield _e(Y.json()),t);V.sdkHttpResponse={headers:Y.headers};const q=new Il;Object.assign(q,V),yield yield _e(q)}}catch(Y){E={error:Y}}finally{try{!M&&!_&&(w=B.return)&&(yield _e(w.call(B)))}finally{if(E)throw E.error}}})})}else{const h=l0(this.apiClient,t);return g=ie("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),p.then(function(b){return hn(this,arguments,function*(){var _,E,w,k;try{for(var M=!0,B=gn(b),K;K=yield _e(B.next()),_=K.done,!_;M=!0){k=K.value,M=!1;const Y=k,V=a0(yield _e(Y.json()),t);V.sdkHttpResponse={headers:Y.headers};const q=new Il;Object.assign(q,V),yield yield _e(q)}}catch(Y){E={error:Y}}finally{try{!M&&!_&&(w=B.return)&&(yield _e(w.call(B)))}finally{if(E)throw E.error}}})})}}async embedContent(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=xE(this.apiClient,t);return g=ie("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=bE(x),_=new Ph;return Object.assign(_,b),_})}else{const h=vE(this.apiClient,t);return g=ie("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=SE(x),_=new Ph;return Object.assign(_,b),_})}}async generateImagesInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=DE(this.apiClient,t);return g=ie("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=kE(x),_=new Bh;return Object.assign(_,b),_})}else{const h=IE(this.apiClient,t);return g=ie("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=UE(x),_=new Bh;return Object.assign(_,b),_})}}async editImageInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=mE(this.apiClient,t);return c=ie("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=hE(y),x=new xb;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=D1(this.apiClient,t);return c=ie("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=U1(y),x=new Sb;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=p1(this.apiClient,t);return c=ie("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=m1(y),x=new bb;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=S1(this.apiClient,t);return c=ie("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=b1(y),x=new _b;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=QE(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>oc(x))}else{const h=$E(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>ic(x))}}async listInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=s1(this.apiClient,t);return g=ie("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=r1(x),_=new Fh;return Object.assign(_,b),_})}else{const h=l1(this.apiClient,t);return g=ie("{models_url}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=a1(x),_=new Fh;return Object.assign(_,b),_})}}async update(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=M1(this.apiClient,t);return g=ie("{model}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>oc(x))}else{const h=R1(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>ic(x))}}async delete(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=cE(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=fE(x),_=new Jh;return Object.assign(_,b),_})}else{const h=uE(this.apiClient,t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=dE(x),_=new Jh;return Object.assign(_,b),_})}}async countTokens(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=sE(this.apiClient,t);return g=ie("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=rE(x),_=new Yh;return Object.assign(_,b),_})}else{const h=lE(this.apiClient,t);return g=ie("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=aE(x),_=new Yh;return Object.assign(_,b),_})}}async computeTokens(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=ZT(this.apiClient,t);return c=ie("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=WT(y),x=new Tb;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=OE(this.apiClient,t);return g=ie("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p.then(x=>{const b=qE(x),_=new ua;return Object.assign(_,b),_})}else{const h=zE(this.apiClient,t);return g=ie("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>{const b=HE(x),_=new ua;return Object.assign(_,b),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AC extends Bn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,s=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=pb(t);return g=ie("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),p}else{const h=fb(t);return g=ie("{operationName}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p}}async fetchPredictVideosOperationInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=lb(t);return c=ie("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NC(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function wC(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>HC(c))),d(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&d(t,["role"],s),t}function RC(i,t,o){const s={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&d(o,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);o!==void 0&&c!=null&&d(o,["newSessionExpireTime"],c);const p=u(t,["uses"]);o!==void 0&&p!=null&&d(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&d(o,["bidiGenerateContentSetup"],GC(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&d(o,["fieldMask"],y),s}function MC(i,t){const o={},s=u(t,["config"]);return s!=null&&d(o,["config"],RC(i,s,o)),o}function IC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&d(t,["mimeType"],s),t}function DC(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const s=u(i,["args"]);s!=null&&d(t,["args"],s);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function UC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function kC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function LC(i,t){const o={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&d(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","seed"],x);const b=u(i,["speechConfig"]);t!==void 0&&b!=null&&d(t,["setup","generationConfig","speechConfig"],Ec(b));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","thinkingConfig"],_);const E=u(i,["enableAffectiveDialog"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],E);const w=u(i,["systemInstruction"]);t!==void 0&&w!=null&&d(t,["setup","systemInstruction"],wC(Nt(w)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let ne=Do(k);Array.isArray(ne)&&(ne=ne.map(X=>zC(Io(X)))),d(t,["setup","tools"],ne)}const M=u(i,["sessionResumption"]);t!==void 0&&M!=null&&d(t,["setup","sessionResumption"],qC(M));const B=u(i,["inputAudioTranscription"]);t!==void 0&&B!=null&&d(t,["setup","inputAudioTranscription"],B);const K=u(i,["outputAudioTranscription"]);t!==void 0&&K!=null&&d(t,["setup","outputAudioTranscription"],K);const Y=u(i,["realtimeInputConfig"]);t!==void 0&&Y!=null&&d(t,["setup","realtimeInputConfig"],Y);const V=u(i,["contextWindowCompression"]);t!==void 0&&V!=null&&d(t,["setup","contextWindowCompression"],V);const q=u(i,["proactivity"]);if(t!==void 0&&q!=null&&d(t,["setup","proactivity"],q),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function GC(i,t){const o={},s=u(t,["model"]);s!=null&&d(o,["setup","model"],Ve(i,s));const r=u(t,["config"]);return r!=null&&d(o,["config"],LC(r,o)),o}function HC(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&d(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],IC(c));const p=u(i,["functionCall"]);p!=null&&d(t,["functionCall"],DC(p));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],NC(y));const h=u(i,["text"]);h!=null&&d(t,["text"],h);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const b=u(i,["thoughtSignature"]);b!=null&&d(t,["thoughtSignature"],b);const _=u(i,["videoMetadata"]);return _!=null&&d(t,["videoMetadata"],_),t}function qC(i){const t={},o=u(i,["handle"]);if(o!=null&&d(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function zC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&d(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(b=>b)),d(t,["functionDeclarations"],x)}const p=u(i,["googleMaps"]);p!=null&&d(t,["googleMaps"],UC(p));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],kC(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&d(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(c=>`${o}.${c}`);t.push(...r)}else t.push(o)}return t.join(",")}function VC(i,t){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const c=s.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,o=c):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const c=OC(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>p.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class PC extends Bn{constructor(t){super(),this.apiClient=t}async create(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=MC(this.apiClient,t);c=ie("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=VC(g,t.config);return r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BC(i,t){const o={},s=u(i,["force"]);return t!==void 0&&s!=null&&d(t,["_query","force"],s),o}function FC(i){const t={},o=u(i,["name"]);o!=null&&d(t,["_url","name"],o);const s=u(i,["config"]);return s!=null&&BC(s,t),t}function JC(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","name"],o),t}function YC(i,t){const o={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&d(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function jC(i){const t={},o=u(i,["parent"]);o!=null&&d(t,["_url","parent"],o);const s=u(i,["config"]);return s!=null&&YC(s,t),t}function KC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&d(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XC extends Bn{constructor(t){super(),this.apiClient=t,this.list=async o=>new qi(Pn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JC(t);return c=ie("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=FC(t);r=ie("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jC(t);return c=ie("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=KC(y),x=new Eb;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C extends Bn{constructor(t,o=new XC(t)){super(),this.apiClient=t,this.documents=o,this.list=async(s={})=>new qi(Pn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=O1(t);return c=ie("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=B1(t);return c=ie("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,s;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=P1(t);r=ie("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=X1(t);return c=ie("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=$1(y),x=new Cb;return Object.assign(x,h),x})}}async uploadToFileSearchStoreInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Q1(t);return c=ie("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Z1(y),x=new Ab;return Object.assign(x,h),x})}}async importFile(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Y1(t);return c=ie("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=J1(y),x=new xc;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ag=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return ag=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const QC=()=>ag();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const ac=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class un extends Error{}class Ut extends un{constructor(t,o,s,r){super(`${Ut.makeMessage(t,o,s)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,s){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,s,r){if(!t||!r)return new ya({message:s,cause:ac(o)});const c=o;return t===400?new ug(t,c,s,r):t===401?new cg(t,c,s,r):t===403?new dg(t,c,s,r):t===404?new fg(t,c,s,r):t===409?new pg(t,c,s,r):t===422?new mg(t,c,s,r):t===429?new hg(t,c,s,r):t>=500?new gg(t,c,s,r):new Ut(t,c,s,r)}}class rc extends Ut{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class ya extends Ut{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class rg extends ya{constructor({message:t}={}){super({message:t??"Request timed out."})}}class ug extends Ut{}class cg extends Ut{}class dg extends Ut{}class fg extends Ut{}class pg extends Ut{}class mg extends Ut{}class hg extends Ut{}class gg extends Ut{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZC=/^[a-z][a-z0-9+.-]*:/i,WC=i=>ZC.test(i);let uc=i=>(uc=Array.isArray,uc(i));const eA=uc;let tA=eA;const m0=tA;function nA(i){if(!i)return!0;for(const t in i)return!1;return!0}function iA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const oA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new un(`${i} must be an integer`);if(t<0)throw new un(`${i} must be a positive integer`);return t},lA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Eo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const rA=()=>{var i,t,o,s,r;const c=aA();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":g0(Deno.build.os),"X-Stainless-Arch":h0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":g0((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":h0((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=uA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Eo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function uA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const s=o.exec(navigator.userAgent);if(s){const r=s[1]||0,c=s[2]||0,p=s[3]||0;return{browser:t,version:`${r}.${c}.${p}`}}}return null}const h0=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",g0=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let ea;const cA=()=>ea??(ea=rA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function fA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return yg({start(){},async pull(o){const{done:s,value:r}=await t.next();s?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function vg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function pA(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Fu(i,t,o){return xg(),new File(i,t??"unknown_file",o)}function hA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const gA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Sg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",yA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Sg(i),vA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function xA(i,t,o){if(xg(),i=await i,yA(i))return i instanceof File?i:Fu([await i.arrayBuffer()],i.name);if(vA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Fu(await cc(r),t,o)}const s=await cc(i);if(t||(t=hA(i)),!(o!=null&&o.type)){const r=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Fu(s,t,o)}async function cc(i){var t,o,s,r,c;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Sg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(gA(i))try{for(var g=!0,y=gn(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const x=r;p.push(...await cc(x))}}catch(x){o={error:x}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}else{const x=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${SA(i)}`)}return p}function SA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bg{constructor(t){this._client=t}}bg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _g(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const y0=Object.freeze(Object.create(null)),bA=(i=_g)=>(function(o,...s){if(o.length===1)return o[0];let r=!1;const c=[],p=o.reduce((x,b,_)=>{var E,w,k;/[?#]/.test(b)&&(r=!0);const M=s[_];let B=(r?encodeURIComponent:i)(""+M);return _!==s.length&&(M==null||typeof M=="object"&&M.toString===((k=Object.getPrototypeOf((w=Object.getPrototypeOf((E=M.hasOwnProperty)!==null&&E!==void 0?E:y0))!==null&&w!==void 0?w:y0))===null||k===void 0?void 0:k.toString))&&(B=M+"",c.push({start:x.length+b.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(M).slice(8,-1)} is not a valid path parameter`})),x+b+(_===s.length?"":B)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)c.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(c.sort((x,b)=>x.start-b.start),c.length>0){let x=0;const b=c.reduce((_,E)=>{const w=" ".repeat(E.start-x),k="^".repeat(E.length);return x=E.start+E.length,_+w+k},"");throw new un(`Path parameters result in path with invalid segments:
${c.map(_=>_.error).join(`
`)}
${p}
${b}`)}return p}),ta=bA(_g);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tg extends bg{create(t,o){var s;const{api_version:r=this._client.apiVersion}=t,c=da(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new un("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new un("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ta`/${r}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(ta`/${r}/interactions/${t}`,s)}cancel(t,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(ta`/${r}/interactions/${t}/cancel`,s)}get(t,o={},s){var r;const c=o??{},{api_version:p=this._client.apiVersion}=c,g=da(c,["api_version"]);return this._client.get(ta`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},s),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Tg._key=Object.freeze(["interactions"]);class Eg extends Tg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _A(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let s=0;for(const r of i)o.set(r,s),s+=r.length;return o}let na;function Ac(i){let t;return(na??(t=new globalThis.TextEncoder,na=t.encode.bind(t)))(i)}let ia;function v0(i){let t;return(ia??(t=new globalThis.TextDecoder,ia=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class va{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Ac(t):t;this.buffer=_A([this.buffer,o]);const s=[];let r;for(;(r=TA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(v0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=v0(this.buffer.subarray(0,c));s.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}va.NEWLINE_CHARS=new Set([`
`,"\r"]);va.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function TA(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function EA(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fa={off:0,error:200,warn:300,info:400,debug:500},x0=(i,t,o)=>{if(i){if(iA(fa,i))return i;Dt(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(fa))}`)}};function Ul(){}function oa(i,t,o){return!t||fa[i]>fa[o]?Ul:t[i].bind(t)}const CA={error:Ul,warn:Ul,info:Ul,debug:Ul};let S0=new WeakMap;function Dt(i){var t;const o=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return CA;const r=S0.get(o);if(r&&r[0]===s)return r[1];const c={error:oa("error",o,s),warn:oa("warn",o,s),info:oa("info",o,s),debug:oa("debug",o,s)};return S0.set(o,[s,c]),c}const Hi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ao{constructor(t,o,s){this.iterator=t,this.controller=o,this.client=s}static fromSSEResponse(t,o,s){let r=!1;const c=s?Dt(s):console;function p(){return hn(this,arguments,function*(){var y,h,x,b;if(r)throw new un("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var E=!0,w=gn(AA(t,o)),k;k=yield _e(w.next()),y=k.done,!y;E=!0){b=k.value,E=!1;const M=b;if(!_)if(M.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield _e(JSON.parse(M.data))}catch(B){throw c.error("Could not parse message into JSON:",M.data),c.error("From chunk:",M.raw),B}}}catch(M){h={error:M}}finally{try{!E&&!y&&(x=w.return)&&(yield _e(x.call(w)))}finally{if(h)throw h.error}}_=!0}catch(M){if(sc(M))return yield _e(void 0);throw M}finally{_||o.abort()}})}return new Ao(p,o,s)}static fromReadableStream(t,o,s){let r=!1;function c(){return hn(this,arguments,function*(){var y,h,x,b;const _=new va,E=vg(t);try{for(var w=!0,k=gn(E),M;M=yield _e(k.next()),y=M.done,!y;w=!0){b=M.value,w=!1;const B=b;for(const K of _.decode(B))yield yield _e(K)}}catch(B){h={error:B}}finally{try{!w&&!y&&(x=k.return)&&(yield _e(x.call(k)))}finally{if(h)throw h.error}}for(const B of _.flush())yield yield _e(B)})}function p(){return hn(this,arguments,function*(){var y,h,x,b;if(r)throw new un("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var E=!0,w=gn(c()),k;k=yield _e(w.next()),y=k.done,!y;E=!0){b=k.value,E=!1;const M=b;_||M&&(yield yield _e(JSON.parse(M)))}}catch(M){h={error:M}}finally{try{!E&&!y&&(x=w.return)&&(yield _e(x.call(w)))}finally{if(h)throw h.error}}_=!0}catch(M){if(sc(M))return yield _e(void 0);throw M}finally{_||o.abort()}})}return new Ao(p,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],s=this.iterator(),r=c=>({next:()=>{if(c.length===0){const p=s.next();t.push(p),o.push(p)}return c.shift()}});return[new Ao(()=>r(t),this.controller,this.client),new Ao(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return yg({async start(){o=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:c}=await o.next();if(c)return s.close();const p=Ac(JSON.stringify(r)+`
`);s.enqueue(p)}catch(r){s.error(r)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function AA(i,t){return hn(this,arguments,function*(){var s,r,c,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new un("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new un("Attempted to iterate over a response with no body");const g=new wA,y=new va,h=vg(i.body);try{for(var x=!0,b=gn(NA(h)),_;_=yield _e(b.next()),s=_.done,!s;x=!0){p=_.value,x=!1;const E=p;for(const w of y.decode(E)){const k=g.decode(w);k&&(yield yield _e(k))}}}catch(E){r={error:E}}finally{try{!x&&!s&&(c=b.return)&&(yield _e(c.call(b)))}finally{if(r)throw r.error}}for(const E of y.flush()){const w=g.decode(E);w&&(yield yield _e(w))}})}function NA(i){return hn(this,arguments,function*(){var o,s,r,c;let p=new Uint8Array;try{for(var g=!0,y=gn(i),h;h=yield _e(y.next()),o=h.done,!o;g=!0){c=h.value,g=!1;const x=c;if(x==null)continue;const b=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Ac(x):x;let _=new Uint8Array(p.length+b.length);_.set(p),_.set(b,p.length),p=_;let E;for(;(E=EA(p))!==-1;)yield yield _e(p.slice(0,E)),p=p.slice(E)}}catch(x){s={error:x}}finally{try{!g&&!o&&(r=y.return)&&(yield _e(r.call(y)))}finally{if(s)throw s.error}}p.length>0&&(yield yield _e(p))})}class wA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,s,r]=RA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function RA(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function MA(i,t){const{response:o,requestLogID:s,retryOfRequestLogID:r,startTime:c}=t,p=await(async()=>{var g;if(t.options.stream)return Dt(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):Ao.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return Dt(i).debug(`[${s}] response parsed`,Hi({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-c})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nc extends Promise{constructor(t,o,s=MA){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new Nc(this.client,this.responsePromise,async(o,s)=>t(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cg=Symbol("brand.privateNullableHeaders");function*IA(i){if(!i)return;if(Cg in i){const{values:s,nulls:r}=i;yield*s.entries();for(const c of r)yield[c,null];return}let t=!1,o;i instanceof Headers?o=i.entries():m0(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let s of o){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=m0(s[1])?s[1]:[s[1]];let p=!1;for(const g of c)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const Dl=i=>{const t=new Headers,o=new Set;for(const s of i){const r=new Set;for(const[c,p]of IA(s)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),p===null?(t.delete(c),o.add(g)):(t.append(c,p),o.delete(g))}}return{[Cg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ju=i=>{var t,o,s,r,c,p;if(typeof globalThis.process<"u")return(s=(o=(t=WS)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(p=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ag;class xa{constructor(t){var o,s,r,c,p,g,y,{baseURL:h=Ju("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(o=Ju("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:b="v1beta"}=t,_=da(t,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:x,apiVersion:b},_),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(s=E.timeout)!==null&&s!==void 0?s:xa.DEFAULT_TIMEOUT,this.logger=(r=E.logger)!==null&&r!==void 0?r:console;const w="warn";this.logLevel=w,this.logLevel=(p=(c=x0(E.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:x0(Ju("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:w,this.fetchOptions=E.fetchOptions,this.maxRetries=(g=E.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=E.fetch)!==null&&y!==void 0?y:dA(),this.encoder=mA,this._options=E,this.apiKey=x,this.apiVersion=b,this.clientAdapter=E.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=Dl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Dl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Dl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new un(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Eo}`}defaultIdempotencyKey(){return`stainless-node-retry-${QC()}`}makeStatusError(t,o,s,r){return Ut.generate(t,o,s,r)}buildURL(t,o,s){const r=!this.baseURLOverridden()&&s||this.baseURL,c=WC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return nA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:s}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Nc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,s){var r,c,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:h,url:x,timeout:b}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(h,{url:x,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=s===void 0?"":`, retryOf: ${s}`,w=Date.now();if(Dt(this).debug(`[${_}] sending request`,Hi({retryOfRequestLogID:s,method:g.method,url:x,options:g,headers:h.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new rc;const k=new AbortController,M=await this.fetchWithTimeout(x,h,b,k).catch(ac),B=Date.now();if(M instanceof globalThis.Error){const Y=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new rc;const V=sc(M)||/timed? ?out/i.test(String(M)+("cause"in M?String(M.cause):""));if(o)return Dt(this).info(`[${_}] connection ${V?"timed out":"failed"} - ${Y}`),Dt(this).debug(`[${_}] connection ${V?"timed out":"failed"} (${Y})`,Hi({retryOfRequestLogID:s,url:x,durationMs:B-w,message:M.message})),this.retryRequest(g,o,s??_);throw Dt(this).info(`[${_}] connection ${V?"timed out":"failed"} - error; no more retries left`),Dt(this).debug(`[${_}] connection ${V?"timed out":"failed"} (error; no more retries left)`,Hi({retryOfRequestLogID:s,url:x,durationMs:B-w,message:M.message})),V?new rg:new ya({cause:M})}const K=`[${_}${E}] ${h.method} ${x} ${M.ok?"succeeded":"failed"} with status ${M.status} in ${B-w}ms`;if(!M.ok){const Y=await this.shouldRetry(M);if(o&&Y){const Z=`retrying, ${o} attempts remaining`;return await pA(M.body),Dt(this).info(`${K} - ${Z}`),Dt(this).debug(`[${_}] response error (${Z})`,Hi({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:B-w})),this.retryRequest(g,o,s??_,M.headers)}const V=Y?"error; no more retries left":"error; not retryable";Dt(this).info(`${K} - ${V}`);const q=await M.text().catch(Z=>ac(Z).message),ne=lA(q),X=ne?void 0:q;throw Dt(this).debug(`[${_}] response error (${V})`,Hi({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,message:X,durationMs:Date.now()-w})),this.makeStatusError(M.status,ne,X,M.headers)}return Dt(this).info(K),Dt(this).debug(`[${_}] response start`,Hi({retryOfRequestLogID:s,url:M.url,status:M.status,headers:M.headers,durationMs:B-w})),{response:M,options:g,controller:k,requestLogID:_,retryOfRequestLogID:s,startTime:w}}async fetchWithTimeout(t,o,s,r){const c=o||{},{signal:p,method:g}=c,y=da(c,["signal","method"]),h=r.abort.bind(r);p&&p.addEventListener("abort",h,{once:!0});const x=setTimeout(h,s),b=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,_=Object.assign(Object.assign(Object.assign({signal:r.signal},b?{duplex:"half"}:{}),{method:"GET"}),y);g&&(_.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,_)}finally{clearTimeout(x)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,s,r){var c;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(p=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const h=parseFloat(y);Number.isNaN(h)?p=Date.parse(y)-Date.now():p=h*1e3}if(!(p&&0<=p&&p<60*1e3)){const h=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,h)}return await sA(p),this.makeRequest(t,o-1,s)}calculateDefaultRetryTimeoutMillis(t,o){const c=o-t,p=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var s,r,c;const p=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:x}=p,b=this.buildURL(y,h,x);"timeout"in p&&oA("timeout",p.timeout),p.timeout=(s=p.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:_,body:E}=this.buildBody({options:p}),w=await this.buildHeaders({options:t,method:g,bodyHeaders:_,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:w},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=p.fetchOptions)!==null&&c!==void 0?c:{}),url:b,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:s,retryCount:r}){let c={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=Dl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),cA()),this._options.defaultHeaders,s,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=Dl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:fA(t)}:this.encoder({body:t,headers:s})}}xa.DEFAULT_TIMEOUT=6e4;class vt extends xa{constructor(){super(...arguments),this.interactions=new Eg(this)}}Ag=vt;vt.GeminiNextGenAPIClient=Ag;vt.GeminiNextGenAPIClientError=un;vt.APIError=Ut;vt.APIConnectionError=ya;vt.APIConnectionTimeoutError=rg;vt.APIUserAbortError=rc;vt.NotFoundError=fg;vt.ConflictError=pg;vt.RateLimitError=hg;vt.BadRequestError=ug;vt.AuthenticationError=cg;vt.InternalServerError=gg;vt.PermissionDeniedError=dg;vt.UnprocessableEntityError=mg;vt.toFile=xA;vt.Interactions=Eg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DA(i,t){const o={},s=u(i,["name"]);return s!=null&&d(o,["_url","name"],s),o}function UA(i,t){const o={},s=u(i,["name"]);return s!=null&&d(o,["_url","name"],s),o}function kA(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&d(o,["sdkHttpResponse"],s),o}function LA(i,t){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&d(o,["sdkHttpResponse"],s),o}function GA(i,t,o){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&d(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&d(t,["tuningTask","hyperparameters","epochCount"],c);const p=u(i,["learningRateMultiplier"]);if(p!=null&&d(s,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&d(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&d(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return s}function HA(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const q=u(i,["validationDataset"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec"],Yu(q))}else if(r==="PREFERENCE_TUNING"){const q=u(i,["validationDataset"]);t!==void 0&&q!=null&&d(t,["preferenceOptimizationSpec"],Yu(q))}else if(r==="DISTILLATION"){const q=u(i,["validationDataset"]);t!==void 0&&q!=null&&d(t,["distillationSpec"],Yu(q))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&d(t,["tunedModelDisplayName"],c);const p=u(i,["description"]);t!==void 0&&p!=null&&d(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const q=u(i,["epochCount"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],q)}else if(g==="PREFERENCE_TUNING"){const q=u(i,["epochCount"]);t!==void 0&&q!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],q)}else if(g==="DISTILLATION"){const q=u(i,["epochCount"]);t!==void 0&&q!=null&&d(t,["distillationSpec","hyperParameters","epochCount"],q)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const q=u(i,["learningRateMultiplier"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],q)}else if(y==="PREFERENCE_TUNING"){const q=u(i,["learningRateMultiplier"]);t!==void 0&&q!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],q)}else if(y==="DISTILLATION"){const q=u(i,["learningRateMultiplier"]);t!==void 0&&q!=null&&d(t,["distillationSpec","hyperParameters","learningRateMultiplier"],q)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const q=u(i,["exportLastCheckpointOnly"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],q)}else if(h==="PREFERENCE_TUNING"){const q=u(i,["exportLastCheckpointOnly"]);t!==void 0&&q!=null&&d(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],q)}else if(h==="DISTILLATION"){const q=u(i,["exportLastCheckpointOnly"]);t!==void 0&&q!=null&&d(t,["distillationSpec","exportLastCheckpointOnly"],q)}let x=u(o,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const q=u(i,["adapterSize"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],q)}else if(x==="PREFERENCE_TUNING"){const q=u(i,["adapterSize"]);t!==void 0&&q!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],q)}else if(x==="DISTILLATION"){const q=u(i,["adapterSize"]);t!==void 0&&q!=null&&d(t,["distillationSpec","hyperParameters","adapterSize"],q)}let b=u(o,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const q=u(i,["tuningMode"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","tuningMode"],q)}const _=u(i,["customBaseModel"]);t!==void 0&&_!=null&&d(t,["customBaseModel"],_);let E=u(o,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const q=u(i,["batchSize"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","hyperParameters","batchSize"],q)}let w=u(o,["config","method"]);if(w===void 0&&(w="SUPERVISED_FINE_TUNING"),w==="SUPERVISED_FINE_TUNING"){const q=u(i,["learningRate"]);t!==void 0&&q!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRate"],q)}const k=u(i,["labels"]);t!==void 0&&k!=null&&d(t,["labels"],k);const M=u(i,["beta"]);t!==void 0&&M!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","beta"],M);const B=u(i,["baseTeacherModel"]);t!==void 0&&B!=null&&d(t,["distillationSpec","baseTeacherModel"],B);const K=u(i,["tunedTeacherModelSource"]);t!==void 0&&K!=null&&d(t,["distillationSpec","tunedTeacherModelSource"],K);const Y=u(i,["sftLossWeightMultiplier"]);t!==void 0&&Y!=null&&d(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],Y);const V=u(i,["outputUri"]);return t!==void 0&&V!=null&&d(t,["outputUri"],V),s}function qA(i,t){const o={},s=u(i,["baseModel"]);s!=null&&d(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&XA(c);const p=u(i,["config"]);return p!=null&&GA(p,o),o}function zA(i,t){const o={},s=u(i,["baseModel"]);s!=null&&d(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&$A(c,o,t);const p=u(i,["config"]);return p!=null&&HA(p,o,t),o}function OA(i,t){const o={},s=u(i,["name"]);return s!=null&&d(o,["_url","name"],s),o}function VA(i,t){const o={},s=u(i,["name"]);return s!=null&&d(o,["_url","name"],s),o}function PA(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&d(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&d(t,["_query","filter"],p),s}function BA(i,t,o){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&d(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&d(t,["_query","filter"],p),s}function FA(i,t){const o={},s=u(i,["config"]);return s!=null&&PA(s,o),o}function JA(i,t){const o={},s=u(i,["config"]);return s!=null&&BA(s,o),o}function YA(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Ng(g))),d(o,["tuningJobs"],p)}return o}function jA(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>dc(g))),d(o,["tuningJobs"],p)}return o}function KA(i,t){const o={},s=u(i,["name"]);s!=null&&d(o,["model"],s);const r=u(i,["name"]);return r!=null&&d(o,["endpoint"],r),o}function XA(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),d(o,["examples","examples"],r)}return o}function $A(i,t,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(r==="DISTILLATION"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&d(t,["distillationSpec","promptDatasetUri"],p)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(c==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(c==="DISTILLATION"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&d(t,["distillationSpec","promptDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Ng(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["state"]);c!=null&&d(o,["state"],B0(c));const p=u(i,["createTime"]);p!=null&&d(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&d(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&d(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&d(o,["updateTime"],h);const x=u(i,["description"]);x!=null&&d(o,["description"],x);const b=u(i,["baseModel"]);b!=null&&d(o,["baseModel"],b);const _=u(i,["_self"]);return _!=null&&d(o,["tunedModel"],KA(_)),o}function dc(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["state"]);c!=null&&d(o,["state"],B0(c));const p=u(i,["createTime"]);p!=null&&d(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&d(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&d(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&d(o,["updateTime"],h);const x=u(i,["error"]);x!=null&&d(o,["error"],x);const b=u(i,["description"]);b!=null&&d(o,["description"],b);const _=u(i,["baseModel"]);_!=null&&d(o,["baseModel"],_);const E=u(i,["tunedModel"]);E!=null&&d(o,["tunedModel"],E);const w=u(i,["preTunedModel"]);w!=null&&d(o,["preTunedModel"],w);const k=u(i,["supervisedTuningSpec"]);k!=null&&d(o,["supervisedTuningSpec"],k);const M=u(i,["preferenceOptimizationSpec"]);M!=null&&d(o,["preferenceOptimizationSpec"],M);const B=u(i,["distillationSpec"]);B!=null&&d(o,["distillationSpec"],B);const K=u(i,["tuningDataStats"]);K!=null&&d(o,["tuningDataStats"],K);const Y=u(i,["encryptionSpec"]);Y!=null&&d(o,["encryptionSpec"],Y);const V=u(i,["partnerModelTuningSpec"]);V!=null&&d(o,["partnerModelTuningSpec"],V);const q=u(i,["customBaseModel"]);q!=null&&d(o,["customBaseModel"],q);const ne=u(i,["experiment"]);ne!=null&&d(o,["experiment"],ne);const X=u(i,["labels"]);X!=null&&d(o,["labels"],X);const de=u(i,["outputUri"]);de!=null&&d(o,["outputUri"],de);const Z=u(i,["pipelineJob"]);Z!=null&&d(o,["pipelineJob"],Z);const re=u(i,["serviceAccount"]);re!=null&&d(o,["serviceAccount"],re);const xe=u(i,["tunedModelDisplayName"]);xe!=null&&d(o,["tunedModelDisplayName"],xe);const Ne=u(i,["veoTuningSpec"]);return Ne!=null&&d(o,["veoTuningSpec"],Ne),o}function QA(i,t){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&d(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["metadata"]);c!=null&&d(o,["metadata"],c);const p=u(i,["done"]);p!=null&&d(o,["done"],p);const g=u(i,["error"]);return g!=null&&d(o,["error"],g),o}function Yu(i,t){const o={},s=u(i,["gcsUri"]);s!=null&&d(o,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&d(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZA extends Bn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new qi(Pn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),c=await this.tuneMldevInternal(r);let p="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?p=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(p=c.name.split("/operations/")[0]),{name:p,state:Zu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=VA(t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>dc(x))}else{const h=OA(t);return g=ie("{name}",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>Ng(x))}}async listInternal(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=JA(t);return g=ie("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=jA(x),_=new jh;return Object.assign(_,b),_})}else{const h=FA(t);return g=ie("tunedModels",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=YA(x),_=new jh;return Object.assign(_,b),_})}}async cancel(t){var o,s,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const h=UA(t);return g=ie("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=LA(x),_=new Kh;return Object.assign(_,b),_})}else{const h=DA(t);return g=ie("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(b=>{const _=b;return _.sdkHttpResponse={headers:x.headers},_})),p.then(x=>{const b=kA(x),_=new Kh;return Object.assign(_,b),_})}}async tuneInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=zA(t,t);return c=ie("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>dc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,s;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qA(t);return c=ie("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>QA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WA{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const eN=1024*1024*8,tN=3,nN=1e3,iN=2,pa="x-goog-upload-status";async function oN(i,t,o){var s;const r=await wg(i,t,o),c=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[pa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function lN(i,t,o){var s;const r=await wg(i,t,o),c=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[pa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=H0(c),g=new Sc;return Object.assign(g,p),g}async function wg(i,t,o){var s,r;let c=0,p=0,g=new ec(new Response),y="upload";for(c=i.size;p<c;){const h=Math.min(eN,c-p),x=i.slice(p,p+h);p+h>=c&&(y+=", finalize");let b=0,_=nN;for(;b<tN&&(g=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(h)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[pa]));)b++,await aN(_),_=_*iN;if(p+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[pa])!=="active")break;if(c<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function sN(i){return{size:i.size,type:i.type}}function aN(i){return new Promise(t=>setTimeout(t,i))}class rN{async upload(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await oN(t,o,s)}async uploadToFileSearchStore(t,o,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await lN(t,o,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await sN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uN{create(t,o,s){return new cN(t,o,s)}}class cN{constructor(t,o,s){this.url=t,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b0="x-goog-api-key";class dN{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(b0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(b0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fN="gl-node/";class pN{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new vt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const s=ib(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new dN(this.apiKey);this.apiClient=new sC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:fN+"web",uploader:new rN,downloader:new WA}),this.models=new CC(this.apiClient),this.live=new xC(this.apiClient,r,new uN),this.batches=new U_(this.apiClient),this.chats=new mT(this.models,this.apiClient),this.caches=new dT(this.apiClient),this.files=new AT(this.apiClient),this.operations=new AC(this.apiClient),this.authTokens=new PC(this.apiClient),this.tunings=new ZA(this.apiClient),this.fileSearchStores=new $C(this.apiClient)}}const mN=new pN({apiKey:"PLACEHOLDER_API_KEY"}),hN={analyzeCollection:async(i,t,o)=>{const s=t.length,r=Object.keys(i),c=r.length,p=r.reduce((x,b)=>x+(i[b]>1?i[b]-1:0),0),g=s-c,y={};t.forEach(x=>{y[x.team]||(y[x.team]={owned:0,total:0,repeated:0}),y[x.team].total+=1;const b=i[x.id]||0;b>0&&(y[x.team].owned+=1),b>1&&(y[x.team].repeated+=b-1)});const h=`
      Datos de la coleccin de cromos:
      - Total de cromos en el lbum: ${s}
      - Cromos tenidos: ${c}
      - Cromos faltantes: ${g}
      - Cromos repetidos (para cambiar): ${p}
      
      Desglose por equipos:
      ${JSON.stringify(y,null,2)}
      
      Usuario pregunta: "${o}"
    `;try{return(await mN.models.generateContent({model:"gemini-3-flash-preview",contents:[{role:"user",parts:[{text:h}]}],config:{systemInstruction:`Eres un experto analista de colecciones de cromos deportivos. 
          Tu objetivo es ayudar al usuario a completar su lbum. 
          S conciso, animado y usa emojis deportivos. 
          Si preguntan qu equipos estn cerca de completar, usa los datos.
          Si preguntan por estrategias de cambio, sugiere basndote en los repetidos.
          Responde siempre en espaol.`}})).text||"No pude generar un anlisis en este momento."}catch(x){return console.error("Gemini API Error:",x),"Hubo un error conectando con el asistente inteligente. Por favor intenta ms tarde."}}},gN=({collection:i,allStickers:t})=>{const[o,s]=F.useState(!1),[r,c]=F.useState(""),[p,g]=F.useState(!1),[y,h]=F.useState([{role:"model",text:"Hola! Soy tu asistente de coleccin. Pregntame sobre tu progreso, qu te falta o estadsticas de tu lbum."}]),x=F.useRef(null),b=()=>{var E;(E=x.current)==null||E.scrollIntoView({behavior:"smooth"})};F.useEffect(()=>{b()},[y,o]);const _=async()=>{if(!r.trim()||p)return;const E=r;c(""),h(w=>[...w,{role:"user",text:E}]),g(!0);try{const w=await hN.analyzeCollection(i,t,E);h(k=>[...k,{role:"model",text:w}])}catch{h(k=>[...k,{role:"model",text:"Lo siento, tuve un problema analizando tus datos."}])}finally{g(!1)}};return v.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end",children:[o&&v.jsxs("div",{className:"mb-4 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden flex flex-col h-[500px] transition-all duration-300 ease-out",children:[v.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-4 flex justify-between items-center text-white",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(gx,{className:"w-5 h-5"}),v.jsx("h3",{className:"font-semibold",children:"Asistente Virtual"})]}),v.jsx("button",{onClick:()=>s(!1),className:"hover:bg-white/20 p-1 rounded-full transition",children:v.jsx(Mo,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-slate-50 space-y-4",children:[y.map((E,w)=>v.jsx("div",{className:`flex ${E.role==="user"?"justify-end":"justify-start"}`,children:v.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 text-sm shadow-sm ${E.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-white text-slate-800 border border-slate-200 rounded-bl-none"}`,children:v.jsx("p",{className:"whitespace-pre-wrap",children:E.text})})},w)),p&&v.jsx("div",{className:"flex justify-start",children:v.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl rounded-bl-none px-4 py-2 flex items-center gap-2",children:[v.jsx(Pt,{className:"w-4 h-4 animate-spin text-blue-600"}),v.jsx("span",{className:"text-xs text-slate-500",children:"Analizando coleccin..."})]})}),v.jsx("div",{ref:x})]}),v.jsx("div",{className:"p-3 bg-white border-t border-slate-200",children:v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",value:r,onChange:E=>c(E.target.value),onKeyDown:E=>E.key==="Enter"&&_(),placeholder:"Ej: Qu equipo tengo ms completo?",className:"flex-1 bg-slate-100 border-0 rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"}),v.jsx("button",{onClick:_,disabled:p||!r.trim(),className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white p-2 rounded-xl transition",children:v.jsx(mc,{className:"w-5 h-5"})})]})})]}),v.jsx("button",{onClick:()=>s(!o),className:`${o?"scale-0":"scale-100"} bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-full shadow-lg transition-all duration-300 flex items-center justify-center`,children:v.jsx(oS,{className:"w-8 h-8"})})]})},yN=({isOpen:i,onClose:t,onSync:o})=>{const s=we.getCurrentUser(),r=(s==null?void 0:s.role)==="admin",c=!!s,[p,g]=F.useState(c&&!r?"account":"data"),[y,h]=F.useState(be.getApiUrl()),[x,b]=F.useState(localStorage.getItem("adrenalyn26_login_msg")||""),[_,E]=F.useState("idle"),[w,k]=F.useState("idle"),[M,B]=F.useState(!0),[K,Y]=F.useState(""),[V,q]=F.useState(!1),[ne,X]=F.useState("idle"),[de,Z]=F.useState(""),[re,xe]=F.useState([]),[Ne,ue]=F.useState(!1),[me,ge]=F.useState(null),[G,$]=F.useState(""),[te,Se]=F.useState("idle"),[Re,A]=F.useState(""),[z,W]=F.useState(""),[ee,fe]=F.useState(""),[I,j]=F.useState("idle"),[le,ae]=F.useState(""),[it,Be]=F.useState(!1),[$e,Ye]=F.useState({username:"",email:"",password:"1234",role:"user"}),[Le,ht]=F.useState("idle"),[he,He]=F.useState(""),[Ze,Ge]=F.useState([]),[Et,ot]=F.useState(""),[kt,ut]=F.useState(""),[qe,Jn]=F.useState(!1);F.useEffect(()=>{i&&(h(be.getApiUrl()),b(localStorage.getItem("adrenalyn26_login_msg")||""),q(!1),B(!0),A(""),W(""),fe(""),j("idle"),ae(""),g(c&&!r?"account":"data"))},[i,c,r]);const ve=async()=>{k("loading");try{await be.adminUpdateLoginMessage(x),localStorage.setItem("adrenalyn26_login_msg",x),k("success"),setTimeout(()=>k("idle"),2e3)}catch{alert("Error actualizando noticias"),k("idle")}},Ce=async()=>{ue(!0);try{await be.fetchCatalog(!0),xe(we.getAllUsers())}catch(Q){console.error(Q)}finally{ue(!1)}},wt=async Q=>{if(window.confirm("Seguro que quieres eliminar este usuario? Se borrar su coleccin.")){ue(!0);try{await we.adminDeleteUser(Q),xe(We=>We.filter(dn=>dn.id!==Q))}catch{alert("Error al eliminar usuario"),Ce()}finally{ue(!1)}}},ko=async Q=>{const We=!Q.isAuthorized;try{await be.adminCreateUser({...Q,isAuthorized:We,action:"admin_update_user",targetUserId:Q.id}),xe(dn=>dn.map($t=>$t.id===Q.id?{...$t,isAuthorized:We}:$t))}catch{alert("Error actualizando")}},ql=async(Q,We)=>{try{await be.adminCreateUser({...Q,role:We,action:"admin_update_user",targetUserId:Q.id}),xe(dn=>dn.map($t=>$t.id===Q.id?{...$t,role:We}:$t))}catch{alert("Error al cambiar rol")}},Sa=async()=>{if(!(!me||!G)){Se("loading");try{await we.changePassword(me.id,G),Se("success"),xe(Q=>Q.map(We=>We.id===me.id?{...We,password:G}:We)),setTimeout(()=>{ge(null),$(""),Se("idle")},1500)}catch{alert("Error cambiando contrasea"),Se("idle")}}},ba=async Q=>{if(Q.preventDefault(),!!s){if(j("loading"),ae(""),Re!==s.password){j("error"),ae("La contrasea actual no es correcta.");return}if(z.length<4){j("error"),ae("La nueva contrasea es demasiado corta.");return}if(z!==ee){j("error"),ae("Las contraseas nuevas no coinciden.");return}try{await we.changePassword(s.id,z),j("success"),ae("Contrasea actualizada correctamente."),A(""),W(""),fe(""),setTimeout(()=>{j("idle"),ae("")},3e3)}catch{j("error"),ae("Error al conectar con el servidor.")}}},vi=async Q=>{Q.preventDefault(),ht("loading"),He("");try{await we.adminCreateUser($e),ht("success"),Ye({username:"",email:"",password:"1234",role:"user"}),Be(!1),Ce()}catch(We){ht("error"),He(We.message||"Error creando usuario")}},Rt=async()=>{if(!(Ze.length===0||!Et||!kt)){Jn(!0);try{await be.sendMessage((s==null?void 0:s.id)||"admin",Ze,Et,kt),alert("Mensaje enviado correctamente"),ot(""),ut(""),Ge([])}catch{alert("Error al enviar mensaje")}finally{Jn(!1)}}},cn=Q=>{Q==="ALL"?Ze.includes("ALL")?Ge([]):Ge(["ALL"]):Ze.includes("ALL")?Ge([Q]):Ze.includes(Q)?Ge(We=>We.filter(dn=>dn!==Q)):Ge(We=>[...We,Q])},Mt=async()=>{X("loading");try{const Q=await be.ping();X(Q.status==="ok"?"ok":"fail"),Z(Q.message||"Error desconocido.")}catch(Q){X("fail"),Z(Q.message)}};return i?v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:[v.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200 border border-slate-200 flex flex-col max-h-[85vh]",children:[v.jsxs("div",{className:"bg-slate-900 px-6 py-4 flex justify-between items-center border-b border-slate-800 shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(OS,{className:"w-5 h-5 text-blue-400"}),v.jsx("h3",{className:"font-bold text-white text-lg",children:"Configuracin"})]}),v.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white p-2 rounded-full transition",children:v.jsx(Mo,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"flex border-b border-slate-100 bg-slate-50 shrink-0 overflow-x-auto",children:[(!c||r)&&v.jsx("button",{onClick:()=>g("data"),className:`px-4 py-3 text-sm font-bold border-b-2 ${p==="data"?"text-blue-600 border-blue-600 bg-white":"text-slate-500 border-transparent"}`,children:"Sistema"}),c&&v.jsx("button",{onClick:()=>g("account"),className:`px-4 py-3 text-sm font-bold border-b-2 ${p==="account"?"text-blue-600 border-blue-600 bg-white":"text-slate-500 border-transparent"}`,children:"Cuenta"}),r&&v.jsx("button",{onClick:()=>{g("users"),Ce()},className:`px-4 py-3 text-sm font-bold border-b-2 ${p==="users"?"text-blue-600 border-blue-600 bg-white":"text-slate-500 border-transparent"}`,children:"Usuarios"}),r&&v.jsx("button",{onClick:()=>{g("messages"),Ce()},className:`px-4 py-3 text-sm font-bold border-b-2 ${p==="messages"?"text-blue-600 border-blue-600 bg-white":"text-slate-500 border-transparent"}`,children:"Mensajera"}),v.jsx("button",{onClick:()=>g("debug"),className:`px-4 py-3 text-sm font-bold border-b-2 ${p==="debug"?"text-blue-600 border-blue-600 bg-white":"text-slate-500 border-transparent"}`,children:"PWA Status"})]}),v.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[p==="data"&&v.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[v.jsxs("div",{children:[v.jsxs("h5",{className:"text-sm font-bold text-slate-800 mb-3 flex items-center gap-2 border-b pb-2",children:[v.jsx(jx,{className:"w-4 h-4 text-blue-500"})," URL API"]}),v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Script Google"}),v.jsx("button",{onClick:()=>M?q(!0):B(!0),className:"text-[10px] font-bold text-blue-600 hover:underline",children:M?"Editar":"Bloquear"})]}),V&&M?v.jsxs("div",{className:"flex gap-2 mb-2",children:[v.jsx("input",{type:"password",placeholder:"Pass: admin",className:"flex-1 px-3 py-2 border rounded-lg text-sm",value:K,onChange:Q=>Y(Q.target.value)}),v.jsx("button",{onClick:()=>{(K==="admin"||K==="admin123")&&(B(!1),q(!1))},className:"bg-slate-800 text-white px-3 py-2 rounded-lg text-sm font-bold",children:"OK"})]}):v.jsx("input",{type:M?"password":"text",value:y,disabled:M,onChange:Q=>h(Q.target.value),className:"w-full px-4 py-3 border rounded-xl outline-none text-xs font-mono"}),!M&&v.jsx("button",{onClick:async()=>{E("loading");try{r?await be.adminUpdateSystemUrl(y):be.setApiUrl(y),E("success"),setTimeout(o,1e3)}catch{E("error")}},className:"mt-2 w-full bg-blue-600 text-white py-2 rounded-lg font-bold",children:"Guardar"})]}),r&&v.jsxs("div",{children:[v.jsxs("h5",{className:"text-sm font-bold text-slate-800 mb-3 flex items-center gap-2 border-b pb-2",children:[v.jsx(D0,{className:"w-4 h-4 text-neon-pink"})," Novedades de Inicio"]}),v.jsx("textarea",{value:x,onChange:Q=>b(Q.target.value),className:"w-full p-3 border rounded-xl text-xs h-24 bg-slate-50 focus:bg-white focus:border-blue-500 outline-none resize-none",placeholder:"Escribe el mensaje que aparecer en el Login..."}),v.jsxs("button",{onClick:ve,disabled:w==="loading",className:"mt-2 w-full bg-slate-800 hover:bg-slate-700 text-white py-2 rounded-lg font-bold text-xs flex items-center justify-center gap-2",children:[w==="loading"?v.jsx(Pt,{className:"w-3 h-3 animate-spin"}):v.jsx(la,{className:"w-3 h-3"}),w==="success"?"Actualizado":"Actualizar Noticias"]})]}),v.jsxs("div",{children:[v.jsxs("h5",{className:"text-sm font-bold text-slate-800 mb-3 flex items-center gap-2 border-b pb-2",children:[v.jsx(ux,{className:"w-4 h-4 text-green-500"})," Diagnstico"]}),v.jsx("button",{onClick:Mt,className:"w-full py-2 bg-slate-100 rounded-lg text-xs font-bold text-slate-600 hover:bg-slate-200",children:"Verificar Conexin"}),ne!=="idle"&&v.jsx("p",{className:`mt-2 text-xs p-2 rounded border ${ne==="ok"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:de})]})]}),p==="messages"&&r&&v.jsxs("div",{className:"space-y-4 animate-in fade-in h-full flex flex-col",children:[v.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-100 text-xs text-blue-800 mb-2",children:"Enva notificaciones emergentes a los usuarios. Aparecern al abrir la app."}),v.jsxs("div",{className:"flex-1 overflow-y-auto border rounded-xl p-2 bg-slate-50 max-h-40",children:[v.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-white rounded cursor-pointer border-b border-slate-100",onClick:()=>cn("ALL"),children:[v.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${Ze.includes("ALL")?"bg-blue-600 border-blue-600":"bg-white border-slate-300"}`,children:Ze.includes("ALL")&&v.jsx(kl,{className:"w-3 h-3 text-white"})}),v.jsx("span",{className:"text-xs font-bold uppercase text-slate-700",children:"Todos los usuarios"})]}),re.filter(Q=>Q.id!==(s==null?void 0:s.id)).map(Q=>v.jsxs("div",{className:`flex items-center gap-2 p-2 hover:bg-white rounded cursor-pointer ${Ze.includes("ALL")?"opacity-50 pointer-events-none":""}`,onClick:()=>cn(Q.id),children:[v.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${Ze.includes(Q.id)?"bg-blue-600 border-blue-600":"bg-white border-slate-300"}`,children:Ze.includes(Q.id)&&v.jsx(kl,{className:"w-3 h-3 text-white"})}),v.jsx("span",{className:"text-xs text-slate-600",children:Q.username})]},Q.id))]}),v.jsx("input",{type:"text",placeholder:"Ttulo del mensaje",className:"w-full p-3 border rounded-xl text-sm font-bold outline-none focus:border-blue-500",value:Et,onChange:Q=>ot(Q.target.value)}),v.jsx("textarea",{placeholder:"Cuerpo del mensaje...",className:"w-full p-3 border rounded-xl text-sm outline-none focus:border-blue-500 h-24 resize-none",value:kt,onChange:Q=>ut(Q.target.value)}),v.jsxs("button",{onClick:Rt,disabled:qe||Ze.length===0||!Et||!kt,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white font-bold rounded-xl flex items-center justify-center gap-2",children:[qe?v.jsx(Pt,{className:"w-4 h-4 animate-spin"}):v.jsx(mc,{className:"w-4 h-4"}),"Enviar Notificacin"]})]}),p==="users"&&r&&v.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("h5",{className:"text-sm font-bold text-slate-800",children:["Gestin de Usuarios (",re.length,")"]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:Ce,className:"p-2 bg-slate-100 rounded-lg text-slate-500 hover:bg-slate-200",children:v.jsx(hS,{className:`w-4 h-4 ${Ne?"animate-spin":""}`})}),v.jsx("button",{onClick:()=>Be(!it),className:"p-2 bg-blue-600 rounded-lg text-white hover:bg-blue-500",children:v.jsx(G0,{className:"w-4 h-4"})})]})]}),it&&v.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 mb-4 animate-in slide-in-from-top-2",children:[v.jsx("h6",{className:"text-xs font-bold text-slate-700 mb-3 uppercase",children:"Nuevo Usuario"}),v.jsxs("form",{onSubmit:vi,className:"space-y-3",children:[v.jsx("input",{required:!0,type:"text",placeholder:"Usuario",className:"w-full p-2 text-sm border rounded",value:$e.username,onChange:Q=>Ye({...$e,username:Q.target.value})}),v.jsx("input",{required:!0,type:"email",placeholder:"Email",className:"w-full p-2 text-sm border rounded",value:$e.email,onChange:Q=>Ye({...$e,email:Q.target.value})}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{required:!0,type:"text",placeholder:"Pass",className:"w-1/2 p-2 text-sm border rounded",value:$e.password,onChange:Q=>Ye({...$e,password:Q.target.value})}),v.jsxs("select",{className:"w-1/2 p-2 text-sm border rounded",value:$e.role,onChange:Q=>Ye({...$e,role:Q.target.value}),children:[v.jsx("option",{value:"user",children:"Usuario"}),v.jsx("option",{value:"coleccionista",children:"Coleccionista"}),v.jsx("option",{value:"admin",children:"Admin"})]})]}),he&&v.jsx("p",{className:"text-xs text-red-500",children:he}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{type:"button",onClick:()=>Be(!1),className:"px-3 py-1.5 text-xs font-bold text-slate-500",children:"Cancelar"}),v.jsxs("button",{type:"submit",disabled:Le==="loading",className:"px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded flex items-center gap-1",children:[Le==="loading"&&v.jsx(Pt,{className:"w-3 h-3 animate-spin"})," Crear"]})]})]})]}),v.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto pr-1",children:re.map(Q=>v.jsxs("div",{className:"p-3 border rounded-xl flex flex-col gap-3 bg-white hover:shadow-sm transition group",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white ${Q.isAuthorized?"bg-blue-500 shadow-lg shadow-blue-500/20":"bg-amber-500"}`,children:Q.username.substring(0,2).toUpperCase()}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-sm font-bold text-slate-800 flex items-center gap-1",children:[Q.username,Q.role==="admin"&&v.jsx(Dx,{className:"w-3 h-3 text-amber-500"}),Q.role==="coleccionista"&&v.jsx(gc,{className:"w-3 h-3 text-neon-blue fill-neon-blue"})]}),v.jsx("p",{className:"text-[10px] text-slate-400",children:Q.email})]})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>{ge(Q),$("")},className:"p-1.5 text-slate-400 hover:text-blue-500 hover:bg-blue-50 rounded transition",title:"Cambiar Contrasea",children:v.jsx(Pm,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>ko(Q),className:`p-1.5 rounded transition ${Q.isAuthorized?"text-green-500 hover:bg-green-50":"text-amber-500 hover:bg-amber-50"}`,title:Q.isAuthorized?"Desautorizar":"Autorizar",children:Q.isAuthorized?v.jsx(kl,{className:"w-4 h-4"}):v.jsx(AS,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>wt(Q.id),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded transition",children:v.jsx(GS,{className:"w-4 h-4"})})]})]}),v.jsx("div",{className:"flex gap-1",children:["user","coleccionista","admin"].map(We=>v.jsx("button",{onClick:()=>ql(Q,We),className:`flex-1 text-[9px] font-bold uppercase py-1 rounded-md border transition-all ${Q.role===We?"bg-slate-900 text-white border-slate-900":"bg-slate-50 text-slate-400 border-slate-100 hover:bg-slate-100"}`,children:We},We))})]},Q.id))})]}),p==="debug"&&v.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[v.jsxs("h5",{className:"text-sm font-bold text-slate-800 mb-3 border-b pb-2 flex items-center gap-2",children:[v.jsx(MS,{className:"w-4 h-4 text-blue-500"})," Estado de la App"]}),v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border border-slate-200",children:[v.jsx("div",{className:"text-xs font-bold text-slate-700",children:"Service Worker (Offline)"}),v.jsx("div",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold ${"serviceWorker"in navigator?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:"serviceWorker"in navigator?"ACTIVO":"INACTIVO"})]})})]}),p==="account"&&s&&v.jsxs("div",{className:"space-y-6 animate-in fade-in pb-10",children:[v.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200 flex items-center gap-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold",children:s.username.substring(0,2).toUpperCase()}),v.jsxs("div",{children:[v.jsxs("p",{className:"font-bold text-slate-800 flex items-center gap-2",children:[s.username,v.jsx("span",{className:"text-[10px] bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full uppercase",children:s.role})]}),v.jsx("p",{className:"text-xs text-slate-500",children:s.email})]})]}),!r&&s.role==="user"&&v.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl flex items-start gap-3",children:[v.jsx(I0,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),v.jsxs("div",{className:"text-xs text-amber-800",children:[v.jsx("p",{className:"font-bold mb-1",children:"Acceso Coleccionista"}),v.jsx("p",{children:'Actualmente tienes un rol bsico. Para acceder al mercado de intercambios, un administrador debe ascender tu cuenta a rol "Coleccionista".'})]})]}),v.jsxs("div",{className:"border-t pt-4",children:[v.jsxs("h5",{className:"text-sm font-bold text-slate-800 mb-4 flex items-center gap-2",children:[v.jsx(Pm,{className:"w-4 h-4 text-slate-500"})," Cambiar Contrasea"]}),v.jsxs("form",{onSubmit:ba,className:"space-y-3",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Contrasea Actual"}),v.jsx("input",{type:"password",value:Re,onChange:Q=>A(Q.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm bg-slate-50 focus:bg-white focus:border-blue-500 outline-none transition",placeholder:"******",required:!0})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Nueva Contrasea"}),v.jsx("input",{type:"password",value:z,onChange:Q=>W(Q.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm bg-slate-50 focus:bg-white focus:border-blue-500 outline-none transition",placeholder:"Mnimo 4 caracteres",required:!0})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase",children:"Confirmar Nueva"}),v.jsx("input",{type:"password",value:ee,onChange:Q=>fe(Q.target.value),className:`w-full px-3 py-2 border rounded-lg text-sm bg-slate-50 focus:bg-white outline-none transition ${ee&&z!==ee?"border-red-500":"focus:border-blue-500"}`,placeholder:"Repite la nueva contrasea",required:!0})]}),le&&v.jsx("div",{className:`text-xs p-2 rounded ${I==="error"?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:le}),v.jsxs("button",{type:"submit",disabled:I==="loading"||!Re||!z||!ee,className:"w-full py-2 bg-slate-800 hover:bg-slate-700 disabled:opacity-50 text-white font-bold rounded-lg text-xs flex items-center justify-center gap-2 mt-2",children:[I==="loading"?v.jsx(Pt,{className:"w-3 h-3 animate-spin"}):v.jsx(la,{className:"w-3 h-3"}),"Actualizar Contrasea"]})]})]})]})]})]}),me&&v.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in",children:v.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl w-full max-w-xs animate-in zoom-in-95",children:[v.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:"Cambiar Contrasea"}),v.jsxs("p",{className:"text-xs text-slate-500 mb-4",children:["Para: ",v.jsx("span",{className:"font-bold text-blue-600",children:me.username})]}),v.jsx("input",{type:"text",autoFocus:!0,placeholder:"Nueva contrasea",className:"w-full p-2 border rounded-lg text-sm mb-4",value:G,onChange:Q=>$(Q.target.value)}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>ge(null),className:"px-3 py-2 text-xs font-bold text-slate-500",children:"Cancelar"}),v.jsxs("button",{onClick:Sa,disabled:te==="loading"||!G,className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-xs font-bold flex items-center gap-2",children:[te==="loading"?v.jsx(Pt,{className:"w-3 h-3 animate-spin"}):v.jsx(la,{className:"w-3 h-3"}),te==="success"?"Guardado":"Guardar"]})]})]})})]}):null},_0=i=>{if(!i)return"";try{const t=new Date(i);return t.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})+" "+t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}catch{return""}},vN=({currentUser:i,catalog:t,trades:o,onClose:s})=>{var fe;const[r,c]=F.useState("NEW_TRADE"),[p,g]=F.useState(!1),[y,h]=F.useState(1),[x,b]=F.useState(null),[_,E]=F.useState([]),[w,k]=F.useState([]),[M,B]=F.useState(""),[K,Y]=F.useState(null),[V,q]=F.useState(null),[ne,X]=F.useState(""),[de,Z]=F.useState("OK"),[re,xe]=F.useState([]);F.useEffect(()=>{xe(we.getAllUsers())},[]);const Ne=F.useMemo(()=>{const I=String(i.id).trim().toLowerCase();return o.filter(j=>{const le=String(j.senderId).trim().toLowerCase(),ae=String(j.receiverId).trim().toLowerCase();return le===I||ae===I}).map(j=>{const le=re.find(Le=>String(Le.id).toLowerCase()===String(j.senderId).toLowerCase()),ae=re.find(Le=>String(Le.id).toLowerCase()===String(j.receiverId).toLowerCase()),it=j.offeredStickerId.split(",").map(Le=>Le.trim()).filter(Boolean),Be=j.requestedStickerId.split(",").map(Le=>Le.trim()).filter(Boolean),$e=it.map(Le=>t.find(ht=>ht.id===Le)).filter(Le=>!!Le),Ye=Be.map(Le=>t.find(ht=>ht.id===Le)).filter(Le=>!!Le);return{...j,sender:le,receiver:ae,offeredStickers:$e,requestedStickers:Ye}}).sort((j,le)=>new Date(le.updatedAt||le.createdAt).getTime()-new Date(j.updatedAt||j.createdAt).getTime())},[o,re,t,i.id]),ue=Ne.filter(I=>I.status==="PENDIENTE"||I.status==="ACEPTADA"),me=Ne.filter(I=>["COMPLETADA","CANCELADA","RECHAZADA","CADUCADA"].includes(I.status)),ge=ue.filter(I=>String(I.receiverId).trim().toLowerCase()===String(i.id).trim().toLowerCase()&&I.status==="PENDIENTE").length,G=F.useMemo(()=>{const I=we.getCollection(i.id),j=new Set(t.map(ae=>ae.id).filter(ae=>!I[ae])),le=[];return re.forEach(ae=>{if(ae.id===i.id)return;const it=we.getCollection(ae.id),Be=[];Object.keys(it).forEach($e=>{if(it[$e]>1&&j.has($e)){const Ye=t.find(Le=>Le.id===$e);Ye&&Be.push(Ye)}}),Be.length>0&&le.push({user:ae,matchCount:Be.length,availableStickers:Be})}),le.sort((ae,it)=>it.matchCount-ae.matchCount)},[re,t,i]),$=F.useMemo(()=>{const I={};return ue.forEach(j=>{String(j.senderId).toLowerCase()===String(i.id).toLowerCase()&&j.offeredStickers.forEach(le=>{I[le.id]=(I[le.id]||0)+1})}),I},[ue,i.id]),te=F.useMemo(()=>{const I=we.getCollection(i.id);return t.filter(j=>{const le=I[j.id]||0;if(le<=1)return!1;const ae=$[j.id]||0;return le-1-ae>0})},[i,t,$]),Se=I=>{_.find(j=>j.id===I.id)?E(j=>j.filter(le=>le.id!==I.id)):E(j=>[...j,I])},Re=I=>{w.find(j=>j.id===I.id)?k(j=>j.filter(le=>le.id!==I.id)):k(j=>[...j,I])},A=async()=>{if(!(!x||w.length===0||_.length===0)){g(!0);try{await be.createTrade({senderId:i.id,receiverId:x.id,offeredStickerIds:w.map(I=>I.id),requestedStickerIds:_.map(I=>I.id),senderComment:M}),s()}catch(I){console.error(I),alert("Error al crear propuesta. Intntalo de nuevo.")}finally{g(!1)}}},z=async()=>{if(!(!K||!V)&&!((V==="CANCEL"||V==="REJECT")&&!ne.trim())){g(!0);try{await be.updateTradeStatus(K,V==="FINALIZE"?"ACEPTADA":V==="CANCEL"?"CANCELADA":"RECHAZADA",i.id,V==="FINALIZE"?"finalize":void 0,V==="FINALIZE"?de:void 0,ne),s()}catch{alert("Error actualizando")}finally{g(!1)}}},W=async(I,j)=>{g(!0);try{await be.updateTradeStatus(I,j,i.id),s()}catch{alert("Error de conexin")}finally{g(!1)}},ee=(I,j)=>{if(I.length===0)return v.jsx("div",{className:"text-slate-500 text-xs",children:"Sin cromos"});const le=I[0],ae=I.length;return v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsxs("div",{className:"relative w-20 h-28 sm:w-24 sm:h-32 group-hover:scale-105 transition-transform duration-300",children:[ae>1&&v.jsx("div",{className:"absolute top-0 left-2 w-full h-full bg-slate-800 rounded-lg border border-white/10 rotate-6 z-0"}),ae>2&&v.jsx("div",{className:"absolute top-0 -left-2 w-full h-full bg-slate-800 rounded-lg border border-white/10 -rotate-6 z-0"}),v.jsxs("div",{className:"relative w-full h-full bg-black rounded-lg border border-white/20 shadow-xl overflow-hidden z-10",children:[v.jsxs("div",{className:"absolute top-1 left-1 z-10 bg-black/80 text-white text-[9px] font-bold px-1.5 py-0.5 rounded backdrop-blur border border-white/10",children:["#",le.displayNumber]}),le.imageUrl?v.jsx("img",{src:le.imageUrl,className:"w-full h-full object-cover opacity-90"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center bg-slate-800 text-slate-500 text-[9px]",children:"Sin Img"}),ae>1&&v.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20 backdrop-blur-[1px]",children:v.jsxs("span",{className:"text-xl font-black text-white drop-shadow-lg",children:["+",ae-1]})})]})]}),v.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mt-2",children:j}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{className:"text-xs sm:text-sm font-bold text-white leading-tight px-1 text-center line-clamp-1",children:le.name}),ae>1&&v.jsxs("span",{className:"text-[10px] text-slate-400 italic",children:["y ",ae-1," ms..."]})]})]})};return v.jsx("div",{className:"fixed inset-0 z-40 bg-[#020617]/95 backdrop-blur-xl overflow-y-auto animate-in slide-in-from-right duration-300",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8 min-h-screen flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-[#020617]/80 backdrop-blur-lg z-20 py-2 border-b border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"relative group",children:[v.jsx("div",{className:"absolute inset-0 bg-neon-purple blur opacity-30 group-hover:opacity-50 transition-opacity"}),v.jsx("div",{className:"bg-slate-900 border border-neon-purple/30 p-2 rounded-xl text-neon-purple relative",children:v.jsx(No,{className:"w-6 h-6"})})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white tracking-tight",children:"Zona de Cambios"}),v.jsx("p",{className:"text-slate-400 text-xs sm:text-sm font-mono tracking-wider",children:"MERCADO CENTRAL P2P"})]})]}),v.jsx("button",{onClick:s,className:"px-4 py-2 bg-slate-900 border border-white/10 text-slate-300 font-bold rounded-lg hover:bg-slate-800 hover:text-white transition",children:"Volver"})]}),v.jsxs("div",{className:"flex gap-2 mb-8 bg-slate-900/50 p-1.5 rounded-2xl border border-white/10 w-full sm:w-fit overflow-x-auto",children:[v.jsx("button",{onClick:()=>c("NEW_TRADE"),className:`flex-1 sm:flex-none whitespace-nowrap px-5 py-2.5 text-xs sm:text-sm font-bold rounded-xl transition uppercase tracking-wide ${r==="NEW_TRADE"?"bg-neon-blue text-black shadow-[0_0_15px_rgba(0,243,255,0.4)]":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:"Nuevo Cambio"}),v.jsxs("button",{onClick:()=>c("ACTIVE"),className:`flex-1 sm:flex-none whitespace-nowrap px-5 py-2.5 text-xs sm:text-sm font-bold rounded-xl transition uppercase tracking-wide flex items-center justify-center gap-2 ${r==="ACTIVE"?"bg-neon-purple text-white shadow-[0_0_15px_rgba(188,19,254,0.4)]":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:["Activos",ge>0&&v.jsx("span",{className:"bg-neon-pink text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full animate-bounce shadow-lg",children:ge}),ge===0&&ue.length>0&&v.jsx("span",{className:"bg-black/30 border border-white/20 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:ue.length})]}),v.jsx("button",{onClick:()=>c("HISTORY"),className:`flex-1 sm:flex-none whitespace-nowrap px-5 py-2.5 text-xs sm:text-sm font-bold rounded-xl transition uppercase tracking-wide flex items-center justify-center gap-2 ${r==="HISTORY"?"bg-slate-700 text-white":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:"Historial"})]}),r==="NEW_TRADE"&&v.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 pb-24",children:[v.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 mb-6 text-xs sm:text-sm font-bold text-slate-500 overflow-x-auto pb-2",children:[v.jsxs("div",{className:`flex items-center gap-2 shrink-0 ${y===1?"text-neon-blue":""}`,children:[v.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center border text-[10px] ${y===1?"border-neon-blue bg-neon-blue/10 shadow-[0_0_10px_rgba(0,243,255,0.2)]":"border-slate-700 bg-slate-800"}`,children:"1"}),"ELEGIR USUARIO"]}),v.jsx(Vm,{className:"w-3 h-3 text-slate-700 shrink-0"}),v.jsxs("div",{className:`flex items-center gap-2 shrink-0 ${y===2?"text-neon-blue":""}`,children:[v.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center border text-[10px] ${y===2?"border-neon-blue bg-neon-blue/10 shadow-[0_0_10px_rgba(0,243,255,0.2)]":"border-slate-700 bg-slate-800"}`,children:"2"}),"RECIBIR"]}),v.jsx(Vm,{className:"w-3 h-3 text-slate-700 shrink-0"}),v.jsxs("div",{className:`flex items-center gap-2 shrink-0 ${y===3?"text-neon-blue":""}`,children:[v.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center border text-[10px] ${y===3?"border-neon-blue bg-neon-blue/10 shadow-[0_0_10px_rgba(0,243,255,0.2)]":"border-slate-700 bg-slate-800"}`,children:"3"}),"TU OFERTA"]})]}),y===1&&v.jsxs("div",{children:[v.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[v.jsx(Lx,{className:"w-5 h-5 text-neon-blue"})," Con quin quieres cambiar?"]}),v.jsx("p",{className:"text-xs text-slate-400 mb-6",children:"Estos usuarios tienen cromos que te faltan y estn repetidos para ellos."}),G.length===0?v.jsxs("div",{className:"p-8 bg-slate-900/50 rounded-2xl text-center border border-white/5",children:[v.jsx(U0,{className:"w-10 h-10 text-slate-700 mx-auto mb-3"}),v.jsx("p",{className:"text-slate-400",children:"Nadie tiene cromos repetidos que te falten."})]}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:G.map(I=>v.jsxs("button",{onClick:()=>{b(I.user),h(2),E([]),k([])},className:"p-4 bg-slate-900/60 hover:bg-slate-800 border border-white/10 hover:border-neon-blue/50 rounded-xl flex items-center justify-between group transition-all",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center font-bold text-white border border-white/10",children:I.user.username.substring(0,2).toUpperCase()}),v.jsxs("div",{className:"text-left",children:[v.jsx("div",{className:"font-bold text-white group-hover:text-neon-blue transition",children:I.user.username}),v.jsx("div",{className:"text-[10px] text-slate-500",children:"ltimo acceso reciente"})]})]}),v.jsxs("div",{className:"bg-neon-blue/10 text-neon-blue px-2 py-1 rounded-lg text-xs font-bold border border-neon-blue/20",children:[I.matchCount," coincidencias"]})]},I.user.id))})]}),y===2&&x&&v.jsxs("div",{className:"animate-in fade-in",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[v.jsx(No,{className:"w-5 h-5 text-neon-blue"})," Elige qu recibir de ",x.username]}),v.jsx("button",{onClick:()=>h(1),className:"text-xs text-slate-400 hover:text-white",children:"Cambiar usuario"})]}),_.length>0&&v.jsxs("div",{className:"mb-4 p-2 bg-neon-blue/10 border border-neon-blue/30 rounded-xl flex items-center justify-between",children:[v.jsxs("span",{className:"text-xs font-bold text-neon-blue px-2",children:[_.length," cromos seleccionados"]}),v.jsx("button",{onClick:()=>h(3),className:"px-4 py-1.5 bg-neon-blue text-black text-xs font-bold rounded-lg hover:bg-cyan-300",children:"Continuar "})]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:(fe=G.find(I=>I.user.id===x.id))==null?void 0:fe.availableStickers.map(I=>{const j=!!_.find(le=>le.id===I.id);return v.jsxs("button",{onClick:()=>Se(I),className:`relative aspect-[2.4/3.4] rounded-xl overflow-hidden border-2 transition-all ${j?"border-neon-blue scale-95 opacity-100 shadow-[0_0_15px_rgba(0,243,255,0.3)]":"border-transparent opacity-80 hover:opacity-100"}`,children:[v.jsx("img",{src:I.imageUrl,className:"w-full h-full object-cover"}),v.jsxs("div",{className:"absolute top-0 left-0 bg-black/70 text-white text-[10px] px-1 font-bold",children:["#",I.displayNumber]}),j&&v.jsx("div",{className:"absolute inset-0 bg-neon-blue/30 flex items-center justify-center backdrop-blur-[1px]",children:v.jsx(Bu,{className:"w-8 h-8 text-white drop-shadow-md"})})]},I.id)})})]}),y===3&&v.jsxs("div",{className:"animate-in fade-in pb-20",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[v.jsx(Hx,{className:"w-5 h-5 text-neon-purple"})," Tu oferta (Tus Repetidos)"]}),v.jsx("button",{onClick:()=>h(2),className:"text-xs text-slate-400 hover:text-white",children:"Volver atrs"})]}),v.jsx("div",{className:"mb-6",children:v.jsx("input",{type:"text",placeholder:"Mensaje opcional para el cambio...",className:"w-full p-3 bg-slate-900 border border-white/10 rounded-xl text-sm text-white focus:border-neon-purple outline-none",value:M,onChange:I=>B(I.target.value)})}),te.length===0?v.jsx("div",{className:"p-6 bg-red-900/20 border border-red-500/20 rounded-xl text-center",children:v.jsx("p",{className:"text-red-300 text-sm",children:"No tienes cromos repetidos disponibles para cambiar."})}):v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:te.map(I=>{const j=!!w.find(le=>le.id===I.id);return v.jsxs("button",{onClick:()=>Re(I),className:`relative aspect-[2.4/3.4] rounded-xl overflow-hidden border-2 transition-all ${j?"border-neon-purple scale-95 opacity-100 shadow-[0_0_15px_rgba(188,19,254,0.3)]":"border-transparent opacity-80 hover:opacity-100"}`,children:[v.jsx("img",{src:I.imageUrl,className:"w-full h-full object-cover"}),v.jsxs("div",{className:"absolute top-0 left-0 bg-black/70 text-white text-[10px] px-1 font-bold",children:["#",I.displayNumber]}),j&&v.jsx("div",{className:"absolute inset-0 bg-neon-purple/30 flex items-center justify-center backdrop-blur-[1px]",children:v.jsx(Bu,{className:"w-8 h-8 text-white drop-shadow-md"})})]},I.id)})}),v.jsx("div",{className:"fixed bottom-0 left-0 w-full p-4 bg-[#020617]/80 backdrop-blur-lg border-t border-white/10 z-50 flex justify-center",children:v.jsxs("button",{onClick:A,disabled:w.length===0||_.length===0||p,className:"max-w-md w-full bg-neon-blue hover:bg-cyan-300 disabled:opacity-50 disabled:cursor-not-allowed text-black font-black py-4 rounded-xl shadow-[0_0_20px_rgba(0,243,255,0.3)] flex items-center justify-center gap-2 transition-all uppercase tracking-wide text-sm",children:[p?v.jsx(Pt,{className:"w-5 h-5 animate-spin"}):v.jsx(mc,{className:"w-5 h-5"}),"Confirmar Propuesta (",_.length," x ",w.length,")"]})})]})]}),r==="ACTIVE"&&v.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 pb-10",children:[ue.length===0&&v.jsx("p",{className:"text-center text-slate-500 py-10",children:"No tienes intercambios activos."}),ue.map(I=>{const j=String(I.receiverId).trim().toLowerCase()===String(i.id).trim().toLowerCase(),le=j?I.sender:I.receiver,ae=j?I.requestedStickers:I.offeredStickers,it=j?I.offeredStickers:I.requestedStickers,Be=j?I.receiverFinalStatus:I.senderFinalStatus,$e=j?I.senderFinalStatus:I.receiverFinalStatus,Ye=I.status.trim().toUpperCase();return v.jsxs("div",{className:"bg-slate-900/60 border border-white/10 rounded-2xl shadow-lg relative overflow-hidden group",children:[v.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${Ye==="ACEPTADA"?"bg-neon-green shadow-[0_0_10px_#4ade80]":"bg-neon-blue shadow-[0_0_10px_#00f3ff]"}`}),v.jsxs("div",{className:"p-5 pl-6",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-2",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"text-sm font-bold text-slate-200 flex items-center gap-2",children:[j?"Oferta de:":"Enviada a:",v.jsxs("span",{className:"bg-white/5 border border-white/10 px-2 py-1 rounded-lg flex items-center gap-2 text-neon-blue",children:[v.jsx($u,{className:"w-3.5 h-3.5"}),(le==null?void 0:le.username)||"Usuario"]})]}),v.jsx("div",{className:"flex items-center gap-3 text-[10px] text-slate-500 mt-2 font-mono",children:v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(vx,{className:"w-3 h-3"})," ",_0(I.createdAt)]})})]}),v.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider border shadow-lg ${Ye==="ACEPTADA"?"bg-green-500/20 text-green-400 border-green-500/50":"bg-blue-500/20 text-blue-400 border-blue-500/50"}`,children:Ye})]}),v.jsxs("div",{className:"flex items-center gap-2 sm:gap-6 mb-6 bg-black/20 p-4 rounded-xl border border-white/5 relative",children:[v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-20 sm:w-32 h-0.5 bg-gradient-to-r from-transparent via-white/20 to-transparent z-0"}),v.jsx("div",{className:"flex-1 flex justify-center z-10",children:ee(ae,"T das")}),v.jsx("div",{className:"z-10 bg-slate-800 rounded-full p-2 border border-white/10 shadow-lg",children:v.jsx(No,{className:"w-4 h-4 text-slate-400"})}),v.jsx("div",{className:"flex-1 flex justify-center z-10",children:ee(it,"Recibes")})]}),(I.senderComment||I.receiverComment)&&v.jsx("div",{className:"bg-white/5 p-3 rounded-lg mb-4 border border-white/5",children:v.jsxs("p",{className:"text-xs text-slate-400 italic text-center",children:['"',j?I.senderComment:I.receiverComment||"Sin comentarios",'"']})}),v.jsxs("div",{children:[Ye==="PENDIENTE"&&j&&v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>W(I.id,"ACEPTADA"),className:"flex-1 bg-neon-blue hover:bg-cyan-300 text-black py-3 rounded-xl text-xs sm:text-sm font-black uppercase tracking-wide shadow-[0_0_15px_rgba(0,243,255,0.2)] transition-all active:scale-95",children:"Aceptar Cambio"}),v.jsx("button",{onClick:()=>{Y(I.id),q("REJECT"),X("")},className:"flex-1 bg-transparent border border-white/20 text-slate-300 py-3 rounded-xl text-xs sm:text-sm font-bold hover:bg-white/5 transition-colors uppercase",children:"Rechazar"})]}),Ye==="PENDIENTE"&&!j&&v.jsx("button",{onClick:()=>{Y(I.id),q("CANCEL"),X("")},className:"w-full bg-slate-800 text-slate-400 py-3 rounded-xl text-xs sm:text-sm font-bold hover:bg-slate-700 hover:text-white transition-colors border border-white/5 hover:border-white/10 uppercase tracking-wide",children:"Cancelar Solicitud"}),Ye==="ACEPTADA"&&v.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-white/5",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase flex items-center gap-1 tracking-wider",children:[v.jsx(R0,{className:"w-3 h-3"})," Confirmacin"]}),v.jsxs("div",{className:"flex gap-2 text-[10px]",children:[v.jsxs("span",{className:`px-2 py-1 rounded border ${Be==="OK"?"bg-green-500/20 border-green-500/50 text-green-400 font-bold":"bg-black/30 border-white/10 text-slate-500"}`,children:["T: ",Be||"..."]}),v.jsxs("span",{className:`px-2 py-1 rounded border ${$e==="OK"?"bg-green-500/20 border-green-500/50 text-green-400 font-bold":"bg-black/30 border-white/10 text-slate-500"}`,children:[le==null?void 0:le.username,": ",$e||"..."]})]})]}),Be?v.jsxs("div",{className:"text-center text-xs sm:text-sm text-green-400 font-bold bg-green-500/10 p-3 rounded-xl mb-3 border border-green-500/30 flex items-center justify-center gap-2",children:[v.jsx(Bu,{className:"w-5 h-5"}),"Ya has confirmado (",Be,")"]}):v.jsxs("button",{onClick:()=>{Y(I.id),q("FINALIZE"),Z("OK")},className:"w-full py-3 bg-green-600 hover:bg-green-500 text-white text-xs sm:text-sm font-bold rounded-xl shadow-[0_0_15px_rgba(34,197,94,0.3)] mb-3 flex items-center justify-center gap-2 uppercase tracking-wide",children:[v.jsx(Vx,{className:"w-5 h-5"}),"Confirmar Intercambio"]}),!Be&&v.jsx("button",{onClick:()=>{Y(I.id),q("FINALIZE"),Z("NO_VINO")},className:"w-full py-2 text-slate-500 text-[10px] hover:text-red-400 font-medium hover:underline uppercase tracking-wide",children:"Reportar problema / No se present"})]})]})]})]},I.id)})]}),r==="HISTORY"&&v.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-2 pb-10",children:[me.length===0&&v.jsx("p",{className:"text-center text-slate-500 py-10",children:"No hay historial."}),me.map(I=>{var $e,Ye;let j="",le=!1;const ae=I.senderFinalStatus==="NO_VINO"||I.senderFinalStatus==="ME_HE_NEGADO",it=I.receiverFinalStatus==="NO_VINO"||I.receiverFinalStatus==="ME_HE_NEGADO";if(ae||it){le=!0;let Le="",ht="";ae?(($e=I.sender)!=null&&$e.username,Le=I.senderFinalStatus,ht=I.senderComment):((Ye=I.receiver)!=null&&Ye.username,Le=I.receiverFinalStatus,ht=I.receiverComment),j=`${Le==="NO_VINO"?"Report que no te presentaste":"Se neg al intercambio"}. ${ht?`"${ht}"`:""}`}else I.status==="RECHAZADA"&&I.receiverComment&&(j=I.receiverComment),I.status==="CANCELADA"&&(j=I.receiverComment||I.senderComment);const Be=I.status==="CANCELADA"||I.status==="RECHAZADA"||le;return v.jsxs("div",{className:`p-4 rounded-xl border flex flex-col gap-2 transition shadow-sm ${Be?"bg-red-950/20 border-red-900/50 relative overflow-hidden":"bg-slate-900/40 border-white/5 opacity-80 hover:opacity-100"}`,children:[v.jsx("div",{className:"flex justify-between items-start mt-1",children:v.jsxs("div",{className:"flex items-center gap-4 w-full",children:[v.jsx("div",{className:`p-2 rounded-full shrink-0 ${I.status==="COMPLETADA"?"bg-green-500/10 text-green-500 border border-green-500/30":"bg-red-500/10 text-red-500 border border-red-500/30"}`,children:I.status==="COMPLETADA"?v.jsx(k0,{className:"w-5 h-5"}):le?v.jsx(yc,{className:"w-5 h-5"}):v.jsx(Nx,{className:"w-5 h-5"})}),v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsxs("p",{className:"text-xs text-slate-500 uppercase tracking-wide font-bold",children:["Estado: ",v.jsx("span",{className:Be?"text-red-400":"text-slate-400",children:I.status})]}),v.jsx("span",{className:"text-[10px] text-slate-600 font-mono",children:_0(I.createdAt)})]}),v.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[v.jsxs("span",{className:"font-bold",children:[I.offeredStickers.length," cromos"]}),v.jsx("span",{className:"text-slate-600",children:""}),v.jsxs("span",{className:"font-bold",children:[I.requestedStickers.length," cromos"]})]})]})]})}),j&&v.jsxs("div",{className:`p-3 rounded-lg text-xs flex items-start gap-2 mt-2 ${Be?"bg-red-900/20 border border-red-500/20 text-red-300":"bg-slate-800 text-slate-400"}`,children:[v.jsx(sS,{className:`w-4 h-4 mt-0.5 shrink-0 ${Be?"text-red-500":"text-slate-500"}`}),v.jsxs("div",{children:[v.jsx("p",{className:"font-bold mb-0.5 uppercase tracking-wider text-[10px]",children:"Motivo del cierre:"}),v.jsxs("p",{className:"italic opacity-80",children:['"',j,'"']})]})]})]},I.id)})]}),K&&V&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-in fade-in duration-200",children:v.jsxs("div",{className:"bg-[#0f172a] border border-white/10 rounded-2xl p-6 max-w-sm w-full shadow-[0_0_50px_rgba(0,0,0,0.5)]",children:[v.jsxs("h3",{className:"font-bold text-lg mb-4 text-white",children:[V==="FINALIZE"&&"Finalizar Intercambio",V==="CANCEL"&&"Cancelar Solicitud",V==="REJECT"&&"Rechazar Propuesta"]}),V==="FINALIZE"&&v.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[v.jsx("button",{onClick:()=>Z("OK"),className:`p-3 rounded-lg border text-sm font-bold text-left transition-all ${de==="OK"?"bg-green-500/20 border-green-500 text-green-400":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10"}`,children:"OK - Todo correcto"}),v.jsx("button",{onClick:()=>Z("ME_HE_NEGADO"),className:`p-3 rounded-lg border text-sm font-bold text-left transition-all ${de==="ME_HE_NEGADO"?"bg-red-500/20 border-red-500 text-red-400":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10"}`,children:"Me he negado"}),v.jsx("button",{onClick:()=>Z("NO_VINO"),className:`p-3 rounded-lg border text-sm font-bold text-left transition-all ${de==="NO_VINO"?"bg-amber-500/20 border-amber-500 text-amber-400":"bg-white/5 border-white/10 text-slate-400 hover:bg-white/10"}`,children:"Se ha negado / No vino"})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-2 uppercase tracking-wide",children:V==="CANCEL"||V==="REJECT"?"Motivo (Obligatorio):":"Comentario opcional:"}),v.jsx("textarea",{className:`w-full border rounded-xl p-3 text-sm bg-black/40 outline-none focus:ring-1 transition-all text-white placeholder-slate-600 ${(V==="CANCEL"||V==="REJECT")&&!ne.trim()?"border-red-500/50 focus:border-red-500 focus:ring-red-500":"border-white/10 focus:border-neon-blue focus:ring-neon-blue"}`,placeholder:V==="CANCEL"||V==="REJECT"?"Explica brevemente la razn...":"Comentario...",value:ne,onChange:I=>X(I.target.value),rows:3})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>{Y(null),q(null),X("")},className:"flex-1 py-3 text-slate-400 font-bold text-sm hover:text-white hover:bg-white/5 rounded-xl transition border border-transparent",children:"Volver"}),v.jsxs("button",{onClick:z,disabled:p||(V==="CANCEL"||V==="REJECT")&&!ne.trim(),className:"flex-1 py-3 bg-neon-blue disabled:opacity-50 disabled:cursor-not-allowed text-black rounded-xl font-bold text-sm hover:bg-cyan-300 transition flex items-center justify-center gap-2 shadow-[0_0_15px_rgba(0,243,255,0.2)]",children:[p&&v.jsx(Pt,{className:"w-4 h-4 animate-spin"}),"Confirmar"]})]})]})}),p&&!K&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:v.jsxs("div",{className:"bg-[#0f172a] p-6 rounded-2xl shadow-2xl border border-white/10 flex flex-col items-center gap-3",children:[v.jsx(Pt,{className:"w-10 h-10 animate-spin text-neon-blue"}),v.jsx("p",{className:"text-white font-bold text-sm uppercase tracking-widest animate-pulse",children:"Procesando..."})]})})]})})},xN=({sticker:i,onClose:t})=>{const o=i.category.toLowerCase().includes("estadio")||i.name.toLowerCase().includes("estadio");return v.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md animate-in fade-in duration-300",onClick:t,children:v.jsxs("div",{className:`relative max-w-sm w-full aspect-[2.4/3.4] animate-in zoom-in-95 duration-300 transition-transform ${o?"rotate-90 scale-[0.85] sm:scale-100":""}`,onClick:s=>s.stopPropagation(),children:[v.jsx("button",{onClick:t,className:"absolute -top-12 right-0 p-2 bg-white/10 hover:bg-white/20 text-white rounded-full transition-all z-50",children:v.jsx(Mo,{className:"w-6 h-6"})}),v.jsxs("div",{className:`w-full h-full rounded-[2rem] border-2 overflow-hidden shadow-[0_0_50px_rgba(0,243,255,0.3)] bg-slate-900 flex flex-col ${i.isSpecial?"border-neon-purple":"border-neon-blue"}`,children:[i.imageUrl?v.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-full h-full object-cover"}):v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center bg-gradient-to-b from-slate-800 to-slate-950",children:[v.jsx(hc,{className:"w-24 h-24 text-white/10 mb-4"}),v.jsx("p",{className:"text-slate-500 font-bold uppercase tracking-widest text-sm",children:"Imagen no disponible"})]}),v.jsx("div",{className:"absolute inset-x-0 bottom-0 p-8 bg-gradient-to-t from-black via-black/80 to-transparent",children:v.jsxs("div",{className:"flex justify-between items-end",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"text-neon-blue font-black text-2xl mb-1 drop-shadow-md",children:["#",i.displayNumber]}),v.jsx("h3",{className:"text-white font-black text-3xl leading-tight drop-shadow-lg uppercase italic italic-tracking-tighter",children:i.name}),v.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] mt-2 text-sm",children:i.team})]}),i.isSpecial&&v.jsx("div",{className:"bg-neon-purple p-3 rounded-2xl shadow-[0_0_20px_rgba(188,19,254,0.6)]",children:v.jsx(gc,{className:"w-6 h-6 text-white",fill:"white"})})]})})]})]})})},SN=({isOpen:i,onClose:t,onOpenTrade:o,currentUser:s,allStickers:r})=>{if(!i)return null;const c=we.getCollection(s.id),p=we.getAllUsers().filter(h=>h.id!==s.id&&h.isAuthorized),g=[];return r.filter(h=>!c[h.id]).forEach(h=>{const x=[];p.forEach(b=>{(we.getCollection(b.id)[h.id]||0)>1&&x.push(b.username)}),x.length>0&&g.push({sticker:h,owners:x})}),g.length===0?null:v.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-slate-900 border border-neon-blue/30 w-full max-w-lg rounded-[2.5rem] overflow-hidden shadow-[0_0_50px_rgba(0,243,255,0.2)] animate-in zoom-in-95 duration-300 flex flex-col max-h-[80vh]",children:[v.jsxs("div",{className:"p-8 pb-4 text-center relative",children:[v.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-32 bg-neon-blue/20 rounded-full blur-[40px] -z-10"}),v.jsx("div",{className:"inline-flex p-4 bg-neon-blue/10 rounded-3xl mb-4 border border-neon-blue/20",children:v.jsx(Xu,{className:"w-8 h-8 text-neon-blue animate-pulse"})}),v.jsxs("h3",{className:"text-2xl font-black text-white italic uppercase tracking-tighter",children:["Oportunidades de ",v.jsx("span",{className:"text-neon-blue",children:"Cambio"}),"!"]}),v.jsx("p",{className:"text-slate-400 text-sm mt-2 font-medium",children:"Hemos encontrado cromos que te faltan en las manos de otros usuarios."})]}),v.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-3",children:g.map((h,x)=>v.jsx("div",{className:"bg-white/5 border border-white/5 rounded-2xl p-4 flex items-center justify-between group",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"w-12 h-16 bg-black rounded-lg border border-white/10 overflow-hidden relative shrink-0",children:[v.jsxs("div",{className:"absolute top-0 left-0 bg-neon-blue text-black text-[9px] font-black px-1 rounded-br",children:["#",h.sticker.displayNumber]}),h.sticker.imageUrl?v.jsx("img",{src:h.sticker.imageUrl,className:"w-full h-full object-cover opacity-80"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center",children:v.jsx(L0,{className:"w-5 h-5 text-slate-700"})})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-white font-bold text-sm leading-tight",children:h.sticker.name}),v.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-black tracking-widest",children:h.sticker.team}),v.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[v.jsx("div",{className:"flex -space-x-2",children:h.owners.slice(0,3).map((b,_)=>v.jsx("div",{className:"w-5 h-5 rounded-full bg-slate-800 border border-slate-900 flex items-center justify-center text-[8px] font-bold text-neon-blue",children:b.substring(0,1).toUpperCase()},_))}),v.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:h.owners.length===1?`${h.owners[0]} lo tiene repe`:`${h.owners[0]} y ${h.owners.length-1} ms lo tienen`})]})]})]})},h.sticker.id))}),v.jsxs("div",{className:"p-8 bg-slate-800/30 border-t border-white/5 space-y-3",children:[v.jsxs("button",{onClick:()=>{o(),t()},className:"w-full bg-neon-blue hover:bg-cyan-300 text-black font-black py-4 rounded-2xl shadow-[0_0_20px_rgba(0,243,255,0.3)] transition-all flex items-center justify-center gap-2 uppercase tracking-widest text-sm italic",children:[v.jsx(No,{className:"w-5 h-5"}),"Ir a la Zona de Cambios"]}),v.jsx("button",{onClick:t,className:"w-full py-2 text-slate-500 hover:text-white text-xs font-bold transition-colors uppercase tracking-widest",children:"Ahora no, gracias"})]})]})})},bN=({message:i,onClose:t,onMarkRead:o})=>v.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-slate-900 border border-neon-purple/30 w-full max-w-md rounded-3xl overflow-hidden shadow-[0_0_50px_rgba(188,19,254,0.3)] animate-in zoom-in-95 duration-300 flex flex-col",children:[v.jsxs("div",{className:"relative p-6 bg-gradient-to-br from-purple-900/40 to-slate-900",children:[v.jsx("div",{className:"absolute top-4 right-4",children:v.jsx("button",{onClick:t,className:"p-2 text-white/50 hover:text-white transition",children:v.jsx(Mo,{className:"w-5 h-5"})})}),v.jsx("div",{className:"w-12 h-12 bg-neon-purple/20 rounded-full flex items-center justify-center mb-4 border border-neon-purple/50 shadow-lg",children:v.jsx(mx,{className:"w-6 h-6 text-neon-purple animate-pulse"})}),v.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight leading-tight",children:i.title}),v.jsxs("p",{className:"text-[10px] text-neon-purple font-bold uppercase tracking-widest mt-1",children:["Mensaje del Sistema  ",i.createdAt]})]}),v.jsx("div",{className:"p-6 bg-slate-900 text-slate-300 text-sm leading-relaxed whitespace-pre-wrap",children:i.body}),v.jsx("div",{className:"p-4 bg-black/40 border-t border-white/5",children:v.jsxs("button",{onClick:o,className:"w-full bg-neon-purple hover:bg-purple-500 text-white font-black py-3.5 rounded-xl shadow-[0_0_20px_rgba(188,19,254,0.2)] transition-all flex items-center justify-center gap-2 uppercase tracking-wide text-sm",children:[v.jsx(kl,{className:"w-5 h-5"}),"Entendido"]})})]})}),T0=({teamName:i,dynamicLogos:t,logoFromSheet:o})=>{const s=i.toLowerCase().trim();let r=o||"";if(!r){for(const[p,g]of Object.entries(t))if(s.includes(p)||p.includes(s)){r=g;break}}if(!r){for(const[p,g]of Object.entries(ex))if(s.includes(p)){r=g;break}}let c=Ll.default;for(const[p,g]of Object.entries(Ll))if(s.includes(p)){c=g;break}return r?v.jsx("div",{className:"w-full h-full flex items-center justify-center p-2 transition-transform group-hover:scale-110 relative z-10",children:v.jsx("img",{src:r,alt:i,className:"w-full h-full object-contain filter drop-shadow-[0_4px_6px_rgba(0,0,0,0.6)] group-hover:drop-shadow-[0_0_15px_rgba(255,255,255,0.3)] transition-all duration-300"})}):v.jsxs("div",{className:"w-full h-full relative flex items-center justify-center drop-shadow-lg group-hover:scale-110 transition-transform z-10",children:[v.jsx(hc,{className:"w-3/4 h-3/4",style:{fill:c.primary,color:c.secondary}}),v.jsx("span",{className:"absolute text-[12px] font-black text-white mix-blend-difference uppercase tracking-tighter",children:i.substring(0,3)})]})},E0=pc.memo(({percentage:i,color:t,size:o="sm"})=>{const s=o==="sm"?14:32,r=o==="sm"?3:6,c=o==="sm"?18:40,p=2*Math.PI*s,g=p-i/100*p;return v.jsxs("div",{className:`relative flex items-center justify-center ${o==="sm"?"w-9 h-9":"w-20 h-20"} z-20`,children:[v.jsxs("svg",{className:`transform -rotate-90 ${o==="sm"?"w-9 h-9":"w-20 h-20"}`,children:[v.jsx("circle",{className:"text-white/10",strokeWidth:r,stroke:"currentColor",fill:"transparent",r:s,cx:c,cy:c}),v.jsx("circle",{className:"transition-all duration-1000 ease-out",strokeWidth:r,strokeDasharray:p,strokeDashoffset:g,strokeLinecap:"round",stroke:t,fill:"transparent",r:s,cx:c,cy:c})]}),v.jsxs("span",{className:`absolute font-black text-white ${o==="sm"?"text-[8px]":"text-sm"}`,children:[Math.round(i),"%"]})]})}),C0=i=>{const t=i.toLowerCase();return t.includes("oro")||t.includes("gold")||t.includes("baln")||t.includes("invencible")?{bg:"bg-gradient-to-br from-amber-950 via-black to-slate-950",border:"border-amber-500/40 group-hover:border-amber-400",text:"text-transparent bg-clip-text bg-gradient-to-b from-amber-100 via-amber-400 to-amber-700",shadow:"shadow-[0_0_40px_rgba(245,158,11,0.2)]",glow:"bg-amber-500/15",hex:"#f59e0b"}:t.includes("kriptonita")||t.includes("energy")||t.includes("energa")||t.includes("mitos")||t.includes("fuerza")?{bg:"bg-gradient-to-br from-emerald-950 via-black to-slate-950",border:"border-emerald-400/40 group-hover:border-emerald-300",text:"text-transparent bg-clip-text bg-gradient-to-b from-emerald-100 via-emerald-400 to-emerald-700",shadow:"shadow-[0_0_40px_rgba(16,185,129,0.2)]",glow:"bg-emerald-500/15",hex:"#10b981"}:t.includes("diamante")||t.includes("diamond")||t.includes("blindados")?{bg:"bg-gradient-to-br from-cyan-950 via-black to-slate-950",border:"border-cyan-400/40 group-hover:border-cyan-300",text:"text-transparent bg-clip-text bg-gradient-to-b from-cyan-100 via-cyan-400 to-blue-700",shadow:"shadow-[0_0_40_rgba(34,211,238,0.2)]",glow:"bg-cyan-500/15",hex:"#22d3ee"}:t.includes("imparables")||t.includes("fuego")||t.includes("red")||t.includes("diablicos")||t.includes("volcnico")?{bg:"bg-gradient-to-br from-red-950 via-black to-slate-950",border:"border-red-500/40 group-hover:border-red-400",text:"text-transparent bg-clip-text bg-gradient-to-b from-red-100 via-red-400 to-red-800",shadow:"shadow-[0_0_40px_rgba(239,68,68,0.2)]",glow:"bg-red-500/15",hex:"#ef4444"}:t.includes("super")||t.includes("crack")||t.includes("master")||t.includes("premium")?{bg:"bg-gradient-to-br from-violet-950 via-black to-slate-950",border:"border-violet-500/40 group-hover:border-violet-400",text:"text-transparent bg-clip-text bg-gradient-to-b from-violet-100 via-violet-400 to-purple-800",shadow:"shadow-[0_0_40px_rgba(139,92,246,0.2)]",glow:"bg-violet-500/15",hex:"#8b5cf6"}:{bg:"bg-gradient-to-br from-blue-950 via-black to-slate-950",border:"border-blue-500/40 group-hover:border-blue-400",text:"text-transparent bg-clip-text bg-gradient-to-b from-blue-100 via-blue-400 to-indigo-700",shadow:"shadow-[0_0_40px_rgba(59,130,246,0.15)]",glow:"bg-blue-500/10",hex:"#3b82f6"}},_N=i=>{const t=i.toLowerCase();for(const[o,s]of Object.entries(Ll))if(t.includes(o))return s.primary;return"#334155"},A0=({title:i,subtitle:t,icon:o,total:s,owned:r,gradient:c,onClick:p})=>{const g=s>0?Math.round(r/s*100):0;return v.jsx("button",{onClick:p,className:`relative p-6 rounded-3xl overflow-hidden text-left w-full group transition-all duration-300 hover:scale-[1.02] shadow-xl border border-white/10 ${c}`,children:v.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsx("div",{className:"p-3 bg-black/20 backdrop-blur-xl rounded-2xl text-white shadow-inner border border-white/10",children:o}),v.jsx("div",{className:"text-right",children:v.jsxs("span",{className:"block text-4xl font-black text-white tracking-tighter drop-shadow-lg",children:[g,"%"]})})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-2xl font-bold text-white mb-0.5",children:i}),v.jsx("p",{className:"text-white/70 text-[10px] font-medium mb-4 uppercase tracking-widest",children:t}),v.jsx("div",{className:"w-full bg-black/30 rounded-full h-1.5 overflow-hidden backdrop-blur-sm",children:v.jsx("div",{className:"h-full rounded-full bg-white transition-all duration-1000 ease-out",style:{width:`${g}%`}})}),v.jsxs("div",{className:"mt-3 text-[10px] text-white/50 font-bold uppercase tracking-wider flex justify-between",children:[v.jsxs("span",{children:[r," adquiridos"]}),v.jsxs("span",{children:[s," total"]})]})]})]})})},TN=({user:i,onLogout:t,isInstallable:o,onInstall:s})=>{const[r,c]=F.useState([]),[p,g]=F.useState({}),[y,h]=F.useState([]),[x,b]=F.useState([]),[_,E]=F.useState(!0),[w,k]=F.useState(!1),[M,B]=F.useState(null),[K,Y]=F.useState("HOME"),[V,q]=F.useState(null),[ne,X]=F.useState(null),[de,Z]=F.useState(!1),[re,xe]=F.useState(!1),[Ne,ue]=F.useState(!1),[me,ge]=F.useState({}),[G,$]=F.useState(null),[te,Se]=F.useState(0),[Re,A]=F.useState(0),[z,W]=F.useState([]),[ee,fe]=F.useState(null),I=i.role==="admin"||i.role==="coleccionista",j=async(he=!1)=>{!he&&r.length===0&&E(!0),he&&k(!0);try{const{stickers:He,trades:Ze,teams:Ge,messages:Et}=await be.fetchCatalog(he);c(He),h(Ze),b(Ge),g(we.getCollection(i.id));const ot=we.getAllUsers();Se(ot.length);const kt=ot.reduce((qe,Jn)=>{const ve=we.getCollection(Jn.id);return qe+Object.values(ve).reduce((Ce,wt)=>Ce+(wt>1?wt-1:0),0)},0);A(kt);const ut=Et.filter(qe=>qe.read?!1:qe.receiverId==="ALL"?!JSON.parse(localStorage.getItem("adrenalyn26_read_broadcasts")||"[]").includes(qe.id):qe.receiverId===i.id);W(ut),ut.length>0&&!ee&&fe(ut[0]),he||(be.fetchTeamLogos().then(qe=>ge(qe)),I&&setTimeout(()=>ue(!0),1500)),B(null)}catch(He){he||B("Fallo de Conexin: "+He.message)}finally{E(!1),k(!1)}};F.useEffect(()=>{j(!1);const he=setInterval(()=>{j(!0)},3e4);return()=>clearInterval(he)},[i.id]);const le=F.useCallback((he,He)=>{const Ze=we.updateStickerCount(i.id,he,He);g(Ze)},[i.id]),ae=()=>{if(V){q(null);return}if(ne){X(null);return}Y("HOME")},it=async()=>{if(!ee)return;if(ee.receiverId==="ALL"){const He=JSON.parse(localStorage.getItem("adrenalyn26_read_broadcasts")||"[]");He.push(ee.id),localStorage.setItem("adrenalyn26_read_broadcasts",JSON.stringify(He))}else await be.markMessageAsRead(ee.id);fe(null);const he=z.filter(He=>He.id!==ee.id);W(he),he.length>0&&setTimeout(()=>fe(he[0]),300)},Be=F.useMemo(()=>y.filter(he=>String(he.receiverId).trim().toLowerCase()===String(i.id).trim().toLowerCase()&&he.status==="PENDIENTE").length,[y,i.id]),{processedGroups:$e,globalStats:Ye,teamGridStats:Le,specialGridStats:ht}=F.useMemo(()=>{const he=r.filter(ve=>!ve.isSpecial),He=r.filter(ve=>ve.isSpecial),Ze={basics:{total:he.length,owned:he.filter(ve=>p[ve.id]>0).length},specials:{total:He.length,owned:He.filter(ve=>p[ve.id]>0).length}},Ge={};he.forEach(ve=>{const Ce=ve.team;if(!Ge[Ce]){const wt=x.find(ko=>ko.name.toLowerCase()===Ce.toLowerCase());Ge[Ce]={total:0,owned:0,name:Ce,logoUrl:wt==null?void 0:wt.logoUrl,minNumber:ve.number}}Ge[Ce].total++,p[ve.id]>0&&Ge[Ce].owned++,ve.number<Ge[Ce].minNumber&&(Ge[Ce].minNumber=ve.number)});const Et=Object.values(Ge).sort((ve,Ce)=>ve.minNumber-Ce.minNumber),ot={};He.forEach(ve=>{const Ce=ve.category||"Especiales";ot[Ce]||(ot[Ce]={total:0,owned:0,name:Ce,minNumber:ve.number}),ot[Ce].total++,p[ve.id]>0&&ot[Ce].owned++,ve.number<ot[Ce].minNumber&&(ot[Ce].minNumber=ve.number)});const kt=Object.values(ot).sort((ve,Ce)=>ve.minNumber-Ce.minNumber);let ut=r;K==="BASICS"?(ut=ut.filter(ve=>!ve.isSpecial),V&&(ut=ut.filter(ve=>ve.team===V))):K==="SPECIALS"&&(ut=ut.filter(ve=>ve.isSpecial),ne&&(ut=ut.filter(ve=>(ve.category||"Especiales")===ne)));const qe={};return ut.forEach(ve=>{let Ce=K==="SPECIALS"?ve.category||"Especiales":ve.team;qe[Ce]||(qe[Ce]=[]),qe[Ce].push(ve)}),{processedGroups:Object.keys(qe).map(ve=>({title:ve,items:qe[ve].sort((Ce,wt)=>Ce.number-wt.number),minNumber:Math.min(...qe[ve].map(Ce=>Ce.number))})).sort((ve,Ce)=>ve.minNumber-Ce.minNumber),globalStats:Ze,teamGridStats:Et,specialGridStats:kt}},[r,p,K,V,ne,x]);return v.jsxs("div",{className:"min-h-screen flex flex-col text-slate-200",children:[v.jsx("header",{className:"fixed top-0 w-full z-40 bg-black/60 backdrop-blur-xl border-b border-white/5",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-20 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[K!=="HOME"?v.jsx("button",{onClick:ae,className:"p-2 rounded-full bg-slate-800 hover:bg-slate-700 transition",children:v.jsx(_x,{className:"w-5 h-5"})}):v.jsx("div",{className:"bg-slate-900 p-2.5 rounded-xl text-neon-blue border border-neon-blue/30",children:v.jsx(zx,{className:"w-6 h-6"})}),v.jsxs("h1",{className:"text-xl font-black italic uppercase italic-tracking-tighter",children:["CROMO",v.jsx("span",{className:"text-neon-blue",children:"CH"})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"hidden lg:flex items-center gap-4 mr-4",children:[v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-[9px] text-slate-500 font-black uppercase tracking-widest",children:"Comunidad"}),v.jsxs("p",{className:"text-sm font-bold text-white flex items-center justify-end gap-1.5",children:[v.jsx(FS,{className:"w-3.5 h-3.5 text-neon-blue"})," ",te]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-[9px] text-slate-500 font-black uppercase tracking-widest",children:"Repetidos"}),v.jsxs("p",{className:"text-sm font-bold text-white flex items-center justify-end gap-1.5",children:[v.jsx(No,{className:"w-3.5 h-3.5 text-neon-purple"})," ",Re]})]})]}),I?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>ue(!0),className:"p-3 rounded-full bg-slate-800 border border-white/10 text-neon-blue hover:bg-neon-blue/10 transition",title:"Ver Novedades",children:v.jsx(Xu,{className:"w-5 h-5"})}),v.jsxs("button",{onClick:()=>xe(!0),className:"relative p-3 rounded-full bg-gradient-to-r from-neon-purple to-indigo-600 text-white shadow-lg",children:[v.jsx(No,{className:"w-6 h-6"}),Be>0&&v.jsx("span",{className:"absolute -top-1 -right-1 min-w-[20px] h-[20px] bg-neon-pink text-white text-[10px] font-bold rounded-full border-2 border-black flex items-center justify-center animate-bounce",children:Be})]})]}):v.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-2 bg-slate-900/50 rounded-xl border border-white/5 text-slate-500",title:"Acceso restringido a Coleccionistas",children:[v.jsx(Ku,{className:"w-4 h-4"}),v.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"User"})]}),v.jsx("button",{onClick:()=>Z(!0),className:"p-2.5 text-slate-400 hover:text-white rounded-full transition",children:v.jsx(_S,{className:"w-5 h-5"})}),v.jsx("button",{onClick:t,className:"w-9 h-9 rounded-full bg-slate-800 border border-slate-700 flex items-center justify-center text-slate-300 text-sm font-bold hover:bg-red-500 transition-colors",children:i.username.substring(0,2).toUpperCase()})]})]})}),v.jsx("main",{className:"flex-1 max-w-7xl w-full mx-auto px-4 py-8 mt-24",children:_?v.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[v.jsx(Pt,{className:"w-12 h-12 text-neon-blue animate-spin mb-4"}),v.jsx("p",{className:"font-bold text-xs uppercase tracking-widest text-neon-blue",children:"Sincronizando..."})]}):v.jsxs(v.Fragment,{children:[K==="HOME"&&v.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[v.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[v.jsx(A0,{title:"Base Deck",subtitle:"Equipos LaLiga",icon:v.jsx(Jx,{className:"w-8 h-8"}),total:Ye.basics.total,owned:Ye.basics.owned,gradient:"bg-gradient-to-br from-blue-900 via-slate-900 to-black",onClick:()=>Y("BASICS")}),v.jsx(A0,{title:"Holo Deck",subtitle:"Series Especiales",icon:v.jsx(Xu,{className:"w-8 h-8"}),total:Ye.specials.total,owned:Ye.specials.owned,gradient:"bg-gradient-to-br from-purple-900 via-slate-900 to-black",onClick:()=>Y("SPECIALS")})]}),!I&&v.jsxs("div",{className:"mt-8 p-4 bg-slate-900/50 border border-white/5 rounded-2xl max-w-md mx-auto flex items-center gap-4 text-slate-400",children:[v.jsx(Ku,{className:"w-5 h-5 text-amber-500/50"}),v.jsxs("p",{className:"text-[11px] font-medium leading-relaxed italic",children:["Las funciones de intercambio estn reservadas para usuarios con rol ",v.jsx("span",{className:"text-neon-blue",children:"Coleccionista"}),". En breves podremos hacerlo."]})]})]}),K==="BASICS"&&!V&&v.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4 animate-in fade-in",children:Le.map(he=>{const He=_N(he.name);return v.jsxs("button",{onClick:()=>q(he.name),className:"relative aspect-square bg-slate-900/40 rounded-3xl border border-white/5 hover:border-white/40 transition-all flex flex-col items-center justify-center overflow-hidden group hover:-translate-y-1 hover:shadow-[0_0_30px_rgba(0,0,0,0.5)]",children:[v.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-80 transition-opacity duration-700 blur-xl mix-blend-screen",style:{background:`radial-gradient(circle at center, ${He} 0%, transparent 70%)`}}),v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4/5 h-4/5 opacity-30 blur-2xl group-hover:opacity-50 group-hover:blur-3xl transition-all duration-700",style:{backgroundColor:He}}),v.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-10 h-10 bg-white/20 blur-lg rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),v.jsx("div",{className:"w-3/4 h-3/4 p-2 relative z-10",children:v.jsx(T0,{teamName:he.name,dynamicLogos:me,logoFromSheet:he.logoUrl})}),v.jsx("div",{className:"absolute top-2 right-2 z-20",children:v.jsx(E0,{percentage:he.owned/he.total*100,color:"#00f3ff",size:"sm"})})]},he.name)})}),K==="SPECIALS"&&!ne&&v.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6 animate-in fade-in pb-20",children:ht.map(he=>{const He=C0(he.name),Ze=he.name.split(" "),Ge=Math.round(he.owned/he.total*100),Et=Math.max(...Ze.map(kt=>kt.length));let ot="text-3xl sm:text-4xl";return Et>11?ot="text-lg sm:text-xl":Et>8?ot="text-xl sm:text-2xl":Et>6&&(ot="text-2xl sm:text-3xl"),v.jsxs("button",{onClick:()=>X(he.name),className:`relative aspect-square rounded-[2.5rem] border-2 transition-all group flex flex-col items-center justify-center overflow-hidden hover:scale-[1.05] ${He.bg} ${He.border} ${He.shadow}`,children:[v.jsx("div",{className:`absolute w-4/5 h-4/5 rounded-full blur-[50px] opacity-60 ${He.glow}`}),v.jsx("div",{className:"relative z-10 p-5 text-center w-full",children:v.jsx("span",{className:`block font-black uppercase tracking-tighter italic leading-[0.8] ${He.text} ${ot}`,children:Ze.map((kt,ut)=>v.jsx("span",{className:"block",children:kt},ut))})}),v.jsxs("div",{className:"absolute bottom-0 left-0 w-full h-8 bg-black/40 backdrop-blur-md flex items-center justify-center border-t border-white/5",children:[v.jsx("div",{className:"absolute top-0 left-0 h-full bg-white/10 transition-all duration-1000",style:{width:`${Ge}%`,backgroundColor:`${He.hex}20`}}),v.jsxs("span",{className:"relative z-10 text-[10px] font-black text-white uppercase tracking-[0.2em]",children:[Ge,"% ",v.jsx("span",{className:"opacity-40 ml-1",children:"Completado"})]}),v.jsx("div",{className:"absolute top-0 left-0 h-[1px] bg-white transition-all duration-1000",style:{width:`${Ge}%`,backgroundColor:He.hex}})]})]},he.name)})}),(K==="SPECIALS"&&ne||K==="BASICS"&&V)&&v.jsx("div",{className:"animate-in fade-in pb-20",children:$e.map(he=>{var Ze;const He=K==="SPECIALS"?C0(he.title):{text:"text-white",hex:"#00f3ff"};return v.jsxs("div",{className:"mb-10",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-slate-900/60 rounded-2xl border border-white/5 shadow-xl",children:[v.jsx("div",{className:"w-12 h-12 shrink-0",children:v.jsx(T0,{teamName:he.title,dynamicLogos:me,logoFromSheet:(Ze=x.find(Ge=>Ge.name.toLowerCase()===he.title.toLowerCase()))==null?void 0:Ze.logoUrl})}),v.jsxs("div",{children:[v.jsx("h2",{className:`text-xl font-black italic uppercase ${He.text}`,children:he.title}),v.jsxs("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:[he.items.filter(Ge=>p[Ge.id]>0).length," / ",he.items.length," Cromos"]})]}),v.jsx("div",{className:"ml-auto",children:v.jsx(E0,{percentage:he.items.filter(Ge=>p[Ge.id]>0).length/he.items.length*100,color:He.hex})})]}),v.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3 sm:gap-4",children:he.items.map(Ge=>v.jsx(ZS,{sticker:Ge,count:p[Ge.id]||0,onUpdate:le,currentUserRole:i.role,onZoom:$},Ge.id))})]},he.title)})})]})}),G&&v.jsx(xN,{sticker:G,onClose:()=>$(null)}),v.jsx(SN,{isOpen:Ne,onClose:()=>ue(!1),onOpenTrade:()=>xe(!0),currentUser:i,allStickers:r}),ee&&v.jsx(bN,{message:ee,onClose:()=>fe(null),onMarkRead:it}),v.jsx(gN,{collection:p,allStickers:r}),v.jsx(yN,{isOpen:de,onClose:()=>Z(!1),onSync:()=>j(!0)}),re&&v.jsx(vN,{currentUser:i,catalog:r,onClose:()=>{xe(!1),j(!0)},trades:y})]})},EN=({onAccept:i})=>{const[t,o]=F.useState(!1),s=F.useRef(null),r=()=>{if(!s.current)return;const{scrollTop:c,scrollHeight:p,clientHeight:g}=s.current;p-c-g<5&&o(!0)};return F.useEffect(()=>{s.current&&s.current.scrollHeight<=s.current.clientHeight&&o(!0)},[]),v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[85vh] border border-slate-200",children:[v.jsxs("div",{className:"bg-gradient-to-r from-slate-900 to-slate-800 p-6 flex items-center gap-4 border-b border-slate-700 shrink-0",children:[v.jsx("div",{className:"bg-white/10 p-3 rounded-full backdrop-blur-md",children:v.jsx(k0,{className:"w-8 h-8 text-blue-400"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-white",children:"Bienvenido a CROMOCH"}),v.jsx("p",{className:"text-slate-400 text-sm",children:"Normas de la Comunidad y Uso"})]})]}),v.jsx("div",{ref:s,onScroll:r,className:"flex-1 overflow-y-auto p-6 space-y-6 bg-slate-50 relative",children:v.jsxs("div",{className:"prose prose-sm max-w-none text-slate-700",children:[v.jsx("p",{className:"font-medium text-lg text-slate-900 mb-4",children:"Por favor, lee atentamente las siguientes normas para continuar:"}),v.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200 space-y-4",children:[v.jsxs("div",{className:"flex gap-3",children:[v.jsx("span",{className:"font-bold text-blue-600 text-lg",children:"1."}),v.jsx("p",{children:'Esta app es gratuita, no buscamos un beneficio econmico, buscamos un equilibrio entre modernidad tecnolgica y tradicin. Esta app est diseada para llevar el control de tu coleccin de cromos, concretamente "ADRENALYN". sala bien.'})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("span",{className:"font-bold text-blue-600 text-lg",children:"2."}),v.jsx("p",{children:"Aade los cromos, y vers como los porcentajes van aumentando hasta conseguir el tan preciado logro."})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("span",{className:"font-bold text-blue-600 text-lg",children:"3."}),v.jsx("p",{children:"Las zonas de cambios se autorizarn o se denegarn segn el uso que le des a esta app. Crear contenido falso, o con otras intenciones, sern motivo para que no sigas en esta app."})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("span",{className:"font-bold text-blue-600 text-lg",children:"4."}),v.jsx("p",{children:"Recuerda, cuando hagas un cambio es porque vas a intentar ir a cambiar el cromo. Si tu intencin es cambiarlo otro domingo, hzselo saber en el mensaje. Si el cambio ha sido con tu colega del cole, acepta el cambio y comntalo en la zona habilitada."})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("span",{className:"font-bold text-blue-600 text-lg",children:"5."}),v.jsx("p",{children:"Queremos una app sana, bastante mal est el mundo como para contaminar una tradicin, que aunque no sea exclusiva de nios, son los que ms la disfrutan."})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("span",{className:"font-bold text-red-600 text-lg",children:"6."}),v.jsx("p",{className:"font-bold text-slate-800",children:"Todos los mensajes se quedan registrados. Cualquier mensaje que no sea acorde a esto ser eliminado. Y CUALQUIER INDICIO DE DELITO SER DENUNCIADO, COLABORANDO EN TODO MOMENTO CON LAS AUTORIDADES COMPETENTES."})]})]}),v.jsx("p",{className:"text-center text-slate-500 italic mt-4 text-xs",children:"Al aceptar, confirmas que has ledo y entendido las normas de la comunidad."})]})}),v.jsxs("div",{className:"p-4 bg-white border-t border-slate-200 shrink-0 flex flex-col gap-3",children:[!t&&v.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-amber-600 font-bold animate-pulse",children:[v.jsx(dx,{className:"w-4 h-4"}),"Desplaza hasta el final para aceptar"]}),v.jsx("button",{onClick:i,disabled:!t,className:`w-full py-4 rounded-xl font-bold text-lg transition-all flex items-center justify-center gap-2
              ${t?"bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-blue-600/30 cursor-pointer":"bg-slate-100 text-slate-400 cursor-not-allowed border border-slate-200"}`,children:t?v.jsxs(v.Fragment,{children:[v.jsx(kl,{className:"w-6 h-6"}),"He ledo y acepto las normas"]}):v.jsxs(v.Fragment,{children:[v.jsx(vS,{className:"w-5 h-5"}),"Lee las normas primero"]})})]})]})})},CN=({status:i,onClose:t})=>v.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md animate-in fade-in duration-300",children:v.jsxs("div",{className:"bg-slate-900 border border-white/10 w-full max-w-md rounded-3xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[v.jsxs("div",{className:"p-6 border-b border-white/5 flex justify-between items-center bg-slate-800/50",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-neon-blue/10 rounded-xl",children:v.jsx(M0,{className:"w-5 h-5 text-neon-blue"})}),v.jsx("h3",{className:"font-bold text-white text-lg",children:"Instalar CROMO-CH"})]}),v.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full text-slate-400 transition",children:v.jsx(Mo,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"p-6 overflow-y-auto space-y-6",children:[i.isInAppBrowser?v.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 p-4 rounded-2xl flex gap-4",children:[v.jsx(yc,{className:"w-6 h-6 text-amber-500 shrink-0"}),v.jsxs("div",{className:"text-sm",children:[v.jsx("p",{className:"text-amber-200 font-bold mb-1",children:"Navegador no compatible"}),v.jsxs("p",{className:"text-amber-200/70 leading-relaxed",children:["Ests viendo esto desde una aplicacin (WhatsApp, Instagram...). Para poder instalar, pulsa en los tres puntos y selecciona ",v.jsx("strong",{children:'"Abrir en el navegador"'})," o ",v.jsx("strong",{children:'"Abrir en Chrome/Safari"'}),"."]})]})]}):null,i.platform==="ios"&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("p",{className:"text-slate-400 text-sm",children:"Apple no permite la instalacin automtica. Sigue estos pasos en Safari:"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white/5 rounded-2xl border border-white/5",children:[v.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center text-white font-bold shrink-0",children:"1"}),v.jsxs("div",{className:"text-sm",children:[v.jsxs("p",{className:"text-white font-bold mb-1 flex items-center gap-2",children:['Pulsa "Compartir" ',v.jsx(ES,{className:"w-4 h-4 text-blue-400"})]}),v.jsx("p",{className:"text-slate-400",children:"Est en la barra inferior de tu navegador Safari."})]})]}),v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white/5 rounded-2xl border border-white/5",children:[v.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center text-white font-bold shrink-0",children:"2"}),v.jsxs("div",{className:"text-sm",children:[v.jsxs("p",{className:"text-white font-bold mb-1 flex items-center gap-2",children:['"Aadir a pantalla de inicio" ',v.jsx(US,{className:"w-4 h-4 text-blue-400"})]}),v.jsx("p",{className:"text-slate-400",children:"Baja un poco en el men que ha aparecido hasta encontrar esta opcin."})]})]})]})]}),i.platform==="android"&&v.jsxs("div",{className:"space-y-6",children:[v.jsx("p",{className:"text-slate-400 text-sm",children:"En Android puedes instalarla directamente desde Chrome:"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white/5 rounded-2xl border border-white/5",children:[v.jsx("div",{className:"w-8 h-8 bg-neon-blue rounded-lg flex items-center justify-center text-black font-bold shrink-0",children:"1"}),v.jsxs("div",{className:"text-sm",children:[v.jsx("p",{className:"text-white font-bold mb-1",children:"Pulsa los 3 puntos "}),v.jsx("p",{className:"text-slate-400",children:"Arriba a la derecha en la barra de Chrome."})]})]}),v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white/5 rounded-2xl border border-white/5",children:[v.jsx("div",{className:"w-8 h-8 bg-neon-blue rounded-lg flex items-center justify-center text-black font-bold shrink-0",children:"2"}),v.jsxs("div",{className:"text-sm",children:[v.jsx("p",{className:"text-white font-bold mb-1",children:'"Instalar aplicacin"'}),v.jsx("p",{className:"text-slate-400",children:'Si no aparece, busca "Aadir a pantalla de inicio".'})]})]})]})]}),i.platform==="desktop"&&v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{className:"flex items-start gap-4 p-4 bg-white/5 rounded-2xl border border-white/5",children:[v.jsx(Bm,{className:"w-6 h-6 text-neon-blue shrink-0"}),v.jsxs("div",{className:"text-sm",children:[v.jsx("p",{className:"text-white font-bold mb-1 text-base",children:"Instalar en Ordenador"}),v.jsxs("p",{className:"text-slate-400",children:['Busca el icono de "Instalar" ',v.jsx(Bm,{className:"inline w-4 h-4 mx-1"})," en la barra de direcciones de Chrome o Edge (a la derecha de la URL)."]})]})]})}),v.jsx("div",{className:"pt-4",children:v.jsxs("div",{className:"p-4 bg-black/40 rounded-2xl border border-white/5 flex items-center gap-4",children:[v.jsx(I0,{className:"w-5 h-5 text-slate-500 shrink-0"}),v.jsxs("div",{className:"text-[10px] text-slate-500 leading-tight",children:[v.jsx("p",{className:"font-bold mb-1 uppercase tracking-wider",children:"Por qu instalar?"}),v.jsx("p",{children:"Las Web Apps instaladas cargan ms rpido, ocupan menos espacio y funcionan sin las barras del navegador, como una app nativa."})]})]})})]}),v.jsx("div",{className:"p-6 border-t border-white/5 bg-slate-800/30",children:v.jsx("button",{onClick:t,className:"w-full bg-white text-black font-bold py-3.5 rounded-xl hover:bg-slate-200 transition active:scale-95",children:"Entendido"})})]})}),ju="adrenalyn26_rules_accepted_v1",AN=()=>{const[i,t]=F.useState(null),[o,s]=F.useState("AUTH"),[r,c]=F.useState(!0),[p,g]=F.useState(null),[y,h]=F.useState(!1),[x,b]=F.useState(!1),[_,E]=F.useState({sw:!1,isStandalone:!1,isInAppBrowser:!1,platform:"unknown"}),[w,k]=F.useState(()=>!localStorage.getItem(ju));F.useEffect(()=>{const Y=we.getCurrentUser();Y&&(t(Y),s("DASHBOARD"));const V=navigator.userAgent,q=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,ne=/iPad|iPhone|iPod/.test(V)&&!window.MSStream,X=/Android/.test(V),de=/FBAN|FBAV|Instagram|Twitter|WhatsApp/.test(V);h(q),E({sw:"serviceWorker"in navigator,isStandalone:q,isInAppBrowser:de,platform:ne?"ios":X?"android":"desktop"});const Z=re=>{re.preventDefault(),g(re),console.log("Evento PWA capturado")};return window.addEventListener("beforeinstallprompt",Z),window.addEventListener("appinstalled",()=>{h(!0),g(null)}),c(!1),()=>window.removeEventListener("beforeinstallprompt",Z)},[]);const M=async()=>{if(p){p.prompt();const{outcome:Y}=await p.userChoice;Y==="accepted"&&g(null)}else b(!0)},B=Y=>{t(Y),s("DASHBOARD"),localStorage.getItem(ju)||k(!0)},K=()=>{we.logout(),t(null),s("AUTH")};return r?v.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:v.jsx("div",{className:"w-8 h-8 border-4 border-neon-blue border-t-transparent rounded-full animate-spin"})}):v.jsxs(v.Fragment,{children:[o==="AUTH"&&v.jsx(KS,{onLogin:B,isInstallable:!y,onInstall:M}),o==="DASHBOARD"&&i&&v.jsxs(v.Fragment,{children:[v.jsx(TN,{user:i,onLogout:K,isInstallable:!y,onInstall:M}),w&&v.jsx(EN,{onAccept:()=>{localStorage.setItem(ju,"true"),k(!1)}})]}),x&&v.jsx(CN,{status:_,onClose:()=>b(!1)})]})},Rg=document.getElementById("root");if(!Rg)throw new Error("Could not find root element to mount to");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(i=>console.log("SW activo:",i.scope)).catch(i=>console.warn("SW no registrado (modo desarrollo o error):",i))});const NN=Wv.createRoot(Rg);NN.render(v.jsx(pc.StrictMode,{children:v.jsx(AN,{})}));
